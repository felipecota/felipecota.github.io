webpackJsonp([0],{"+VeI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("pHuv"),o=n("F1yO"),a=n("PKQO"),s=n("xfHL");n("VzZx");var u;e.RepoManager=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return u||(u=new t),u},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&o.fatal("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=a.parseRepoInfo(n),i=r.repoInfo;return s.validateUrl("Invalid Firebase Database URL",1,r),r.path.isEmpty()||o.fatal("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=r.safeGet(this.repos_,t.app.name);e&&r.safeGet(e,t.repoInfo_.toURLString())===t||o.fatal("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=r.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var a=r.safeGet(n,t.toURLString());return a&&o.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new i.Repo(t,this.useRestClient_,e),n[t.toURLString()]=a,a},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}()},"/0OS":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("ertD"),o=n("JEJ4");e.ChildChangeAccumulator=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;o.assert(e==i.Change.CHILD_ADDED||e==i.Change.CHILD_CHANGED||e==i.Change.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var a=r.safeGet(this.changeMap_,n);if(a){var s=a.type;if(e==i.Change.CHILD_ADDED&&s==i.Change.CHILD_REMOVED)this.changeMap_[n]=i.Change.childChangedChange(n,t.snapshotNode,a.snapshotNode);else if(e==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_ADDED)delete this.changeMap_[n];else if(e==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_CHANGED)this.changeMap_[n]=i.Change.childRemovedChange(n,a.oldSnap);else if(e==i.Change.CHILD_CHANGED&&s==i.Change.CHILD_ADDED)this.changeMap_[n]=i.Change.childAddedChange(n,t.snapshotNode);else{if(e!=i.Change.CHILD_CHANGED||s!=i.Change.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap_[n]=i.Change.childChangedChange(n,t.snapshotNode,a.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return r.getValues(this.changeMap_)},t}()},"/68J":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),i=n("kCHx"),o=n("fvGz"),a=n("JEJ4");e.Merge=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=r.OperationType.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new o.Path(e));return n.isEmpty()?null:n.value?new i.Overwrite(this.source,o.Path.Empty,n.value):new t(this.source,o.Path.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}()},"/9hx":function(t,e,n){n("hFw6")},"/HC2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4");e.StatsCollection=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),i.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return r.deepCopy(this.counters_)},t}()},"/byE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},"/fob":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o,a=n("GboV"),s=n("F1yO"),u=n("p+VM"),l=n("04zk");e.setNodeFromJSON=function(t){i=t},e.setMaxNode=function(t){o=t};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?s.nameCompare(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return u.NamedNode.MIN},e.prototype.maxPost=function(){return new u.NamedNode(s.MAX_NAME,new l.LeafNode("[PRIORITY-POST]",o))},e.prototype.makePost=function(t,e){var n=i(t);return new u.NamedNode(e,new l.LeafNode("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(a.Index);e.PriorityIndex=c,e.PRIORITY_INDEX=new c},"/ygB":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},e.extend=function(t,n){return e.forEach(n,function(e,n){t[e]=n}),t},e.clone=function(t){return e.extend({},t)},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},e.findValue=function(t,n,r){var i=e.findKey(t,n,r);return i&&t[i]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},0:function(t,e,n){t.exports=n("cDNt")},"04zk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("F1yO"),a=n("3FiG");e.LeafNode=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,i.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),a.validatePriorityNode(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(i.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+a.priorityHashText(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?o.doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=o.sha1(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(i.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return i.assert(o>=0,"Unknown leaf type: "+n),i.assert(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}()},"0hmO":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("JEJ4"),o=n("YY8E"),a=n("JEJ4");e.OnlineMonitor=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return r(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return i.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(o.EventEmitter)},"0npo":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("W4Cj"),i=n("KH1l"),o=n("R3TC"),a=n("y8hQ"),s=n("bN85"),u=n("9kU/"),l=n("JEJ4"),c=n("gOHv"),h=n("ertD"),p=n("/fob");e.View=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),l=new r.IndexedFilter(n.getIndex()),c=n.getNodeFilter();this.processor_=new i.ViewProcessor(c);var h=e.getServerCache(),p=e.getEventCache(),f=l.updateFullNode(o.ChildrenNode.EMPTY_NODE,h.getNode(),null),d=c.updateFullNode(o.ChildrenNode.EMPTY_NODE,p.getNode(),null),g=new a.CacheNode(f,h.isFullyInitialized(),l.filtersNodes()),y=new a.CacheNode(d,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=new s.ViewCache(y,g),this.eventGenerator_=new u.EventGenerator(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){l.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===c.OperationType.MERGE&&null!==t.source.queryId&&(l.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),l.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),l.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(p.PRIORITY_INDEX,function(t,e){n.push(h.Change.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(h.Change.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}()},"1WNV":function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(){if(!f){var t=i(function(){f&&h&&(f=!1,h.length?p=h.concat(p):d=-1,p.length&&o())});f=!0;for(var e=p.length;e;){for(h=p,p=[];++d<e;)h&&h[d].run();d=-1,e=p.length}h=null,f=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function s(){}var u,l,c=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var h,p=[],f=!1,d=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new a(t,e)),1!==p.length||f||i(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.prependListener=s,c.prependOnceListener=s,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"1j/l":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},"1zSO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.DOMStorageWrapper=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),r.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:r.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}()},"2BLv":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("isNy"),i=n("isNy"),o=Math.log(2),a=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/o,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}();e.buildChildSet=function(t,e,n,o){t.sort(e);var s=function(e,i){var o,a,u=i-e;if(0==u)return null;if(1==u)return o=t[e],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,null,null);var l=parseInt(u/2,10)+e,c=s(e,l),h=s(l+1,i);return o=t[l],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,c,h)},u=function(e){for(var i=null,o=null,a=t.length,u=function(e,i){var o=a-e,u=a;a-=e;var c=s(o+1,u),h=t[o],p=n?n(h):h;l(new r.LLRBNode(p,h.node,i,null,c))},l=function(t){i?(i.left=t,i=t):(o=t,i=t)},c=0;c<e.count;++c){var h=e.nextBitIsOne(),p=Math.pow(2,e.count-(c+1));h?u(p,r.LLRBNode.BLACK):(u(p,r.LLRBNode.BLACK),u(p,r.LLRBNode.RED))}return o}(new a(t.length));return new i.SortedMap(o||e,u)}},"2kLc":function(t,e,n){"use strict";var r=n("AP4T"),i=n("Oryw"),o=n("bywS"),a=n("3iOE");n.d(e,"a",function(){return s});var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(a.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(new i.a(t,s))}},"2kNe":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("dVae"),i=n("fvGz"),o=n("JEJ4"),a=n("p+VM"),s=n("/fob"),u=n("JEJ4");e.CompoundWrite=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new r.ImmutableTree(n));var o=this.writeTree_.findRootMostValueAndPath(e);if(null!=o){var a=o.path,s=o.value,u=i.Path.relativePath(a,e);return s=s.updateChild(u,n),new t(this.writeTree_.set(a,s))}var l=new r.ImmutableTree(n);return new t(this.writeTree_.setTree(e,l))},t.prototype.addWrites=function(t,e){var n=this;return o.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,r.ImmutableTree.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(i.Path.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(s.PRIORITY_INDEX,function(e,n){t.push(new a.NamedNode(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new a.NamedNode(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new r.ImmutableTree(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(i.Path.Empty,this.writeTree_,e)},t.Empty=new t(new r.ImmutableTree(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(u.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}()},"2mdx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("EqqR");e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;r.assert(++i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},"32XG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=function(){this.blockSize=-1}},"3FiG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("F1yO"),a=n("JEJ4");e.setMaxNode=function(t){r=t},e.priorityHashText=function(t){return"number"==typeof t?"number:"+o.doubleToIEEE754String(t):"string:"+t},e.validatePriorityNode=function(t){if(t.isLeafNode()){var e=t.val();i.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else i.assert(t===r||t.isEmpty(),"priority of unexpected type.");i.assert(t===r||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},"3iOE":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"43Go":function(t,e,n){"use strict";function r(t,e){if(void 0===e&&(e=null),null===t)return i.ChildrenNode.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),u.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new o.LeafNode(t,r(e));if(t instanceof Array||!f){var n=i.ChildrenNode.EMPTY_NODE,d=t;return s.forEach(d,function(t,e){if(s.contains(d,t)&&"."!==t.substring(0,1)){var i=r(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(r(e))}var g=[],y=!1,m=t;if(s.forEach(m,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=r(m[t]);n.isEmpty()||(y=y||!n.getPriority().isEmpty(),g.push(new a.NamedNode(t,n)))}}),0==g.length)return i.ChildrenNode.EMPTY_NODE;var v=l.buildChildSet(g,c.NAME_ONLY_COMPARATOR,function(t){return t.name},c.NAME_COMPARATOR);if(y){var _=l.buildChildSet(g,p.PRIORITY_INDEX.getCompare());return new i.ChildrenNode(v,r(e),new h.IndexMap({".priority":_},{".priority":p.PRIORITY_INDEX}))}return new i.ChildrenNode(v,r(e),h.IndexMap.Default)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("R3TC"),o=n("04zk"),a=n("p+VM"),s=n("JEJ4"),u=n("JEJ4"),l=n("2BLv"),c=n("zFzr"),h=n("b5Wm"),p=n("/fob"),f=!0;e.nodeFromJSON=r,p.setNodeFromJSON(r)},"5pXs":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("oyal"),o=n("EAgh"),a=n("F1yO"),s=n("sZ8A"),u=n("rB9K"),l=n("pHuv"),c=n("fvGz"),h=n("miEe"),p=n("xfHL"),f=n("JEJ4"),d=n("JEJ4"),g=n("uCc5"),y=function(t){function e(e,n){if(!(e instanceof l.Repo))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,h.QueryParams.DEFAULT,!1)||this}return r(e,t),e.prototype.getKey=function(){return f.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return f.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof c.Path||(null===this.path.getFront()?p.validateRootPathString("Reference.child",1,t,!1):p.validatePathString("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){f.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){f.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){f.validateArgCount("Reference.set",1,2,arguments.length),p.validateWritablePath("Reference.set",this.path),p.validateFirebaseDataArg("Reference.set",1,t,this.path,!1),f.validateCallback("Reference.set",2,e,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(f.validateArgCount("Reference.update",1,2,arguments.length),p.validateWritablePath("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,a.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}p.validateFirebaseMergeDataArg("Reference.update",1,t,this.path,!1),f.validateCallback("Reference.update",2,e,!0);var i=new d.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(f.validateArgCount("Reference.setWithPriority",2,3,arguments.length),p.validateWritablePath("Reference.setWithPriority",this.path),p.validateFirebaseDataArg("Reference.setWithPriority",1,t,this.path,!1),p.validatePriority("Reference.setWithPriority",2,e,!1),f.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new d.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return f.validateArgCount("Reference.remove",0,1,arguments.length),p.validateWritablePath("Reference.remove",this.path),f.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(f.validateArgCount("Reference.transaction",1,3,arguments.length),p.validateWritablePath("Reference.transaction",this.path),f.validateCallback("Reference.transaction",1,t,!1),f.validateCallback("Reference.transaction",2,e,!0),p.validateBoolean("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new d.Deferred;return"function"==typeof e&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new o.TransactionResult(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){f.validateArgCount("Reference.setPriority",1,2,arguments.length),p.validateWritablePath("Reference.setPriority",this.path),p.validatePriority("Reference.setPriority",1,t,!1),f.validateCallback("Reference.setPriority",2,e,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){f.validateArgCount("Reference.push",0,2,arguments.length),p.validateWritablePath("Reference.push",this.path),p.validateFirebaseDataArg("Reference.push",1,t,this.path,!0),f.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=s.nextPushId(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return p.validateWritablePath("Reference.onDisconnect",this.path),new i.OnDisconnect(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(u.Query);e.Reference=y,u.Query.__referenceConstructor=y,g.SyncPoint.__referenceConstructor=y},"6Xbx":function(t,e,n){"use strict";e.b=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"a",function(){return i});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},"6oqh":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("JEJ4"),o=n("F1yO"),a=n("JEJ4"),s=n("JEJ4"),u=n("JEJ4"),l=n("zzcx");e.ReadonlyRestClient=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=o.logWrapper("p:rest:"),i.listens_={},i}return r(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(i.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),l={};this.listens_[u]=l;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===l&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(e.auth=s);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+u.querystring(e);r.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=a.jsonEval(c.responseText)}catch(t){o.warn("Failed to parse JSON response for "+l+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&o.warn("Got unsuccessful REST response for "+l+" Status: "+c.status),n(c.status);n=null}},c.open("GET",l,!0),c.send()})},e}(l.ServerActions)},"7qHF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mZoP"),i=n("xhf5"),o=n("+VeI"),a=n("j0qB");e.DataConnection=i.PersistentConnection,i.PersistentConnection.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},i.PersistentConnection.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},e.RealTimeConnection=a.Connection,e.hijackHash=function(t){var e=i.PersistentConnection.prototype.put;return i.PersistentConnection.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){i.PersistentConnection.prototype.put=e}},e.ConnectionTarget=r.RepoInfo,e.queryIdentifier=function(t){return t.queryIdentifier()},e.listens=function(t){return t.repo.persistentConnection_.listens_},e.forceRestClient=function(t){o.RepoManager.getInstance().forceRestClient(t)}},"8Ut3":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(r.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(n("AP4T").a)},"8UuO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("PKQO"),o=n("fvGz"),a=n("5pXs"),s=n("pHuv"),u=n("+VeI"),l=n("JEJ4"),c=n("xfHL");e.Database=function(){function t(t){this.repo_=t,t instanceof s.Repo||r.fatal("Don't call new Database() directly - please use firebase.database()."),this.root_=new a.Reference(t,o.Path.Empty),this.INTERNAL=new h(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),l.validateArgCount("database.ref",0,1,arguments.length),void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),l.validateArgCount(e,1,1,arguments.length);var n=i.parseRepoInfo(t);c.validateUrl(e,1,n);var o=n.repoInfo;return o.host!==this.repo_.repoInfo_.host&&r.fatal(e+": Host name does not match the current database: (found "+o.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&r.fatal("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){l.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){l.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}();var h=function(){function t(t){this.database=t}return t.prototype.delete=function(){return this.database.checkDeleted_("delete"),u.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,Promise.resolve()},t}();e.DatabaseInternals=h},"8ofh":function(t,e,n){"use strict";e.a=function(t){return r=t,function(){try{return r.apply(this,arguments)}catch(t){return i.a.e=t,i.a}}};var r,i=n("NePw")},"9ard":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("XtH8"),i=n("JEJ4"),o=n("F1yO"),a=n("cm6g"),s=n("UcKF"),u=n("JEJ4"),l=n("Rgd9"),c=n("JEJ4"),h=n("JEJ4"),p=null;"undefined"!=typeof MozWebSocket?p=MozWebSocket:"undefined"!=typeof WebSocket&&(p=WebSocket),e.setWebSocketImpl=function(t){p=t},e.WebSocketConnection=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=o.logWrapper(this.connId),this.stats_=a.StatsManager.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(t,e,n){var r={};return r[s.VERSION_PARAM]=s.PROTOCOL_VERSION,!h.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(r[s.REFERER_PARAM]=s.FORGE_REF),e&&(r[s.TRANSPORT_SESSION_PARAM]=e),n&&(r[s.LAST_SESSION_PARAM]=n),t.connectionURL(s.WEBSOCKET,r)},e.prototype.open=function(e,n){var i=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,l.PersistentStorage.set("previous_websocket_failure",!0);try{if(h.isNodeSdk()){var o={headers:{"User-Agent":"Firebase/"+s.PROTOCOL_VERSION+"/"+r.default.SDK_VERSION+"/"+t.platform+"/"+(u.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},a=t.env,c=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;c&&(o.proxy={origin:c}),this.mySock=new p(this.connURL,[],o)}else this.mySock=new p(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var f=t.message||t.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(t){i.handleIncomingFrame(t)},this.mySock.onerror=function(t){i.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&i.log_(e),i.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==p&&!e.forceDisallow_},e.previouslyFailed=function(){return l.PersistentStorage.isInMemoryStorage||!0===l.PersistentStorage.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){l.PersistentStorage.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=c.jsonEval(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(i.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=c.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=o.splitStringBySize(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}()}).call(e,n("1WNV"))},"9kU/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("p+VM"),i=n("ertD"),o=n("JEJ4");e.EventGenerator=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],a=[];return t.forEach(function(t){t.type===i.Change.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push(i.Change.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,i.Change.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,i.Change.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,i.Change.CHILD_MOVED,a,n,e),this.generateEventsForType_(o,i.Change.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,i.Change.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw o.assertionError("Should only compare child_ events.");var n=new r.NamedNode(t.childName,t.snapshotNode),i=new r.NamedNode(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}()},A4jy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.DataEvent=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+r.stringify(this.snapshot.exportVal())},t}(),e.CancelEvent=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}()},AP4T:function(t,e,n){"use strict";var r=n("xIGM"),i=n("E9/g"),o=n("V7AE"),a=n("grVA"),s=n("mz3w"),u=n("ExCY");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(r?r.call(s,this.source):s.add(this.source?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Object(u.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},B1iP:function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},B2QA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4"),o=n("fvGz"),a=n("2kNe"),s=n("/fob"),u=n("R3TC");e.WriteTree=function(){function t(){this.visibleWrites_=a.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new l(t,this)},t.prototype.addOverwrite=function(t,e,n,r){i.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){i.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});i.assert(n>=0,"removeWrite called with nonexistent writeId.");var o=this.allWrites_[n];this.allWrites_.splice(n,1);for(var a=o.visible,s=!1,u=this.allWrites_.length-1;a&&u>=0;){var l=this.allWrites_[u];l.visible&&(u>=n&&this.recordContainsPath_(l,o.path)?a=!1:o.path.contains(l.path)&&(s=!0)),u--}return!!a&&(s?(this.resetTree_(),!0):(o.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(o.path):r.forEach(o.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(o.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var a=this.visibleWrites_.childCompoundWrite(e);if(!i&&a.isEmpty())return n;if(i||null!=n||a.hasCompleteWrite(o.Path.Empty)){var s=t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e),l=n||u.ChildrenNode.EMPTY_NODE;return s.apply(l)}return null}var c=this.visibleWrites_.getCompleteNode(e);if(null!=c)return c;var h=this.visibleWrites_.childCompoundWrite(e);return h.isEmpty()?n:null!=n||h.hasCompleteWrite(o.Path.Empty)?h.apply(l=n||u.ChildrenNode.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=u.ChildrenNode.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(s.PRIORITY_INDEX,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(s.PRIORITY_INDEX,function(t,e){var r=i.childCompoundWrite(new o.Path(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){i.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,a){var s,u=this.visibleWrites_.childCompoundWrite(t),l=u.getCompleteNode(o.Path.Empty);if(null!=l)s=l;else{if(null==e)return[];s=u.apply(e)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),p=i?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),f=p.getNext();f&&c.length<r;)0!==h(f,n)&&c.push(f),f=p.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!r.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,o.Path.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var s=a.CompoundWrite.Empty,u=0;u<t.length;++u){var l=t[u];if(e(l)){var c=l.path,h=void 0;if(l.snap)n.contains(c)?(h=o.Path.relativePath(n,c),s=s.addWrite(h,l.snap)):c.contains(n)&&(h=o.Path.relativePath(c,n),s=s.addWrite(o.Path.Empty,l.snap.getChild(h)));else{if(!l.children)throw i.assertionError("WriteRecord should have .snap or .children");if(n.contains(c))h=o.Path.relativePath(n,c),s=s.addWrites(h,l.children);else if(c.contains(n))if((h=o.Path.relativePath(c,n)).isEmpty())s=s.addWrites(o.Path.Empty,l.children);else{var p=r.safeGet(l.children,h.getFront());if(p){var f=p.getChild(h.popFront());s=s.addWrite(o.Path.Empty,f)}}}}}return s},t}();var l=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();e.WriteTreeRef=l},CIVu:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("YY8E"),o=n("JEJ4");e.VisibilityMonitor=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return r(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(i.EventEmitter)},COMn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Error.captureStackTrace;e.patchCapture=function(t){var e=r;return r=t,e};var i=function(){return function(t,e){if(this.code=t,this.message=e,r)r(this,o.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();e.FirebaseError=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name="FirebaseError";var o=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var a=new i(o,n=this.serviceName+": "+n+" ("+o+").");for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(a[s]=e[s]);return a},t}();e.ErrorFactory=o},Dvgu:function(t,e,n){t.exports=n("tYwN")},"E9/g":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("B1iP"),o=n("qLnt"),a=n("grVA"),s=n("V7AE"),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.a;break;case 1:if(!n){this.destination=a.a;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,n,r,i)}}return Object(r.b)(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),l=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var s,u=this;Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return Object(r.b)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},EAgh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.TransactionResult=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return r.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}()},"Ecq+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e){t.call(this),this.scheduler=e}return Object(r.b)(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(n("AP4T").a)},EqqR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/byE");e.assert=function(t,n){if(!t)throw e.assertionError(n)},e.assertionError=function(t){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}},ExCY:function(t,e,n){"use strict";function r(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:function(){}}e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r(t)},e.b=r},F1yO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4"),o=n("JEJ4"),a=n("JEJ4"),s=n("JEJ4"),u=n("JEJ4"),l=n("Rgd9"),c=n("JEJ4");e.LUIDGenerator=function(){var t=1;return function(){return t++}}(),e.sha1=function(t){var e=s.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)};var h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=h.apply(null,t[r]):n+="object"==typeof t[r]?u.stringify(t[r]):t[r],n+=" ";return n};e.logger=null;var p=!0;e.enableLogging=function(t,n){r.assert(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?e.logger=console.log.bind(console):"object"==typeof console.log&&(e.logger=function(t){console.log(t)})),n&&l.SessionStorage.set("logging_enabled",!0)):"function"==typeof t?e.logger=t:(e.logger=null,l.SessionStorage.remove("logging_enabled"))},e.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!0===p&&(p=!1,null===e.logger&&!0===l.SessionStorage.get("logging_enabled")&&e.enableLogging(!0)),e.logger){var r=h.apply(null,t);e.logger(r)}},e.logWrapper=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.log.apply(void 0,[t].concat(n))}},e.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE INTERNAL ERROR: "+h.apply(void 0,t);void 0!==console.error?console.error(n):console.log(n)}},e.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=h.apply(void 0,t);throw new Error("FIREBASE FATAL ERROR: "+n)},e.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof console){var n="FIREBASE WARNING: "+h.apply(void 0,t);void 0!==console.warn?console.warn(n):console.log(n)}},e.warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&e.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},e.warnAboutUnsupportedMethod=function(t){e.warn(t+" is unsupported and will likely change soon.  Please do not use.")},e.isInvalidJSONNumber=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},e.executeWhenDOMReady=function(t){if(c.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},e.MIN_NAME="[MIN_NAME]",e.MAX_NAME="[MAX_NAME]",e.nameCompare=function(t,n){if(t===n)return 0;if(t===e.MIN_NAME||n===e.MAX_NAME)return-1;if(n===e.MIN_NAME||t===e.MAX_NAME)return 1;var r=e.tryParseInt(t),i=e.tryParseInt(n);return null!==r?null!==i?r-i==0?t.length-n.length:r-i:-1:null!==i?1:t<n?-1:1},e.stringCompare=function(t,e){return t===e?0:t<e?-1:1},e.requireKey=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+u.stringify(e))},e.ObjectToUniqueKey=function(t){if("object"!=typeof t||null===t)return u.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=u.stringify(n[o]),i+=":",i+=e.ObjectToUniqueKey(t[n[o]]);return i+="}"},e.splitStringBySize=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(i+e>n?t.substring(i,n):t.substring(i,i+e));return r},e.each=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else i.forEach(t,function(t,n){return e(n,t)})},e.bindCallback=function(t,e){return e?t.bind(e):t},e.doubleToIEEE754String=function(t){r.assert(!e.isInvalidJSONNumber(t),"Invalid JSON number");var n,i,o,a,s,u,l;for(0===t?(i=0,o=0,n=1/t==-1/0?1:0):(n=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(i=(a=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(i=0,o=Math.round(t/Math.pow(2,-1074)))),u=[],s=52;s;s-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(n?1:0),u.reverse(),l=u.join("");var c="";for(s=0;s<64;s+=8){var h=parseInt(l.substr(s,8),2).toString(16);1===h.length&&(h="0"+h),c+=h}return c.toLowerCase()},e.isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},e.isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},e.errorForServerCode=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},e.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),e.tryParseInt=function(t){if(e.INTEGER_REGEXP_.test(t)){var n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},e.exceptionGuard=function(t){try{t()}catch(t){setTimeout(function(){throw e.warn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},e.callUserCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"==typeof t&&e.exceptionGuard(function(){t.apply(void 0,n)})},e.beingCrawled=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},e.exportPropGetter=function(t,e,n){Object.defineProperty(t,e,{get:n})},e.setTimeoutNonBlocking=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}},FGYS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qYrH"),i=n("9ard"),o=n("F1yO");e.TransportManager=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[r.BrowserPollConnection,i.WebSocketConnection]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=i.WebSocketConnection&&i.WebSocketConnection.isAvailable(),r=n&&!i.WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(n||o.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[i.WebSocketConnection];else{var a=this.transports_=[];o.each(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&a.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}()},FOvx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("gOHv");e.ListenComplete=function(){function t(t,e){this.source=t,this.path=e,this.type=i.OperationType.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,r.Path.Empty):new t(this.source,this.path.popFront())},t}()},Fwmd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.MemoryStorage=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return r.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}()},G0Qy:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("JEJ4"),o=n("F1yO"),a=n("GboV"),s=n("R3TC"),u=n("p+VM"),l=n("43Go");e.PathIndex=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,i.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?o.nameCompare(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=l.nodeFromJSON(t),r=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new u.NamedNode(e,r)},e.prototype.maxPost=function(){var t=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,s.MAX_NODE);return new u.NamedNode(o.MAX_NAME,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(a.Index)},GEki:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("y8hQ"),i=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}();e.NoCompleteChildSource_=i,e.NO_COMPLETE_CHILD_SOURCE=new i,e.WriteTreeCompleteChildSource=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new r.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}()},GboV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("p+VM"),i=n("F1yO");e.Index=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new r.NamedNode(i.MIN_NAME,t),o=new r.NamedNode(i.MIN_NAME,e);return 0!==this.compare(n,o)},t.prototype.minPost=function(){return r.NamedNode.MIN},t}()},GnQ5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("xfHL"),o=n("fvGz"),a=n("/fob");e.DataSnapshot=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return r.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return r.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return r.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return r.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){r.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),i.validatePathString("DataSnapshot.child",1,e,!1);var n=new o.Path(e),s=this.ref_.child(n);return new t(this.node_.getChild(n),s,a.PRIORITY_INDEX)},t.prototype.hasChild=function(t){r.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),i.validatePathString("DataSnapshot.hasChild",1,t,!1);var e=new o.Path(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return r.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return r.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),r.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),a.PRIORITY_INDEX))})},t.prototype.hasChildren=function(){return r.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return r.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return r.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}()},Htcq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("F1yO"),o=n("rbSf"),a=n("R3TC"),s=n("JEJ4"),u=n("dVae"),l=n("FOvx"),c=n("/68J"),h=n("gOHv"),p=n("kCHx"),f=n("fvGz"),d=n("uCc5"),g=n("B2QA");e.SyncTree=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=u.ImmutableTree.Empty,this.pendingWriteTree_=new g.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new c.Merge(h.OperationSource.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(f.Path.Empty,!0):s.forEach(n.children,function(t,e){r=r.set(new f.Path(t),e)}),this.applyOperationToSyncPoints_(new o.AckUserWrite(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new p.Overwrite(h.OperationSource.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=u.ImmutableTree.fromObject(e);return this.applyOperationToSyncPoints_(new c.Merge(h.OperationSource.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new l.ListenComplete(h.OperationSource.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=f.Path.relativePath(a,e),l=new p.Overwrite(h.OperationSource.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,l=f.Path.relativePath(a,e),p=u.ImmutableTree.fromObject(n),d=new c.Merge(h.OperationSource.forServerTaggedQuery(s),l,p);return this.applyTaggedOperation_(a,d)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=f.Path.relativePath(o,e),u=new l.ListenComplete(h.OperationSource.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,o=null,s=!1;this.syncPointTree_.foreachOnPath(i,function(t,e){var n=f.Path.relativePath(t,i);o=o||e.getCompleteServerCache(n),s=s||e.hasCompleteView()});var u=this.syncPointTree_.get(i);u?(s=s||u.hasCompleteView(),o=o||u.getCompleteServerCache(f.Path.Empty)):(u=new d.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(i,u));var l;null!=o?l=!0:(l=!1,o=a.ChildrenNode.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=e.getCompleteServerCache(f.Path.Empty);n&&(o=o.updateImmediateChild(t,n))}));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var h=t.makeQueryKey_(e);r.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var p=t.getNextQueryTag_();this.queryToTagMap_[h]=p,this.tagToQueryMap_["_"+p]=h}var g=this.pendingWriteTree_.childWrites(i),y=u.addEventRegistration(e,n,g,o,l);if(!c&&!s){var m=u.viewForQuery(e);y=y.concat(this.setupListener_(e,m))}return y},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(c&&!h){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(p),d=0;d<f.length;++d){var g=f[d],y=g.getQuery(),m=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),m.hashFn,m.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=f.Path.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),s.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,o=this.tagForQuery_(e),a=this.createListenerForView_(n),u=this.listenProvider_.startListening(t.queryForListening_(e),o,a.hashFn,a.onComplete),l=this.syncPointTree_.subtree(i);if(o)r.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),s.forEach(n,function(t,e){r=r.concat(e)}),r}),h=0;h<c.length;++h){var p=c[h];this.listenProvider_.stopListening(t.queryForListening_(p),this.tagForQuery_(p))}return u},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||a.ChildrenNode.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var o=i.errorForServerCode(t,n);return e.removeEventRegistration(n,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return r.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new f.Path(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return s.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);r.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(f.Path.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(f.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(f.Path.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(f.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(f.Path.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}()},Hyt9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}()},JCUt:function(t,e,n){"use strict";function r(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=r(t[i],e[i]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=function(t){return r(void 0,t)},e.deepExtend=r,e.patchProperty=function(t,e,n){t[e]=n}},JEJ4:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("EqqR")),r(n("e9+7")),r(n("/byE")),r(n("JCUt")),r(n("Hyt9")),r(n("U4XL")),r(n("COMn")),r(n("WH8D")),r(n("NYZW")),r(n("/ygB")),r(n("NeHU")),r(n("uzI5")),r(n("Xp63")),r(n("Tmcl")),r(n("2mdx"))},KH1l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),i=n("JEJ4"),o=n("/0OS"),a=n("ertD"),s=n("R3TC"),u=n("stu6"),l=n("dVae"),c=n("fvGz"),h=n("GEki"),p=function(t,e){this.viewCache=t,this.changes=e};e.ProcessorResult=p,e.ViewProcessor=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){i.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),i.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,a,s){var u,l,c=new o.ChildChangeAccumulator;if(n.type===r.OperationType.OVERWRITE){var h=n;h.source.fromUser?u=this.applyUserOverwrite_(e,h.path,h.snap,a,s,c):(i.assert(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.getServerCache().isFiltered()&&!h.path.isEmpty(),u=this.applyServerOverwrite_(e,h.path,h.snap,a,s,l,c))}else if(n.type===r.OperationType.MERGE){var f=n;f.source.fromUser?u=this.applyUserMerge_(e,f.path,f.children,a,s,c):(i.assert(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.getServerCache().isFiltered(),u=this.applyServerMerge_(e,f.path,f.children,a,s,l,c))}else if(n.type===r.OperationType.ACK_USER_WRITE){var d=n;u=d.revert?this.revertUserWrite_(e,d.path,a,s,c):this.ackUserWrite_(e,d.path,d.affectedTree,a,s,c)}else{if(n.type!==r.OperationType.LISTEN_COMPLETE)throw i.assertionError("Unknown operation type: "+n.type);u=this.listenComplete_(e,n.path,a,c)}var g=c.getChanges();return t.maybeAddValueEvent_(e,u,g),new p(u,g)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(a.Change.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,o){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var u=void 0,l=void 0;if(e.isEmpty())if(i.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),h=n.calcCompleteEventChildren(c instanceof s.ChildrenNode?c:s.ChildrenNode.EMPTY_NODE);u=this.filter_.updateFullNode(t.getEventCache().getNode(),h,o)}else{var p=n.calcCompleteEventCache(t.getCompleteServerSnap());u=this.filter_.updateFullNode(t.getEventCache().getNode(),p,o)}else{var f=e.getFront();if(".priority"==f){i.assert(1==e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();l=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,d,l);u=null!=g?this.filter_.updatePriority(d,g):a.getNode()}else{var y=e.popFront(),m=void 0;if(a.isCompleteForChild(f)){l=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),l);m=null!=v?a.getNode().getImmediateChild(f).updateChild(y,v):a.getNode().getImmediateChild(f)}else m=n.calcCompleteChild(f,t.getServerCache());u=null!=m?this.filter_.updateChild(a.getNode(),f,m,y,r,o):a.getNode()}}return t.updateEventSnap(u,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var p=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(p).updateChild(f,n);s=".priority"==p?l.updatePriority(u.getNode(),d):l.updateChild(u.getNode(),p,d,f,h.NO_COMPLETE_CHILD_SOURCE,null)}var g=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),y=new h.WriteTreeCompleteChildSource(r,g,i);return this.generateEventCacheAfterServerEvent_(g,e,r,y,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,u,l=t.getEventCache(),c=new h.WriteTreeCompleteChildSource(r,t,i);if(e.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var p=e.getFront();if(".priority"===p)u=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(u,l.isFullyInitialized(),l.isFiltered());else{var f=e.popFront(),d=l.getNode().getImmediateChild(p),g=void 0;if(f.isEmpty())g=n;else{var y=c.getCompleteChild(p);g=null!=y?".priority"===f.getBack()&&y.getChild(f.parent()).isEmpty()?y:y.updateChild(f,n):s.ChildrenNode.EMPTY_NODE}if(d.equals(g))a=t;else{var m=this.filter_.updateChild(l.getNode(),p,g,f,c,o);a=t.updateEventSnap(m,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,h=t;u=e.isEmpty()?n:l.ImmutableTree.Empty.setTree(e,n);var p=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(p.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),l=s.applyMerge_(u,n);h=s.applyServerOverwrite_(h,new c.Path(e),l,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!p.hasChild(e)&&!u){var l=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(l,n);h=s.applyServerOverwrite_(h,new c.Path(e),f,r,i,o,a)}}),h},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var h=l.ImmutableTree.Empty;return s.getNode().forEachChild(u.KEY_INDEX,function(t,e){h=h.set(new c.Path(t),e)}),this.applyServerMerge_(t,e,h,r,i,a,o)}return t}var p=l.ImmutableTree.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(p=p.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,p,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,h.NO_COMPLETE_CHILD_SOURCE,r)},t.prototype.revertUserWrite_=function(t,e,n,r,o){var a;if(null!=n.shadowingWrite(e))return t;var u=new h.WriteTreeCompleteChildSource(n,t,r),l=t.getEventCache().getNode(),p=void 0;if(e.isEmpty()||".priority"===e.getFront()){var f=void 0;if(t.getServerCache().isFullyInitialized())f=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var d=t.getServerCache().getNode();i.assert(d instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),f=n.calcCompleteEventChildren(d)}p=this.filter_.updateFullNode(l,f=f,o)}else{var g=e.getFront(),y=n.calcCompleteChild(g,t.getServerCache());null==y&&t.getServerCache().isCompleteForChild(g)&&(y=l.getImmediateChild(g)),(p=null!=y?this.filter_.updateChild(l,g,y,e.popFront(),u,o):t.getEventCache().getNode().hasChild(g)?this.filter_.updateChild(l,g,s.ChildrenNode.EMPTY_NODE,e.popFront(),u,o):l).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(p=this.filter_.updateFullNode(p,a,o))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(c.Path.Empty),t.updateEventSnap(p,a,this.filter_.filtersNodes())},t}()},LMZF:function(t,e,n){"use strict";(function(t){function r(t,e,n){function r(){function t(t,e,n){for(var r=t.hasOwnProperty(Oe)?t[Oe]:Object.defineProperty(t,Oe,{value:[]})[Oe];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=new((a=r).bind.apply(a,[void 0].concat(e)));return t.annotation=o,t;var a}var i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function i(){if(!Ve){var t=Ue.Symbol;if(t&&t.iterator)Ve=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ve=r)}}return Ve}function o(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function a(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function s(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(s).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function u(t){return t.__forward_ref__=u,t.toString=function(){return s(this())},t}function l(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===u?t():t}function c(t){return d("Cannot mix multi providers and regular providers",t)}function h(t,e){if(e)if((e=l(e))instanceof Array)for(var n=0;n<e.length;n++)h(t,e[n]);else{if("function"==typeof e)throw d("Function/Class not supported",e);if(!e||"object"!=typeof e||!e.provide)throw d("Unexpected provider",e);var r=l(e.provide),i=function(t){var e=function(t){var e=He,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=l(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof De||s==De?i|=1:s instanceof Me||s==Me?i&=-3:s instanceof xe||s==xe?i&=-5:u=s instanceof Re?s.token:l(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u=l(t.useExisting);e=[{token:u,options:6}]}else if(!(n||Je in t))throw d("'deps' required",t);return e}(t),n=We,r=He,i=!1,o=l(t.provide);if(Je in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=l(t.useClass);else{if("function"!=typeof o)throw d("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(e);if(!0===e.multi){var o=t.get(r);if(o){if(o.fn!==Ke)throw c(r)}else t.set(r,o={token:e.provide,deps:[],useNew:!1,fn:Ke,value:He});o.deps.push({token:r=e,options:6})}var a=t.get(r);if(a&&a.fn==Ke)throw c(r);t.set(r,i)}}function p(t,e,n,r,i){try{return function(t,e,n,r,i){var o;if(e){if((o=e.value)==Ge)throw Error($e+"Circular dependency");if(o===He){e.value=Ge;var a=e.useNew,s=e.fn,u=e.deps,l=He;if(u.length){l=[];for(var c=0;c<u.length;c++){var h=u[c],f=h.options,d=2&f?n.get(h.token):void 0;l.push(p(h.token,d,n,d||4&f?r:Ye,1&f?null:qe.THROW_IF_NOT_FOUND))}}e.value=o=a?new((g=s).bind.apply(g,[void 0].concat(l))):s.apply(void 0,l)}}else o=r.get(t,i);return o;var g}(t,e,n,r,i)}catch(n){throw n instanceof Error||(n=new Error(n)),(n[Xe]=n[Xe]||[]).unshift(t),e&&e.value==Ge&&(e.value=He),n}}function f(t,e){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==$e?t.substr(2):t;var n=s(e);if(e instanceof Array)n=e.map(s).join(" -> ");else if("object"==typeof e){var r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];r.push(i+":"+("string"==typeof o?JSON.stringify(o):s(o)))}n="{"+r.join(", ")+"}"}return"StaticInjectorError["+n+"]: "+t.replace(Ze,"\n  ")}function d(t,e){return new Error(f(t,e))}function g(t){return t[en]}function y(t){return t[nn]}function m(t){return!!t&&"function"==typeof t.then}function v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function _(){throw new Error("Runtime compiler is not loaded")}function b(t){var e=Error("No component factory found for "+s(t)+". Did you add it to @NgModule.entryComponents?");return e[gn]=t,e}function w(){}function E(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function C(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function S(t){t._nesting--,E(t)}function T(){return Dn=!0,Rn}function I(t,e,n){void 0===n&&(n=[]);var r=new Ie("Platform: "+e);return function(e){void 0===e&&(e=[]);var i=O();return i&&!i.injector.get(xn,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):function(t){if(me&&!me.destroyed&&!me.injector.get(xn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");me=t.get(Ln);var e=t.get(ln,null);e&&e.forEach(function(t){return t()})}(qe.create(n.concat(e).concat({provide:r,useValue:!0})))),function(t){var e=O();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function O(){return me&&!me.destroyed?me:null}function N(t,e){return t=Array.isArray(e)?e.reduce(N,t):Object(we.a)({},t,e)}function A(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function P(t){return t.reduce(function(t,e){var n=Array.isArray(e)?P(e):e;return t.concat(n)},[])}function k(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function R(t,e,n){t.childNodes.forEach(function(t){t instanceof Yn&&(e(t)&&n.push(t),R(t,e,n))})}function D(t,e,n){t instanceof Yn&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Yn&&D(t,e,n)})}function x(t){return Zn.get(t)||null}function M(t){Zn.set(t.nativeNode,t)}function L(t,e){var n=F(t),r=F(e);return n&&r?function(t,e,n){for(var r=t[i()](),o=e[i()]();;){var a=r.next(),s=o.next();if(a.done&&s.done)return!0;if(a.done||s.done)return!1;if(!n(a.value,s.value))return!1}}(t,e,L):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||a(t,e)}function F(t){return!!U(t)&&(Array.isArray(t)||!(t instanceof Map)&&i()in t)}function U(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function V(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function j(t,e){return t.nodes[e]}function B(t,e){return t.nodes[e]}function q(t,e){return t.nodes[e]}function W(t,e){return t.nodes[e]}function H(t,e){return t.nodes[e]}function G(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return K(n,e),n}(i,t)}function K(t,e){t[en]=e,t[rn]=e.logError.bind(e)}function Q(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function z(t){var e=Er.get(t);return e||(e=s(t)+"_"+Er.size,Er.set(t,e)),e}function J(t,e,n,r){return!(!(2&t.state)&&a(t.oldValues[e.bindingIndex+n],r))}function X(t,e,n,r){return!!J(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Y(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!L(i,r))throw G(br.createDebugContext(t,e.nodeIndex),i,r,0!=(1&t.state))}function Z(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function $(t,e,n,r){try{return Z(33554432&t.def.nodes[e].flags?B(t,e).componentView:t),br.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function tt(t){return t.parent?B(t.parent,t.parentNodeDef.nodeIndex):null}function et(t){return t.parent?t.parentNodeDef.parent:null}function nt(t,e){switch(201347067&e.flags){case 1:return B(t,e.nodeIndex).renderElement;case 2:return j(t,e.nodeIndex).renderText}}function rt(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function it(t){return 1<<t%32}function ot(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=it(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function at(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:z(e)}})}function st(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ae.Native?B(t,n.renderParent.nodeIndex).renderElement:void 0:e}function ut(t){var e=Ir.get(t);return e||((e=t(function(){return wr})).factory=t,Ir.set(t,e)),e}function lt(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(nt(t,t.def.lastRenderRootNode))),ct(t,e,0,t.def.nodes.length-1,n,r,i)}function ct(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&pt(t,u,e,i,o,a),s+=u.childCount}}function ht(t,e,n,r,i,o){for(var a=t;a&&!rt(a);)a=a.parent;for(var s=a.parent,u=et(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&pt(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var p=t.root.projectableNodes[e];if(p)for(c=0;c<p.length;c++)ft(t,p[c],n,r,i,o)}}function pt(t,e,n,r,i,o){if(8&e.flags)ht(t,e.ngContent.index,n,r,i,o);else{var a=nt(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&ft(t,a,n,r,i,o),32&e.bindingFlags&&ft(B(t,e.nodeIndex).componentView,a,n,r,i,o)):ft(t,a,n,r,i,o),16777216&e.flags)for(var s=B(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)lt(s[u],n,r,i,o);1&e.flags&&!e.element.name&&ct(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function ft(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}function dt(t){if(":"===t[0]){var e=t.match(Or);return[e[1],e[2]]}return["",t]}function gt(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function yt(t){return null!=t?t.toString():""}function mt(t,e,n,r){if(!X(t,e,n,r))return!1;var i=e.bindings[n],o=B(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(vr.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function vt(t,e,n){if(void 0===n&&(n=qe.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case Ar:case Pr:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=_t(t,i)),o===Nr?void 0:o}return t._parent.get(e.token,n)}function _t(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(vt(t,n[0]));case 2:return new e(vt(t,n[0]),vt(t,n[1]));case 3:return new e(vt(t,n[0]),vt(t,n[1]),vt(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=vt(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(vt(t,n[0]));case 2:return e(vt(t,n[0]),vt(t,n[1]));case 3:return e(vt(t,n[0]),vt(t,n[1]),vt(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=vt(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=vt(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?Nr:n}function bt(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,St(n,e),br.dirtyParentQueries(r),Et(r),r}function wt(t,e,n){var r=e?nt(e,e.def.lastRenderRootNode):t.renderElement;lt(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Et(t){lt(t,3,null,null,void 0)}function Ct(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function St(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function Tt(t,e){return new Fr(t,e)}function It(t,e,n,r){return new Vr(t,e,n,r)}function Ot(t,e,n,r,i,o,a,s,u){var c=ot(n),h=c.matchedQueries,p=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=l(o);var d=at(a);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:f,references:p,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:gt(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Nt(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return At(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Pt(t,e,n,i[0]));case 2:return r(Pt(t,e,n,i[0]),Pt(t,e,n,i[1]));case 3:return r(Pt(t,e,n,i[0]),Pt(t,e,n,i[1]),Pt(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=Pt(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return Pt(t,e.parent,n,r.deps[0]);case 256:return r.value}}function At(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Pt(t,e,n,i[0]));case 2:return new r(Pt(t,e,n,i[0]),Pt(t,e,n,i[1]));case 3:return new r(Pt(t,e,n,i[0]),Pt(t,e,n,i[1]),Pt(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=Pt(t,e,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}function Pt(t,e,n,r,i){if(void 0===i&&(i=qe.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;for(a===Gr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(a){case jr:return function(t){return new Ur(t.renderer)}(s=kt(t,e,n));case Br:var s=kt(t,e,n);return s.renderer;case qr:return new Bn(B(t,e.nodeIndex).renderElement);case Wr:return B(t,e.nodeIndex).viewContainer;case Hr:if(e.element.template)return B(t,e.nodeIndex).template;break;case Gr:return function(t){return new Mr(t)}(kt(t,e,n));case Kr:return Tt(t,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=q(t,u.nodeIndex);return l||(l={instance:Nt(t,u)},t.nodes[u.nodeIndex]=l),l.instance}}n=rt(t),e=et(t),t=t.parent}var c=o.root.injector.get(r.token,Qr);return c!==Qr||i===Qr?c:o.root.ngModule.injector.get(r.token,i)}function kt(t,e,n){var r;if(n)r=B(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!rt(r);)r=r.parent;return r}function Rt(t,e,n,r,i,o){if(32768&n.flags){var a=B(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=t.oldValues[n.bindingIndex+r];s instanceof $n&&(s=s.wrapped),o[n.bindings[r].nonMinifiedName]=new tr(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Dt(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0;r<n.length;r++){var i=n[r],o=i.parent;for(!o&&i.flags&e&&xt(t,r,i.flags&e),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&function(t,e,n){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var i=t.def.nodes[r];i.flags&n&&xt(t,r,i.flags&n),r+=i.childCount}}(t,o,e),o=o.parent}}function xt(t,e,n){var r=q(t,e);if(r){var i=r.instance;i&&(br.setCurrentNode(t,e),1048576&n&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function Mt(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Lt(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=B(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Mt(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],p=tt(h);p&&p===u&&Mt(h,0,h.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(c=0;c<f.length;c++){var d=f[c];Mt(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Lt(t,e,n){if(null!=n)switch(n){case 1:return B(t,e.nodeIndex).renderElement;case 0:return new Bn(B(t,e.nodeIndex).renderElement);case 2:return B(t,e.nodeIndex).template;case 3:return B(t,e.nodeIndex).viewContainer;case 4:return q(t,e.nodeIndex).instance}}function Ft(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:gt(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ut(t,e){return(null!=t?t.toString():"")+e.suffix}function Vt(t){return 0!=(1&t.flags)&&null===t.element.name}function jt(t,e,n,r){var i=Wt(t.root,t.renderer,t,e,n);return Ht(i,t.component,r),Gt(i),i}function Bt(t,e,n){var r=Wt(t,t.renderer,null,null,e);return Ht(r,n,n),Gt(r),r}function qt(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Wt(t.root,i,t,e.element.componentProvider,n)}function Wt(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a}}function Ht(t,e,n){t.component=e,t.context=n}function Gt(t){var e;rt(t)&&(e=B(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];br.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=function(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=st(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=i.attrs[u];a.setAttribute(r,l[1],l[2],l[0])}return r}(t,e,o),u=void 0;if(33554432&o.flags){var l=ut(o.element.componentView);u=br.createComponentView(t,o,l,s)}!function(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=function(t,e,n){return function(r){return $(t,e,n,r)}}(t,n.nodeIndex,function(t,e){return t?t+":"+e:e}(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?function(t,e){return new Lr(t,o)}(t):void 0},16777216&o.flags&&(a.viewContainer=function(t,e,n){return new xr(t,o,a)}(t));break;case 2:a=function(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=st(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:c=function(t,e){return Nt(t,o)}(t)});break;case 16:a={instance:c=function(t,e){for(var n=t;n.parent&&!rt(n);)n=n.parent;return At(n.parent,et(n),!0,e.provider.value,e.provider.deps)}(t,o)};break;case 16384:if(!(a=r[i])){var c=function(t,e){var n=At(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(function(t,e,n){return function(r){return $(t,e,n,r)}}(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}(t,o);a={instance:c}}32768&o.flags&&Ht(B(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Wn;break;case 8:!function(t,e,n){var r=st(t,e,n);r&&ht(t,n.ngContent.index,1,r,null,void 0)}(t,e,o),a=void 0}r[i]=a}Zt(t,zr.CreateViewNodes),ne(t,201326592,268435456,0)}function Kt(t){Jt(t),br.updateDirectives(t,1),$t(t,zr.CheckNoChanges),br.updateRenderer(t,1),Zt(t,zr.CheckNoChanges),t.state&=-97}function Qt(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Jt(t),br.updateDirectives(t,0),$t(t,zr.CheckAndUpdate),ne(t,67108864,536870912,0),Dt(t,2097152|(2&t.state?1048576:0)),br.updateRenderer(t,0),Zt(t,zr.CheckAndUpdate),ne(t,134217728,536870912,0),Dt(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function zt(t,e,n,r,i,o,a,s,u,l,c,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length,f=!1;return p>0&&mt(t,e,0,n)&&(f=!0),p>1&&mt(t,e,1,r)&&(f=!0),p>2&&mt(t,e,2,i)&&(f=!0),p>3&&mt(t,e,3,o)&&(f=!0),p>4&&mt(t,e,4,a)&&(f=!0),p>5&&mt(t,e,5,s)&&(f=!0),p>6&&mt(t,e,6,u)&&(f=!0),p>7&&mt(t,e,7,l)&&(f=!0),p>8&&mt(t,e,8,c)&&(f=!0),p>9&&mt(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=!1,f=e.bindings,d=f.length;if(d>0&&X(t,e,0,n)&&(p=!0),d>1&&X(t,e,1,r)&&(p=!0),d>2&&X(t,e,2,i)&&(p=!0),d>3&&X(t,e,3,o)&&(p=!0),d>4&&X(t,e,4,a)&&(p=!0),d>5&&X(t,e,5,s)&&(p=!0),d>6&&X(t,e,6,u)&&(p=!0),d>7&&X(t,e,7,l)&&(p=!0),d>8&&X(t,e,8,c)&&(p=!0),d>9&&X(t,e,9,h)&&(p=!0),p){var g=e.text.prefix;d>0&&(g+=Ut(n,f[0])),d>1&&(g+=Ut(r,f[1])),d>2&&(g+=Ut(i,f[2])),d>3&&(g+=Ut(o,f[3])),d>4&&(g+=Ut(a,f[4])),d>5&&(g+=Ut(s,f[5])),d>6&&(g+=Ut(u,f[6])),d>7&&(g+=Ut(l,f[7])),d>8&&(g+=Ut(c,f[8])),d>9&&(g+=Ut(h,f[9]));var y=j(t,e.nodeIndex).renderText;t.renderer.setValue(y,g)}return p}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=q(t,e.nodeIndex),f=p.instance,d=!1,g=void 0,y=e.bindings.length;return y>0&&J(t,e,0,n)&&(d=!0,g=Rt(t,p,e,0,n,g)),y>1&&J(t,e,1,r)&&(d=!0,g=Rt(t,p,e,1,r,g)),y>2&&J(t,e,2,i)&&(d=!0,g=Rt(t,p,e,2,i,g)),y>3&&J(t,e,3,o)&&(d=!0,g=Rt(t,p,e,3,o,g)),y>4&&J(t,e,4,a)&&(d=!0,g=Rt(t,p,e,4,a,g)),y>5&&J(t,e,5,s)&&(d=!0,g=Rt(t,p,e,5,s,g)),y>6&&J(t,e,6,u)&&(d=!0,g=Rt(t,p,e,6,u,g)),y>7&&J(t,e,7,l)&&(d=!0,g=Rt(t,p,e,7,l,g)),y>8&&J(t,e,8,c)&&(d=!0,g=Rt(t,p,e,8,c,g)),y>9&&J(t,e,9,h)&&(d=!0,g=Rt(t,p,e,9,h,g)),g&&f.ngOnChanges(g),2&t.state&&65536&e.flags&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings,f=!1,d=p.length;if(d>0&&X(t,e,0,n)&&(f=!0),d>1&&X(t,e,1,r)&&(f=!0),d>2&&X(t,e,2,i)&&(f=!0),d>3&&X(t,e,3,o)&&(f=!0),d>4&&X(t,e,4,a)&&(f=!0),d>5&&X(t,e,5,s)&&(f=!0),d>6&&X(t,e,6,u)&&(f=!0),d>7&&X(t,e,7,l)&&(f=!0),d>8&&X(t,e,8,c)&&(f=!0),d>9&&X(t,e,9,h)&&(f=!0),f){var g=W(t,e.nodeIndex),y=void 0;switch(201347067&e.flags){case 32:y=new Array(p.length),d>0&&(y[0]=n),d>1&&(y[1]=r),d>2&&(y[2]=i),d>3&&(y[3]=o),d>4&&(y[4]=a),d>5&&(y[5]=s),d>6&&(y[6]=u),d>7&&(y[7]=l),d>8&&(y[8]=c),d>9&&(y[9]=h);break;case 64:y={},d>0&&(y[p[0].name]=n),d>1&&(y[p[1].name]=r),d>2&&(y[p[2].name]=i),d>3&&(y[p[3].name]=o),d>4&&(y[p[4].name]=a),d>5&&(y[p[5].name]=s),d>6&&(y[p[6].name]=u),d>7&&(y[p[7].name]=l),d>8&&(y[p[8].name]=c),d>9&&(y[p[9].name]=h);break;case 128:var m=n;switch(d){case 1:y=m.transform(n);break;case 2:y=m.transform(r);break;case 3:y=m.transform(r,i);break;case 4:y=m.transform(r,i,o);break;case 5:y=m.transform(r,i,o,a);break;case 6:y=m.transform(r,i,o,a,s);break;case 7:y=m.transform(r,i,o,a,s,u);break;case 8:y=m.transform(r,i,o,a,s,u,l);break;case 9:y=m.transform(r,i,o,a,s,u,l,c);break;case 10:y=m.transform(r,i,o,a,s,u,l,c,h)}}g.value=y}return f}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,h,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)mt(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)X(t,e,o,n[o])&&(i=!0);if(i){for(var a="",o=0;o<n.length;o++)a+=Ut(n[o],r[o]);a=e.text.prefix+a;var s=j(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=q(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)J(t,e,s,n[s])&&(o=!0,a=Rt(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),2&t.state&&65536&e.flags&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)X(t,e,o,n[o])&&(i=!0);if(i){var a=W(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,l)}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Jt(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=B(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,function(t,e){for(var n=a;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}(0,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Xt(t,e,n,r,i,o,a,s,u,l,c,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length;p>0&&Y(t,e,0,n),p>1&&Y(t,e,1,r),p>2&&Y(t,e,2,i),p>3&&Y(t,e,3,o),p>4&&Y(t,e,4,a),p>5&&Y(t,e,5,s),p>6&&Y(t,e,6,u),p>7&&Y(t,e,7,l),p>8&&Y(t,e,8,c),p>9&&Y(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,p):function(t,e,n){for(var r=0;r<n.length;r++)Y(t,e,r,n[r])}(t,e,r),!1}function Yt(t){if(!(128&t.state)){if($t(t,zr.Destroy),Zt(t,zr.Destroy),Dt(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=tt(t);if(e){var n=e.template._projectedViews;n&&(St(n,n.indexOf(t)),br.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(B(t,n).renderElement):2&r.flags?t.renderer.destroyNode(j(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&H(t,n).destroy()}}(t),rt(t)&&t.renderer.destroy(),t.state|=128}}function Zt(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?te(B(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function $t(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=B(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)te(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function te(t,e){var n=t.state;switch(e){case zr.CheckNoChanges:0==(128&n)&&(12==(12&n)?Kt(t):64&n&&ee(t,zr.CheckNoChangesProjectedViews));break;case zr.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Kt(t):64&n&&ee(t,e));break;case zr.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Qt(t):64&n&&ee(t,zr.CheckAndUpdateProjectedViews));break;case zr.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Qt(t):64&n&&ee(t,e));break;case zr.Destroy:Yt(t);break;case zr.CreateViewNodes:Gt(t)}}function ee(t,e){$t(t,e),Zt(t,e)}function ne(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(br.setCurrentNode(t,a.nodeIndex),r){case 0:!function(t,e){var n=H(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Mt(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=q(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Mt(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}(t,a);break;case 1:!function(t,e){if(H(t,e.nodeIndex).dirty)throw G(br.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}function re(t,e,n,r,i){var o=e.injector.get(_r),a=e.injector.get(on);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function ie(t){if(0===Xr.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Xr.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return wr});for(var n=0;n<e.length;n++)!function(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Xr.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=at(o.deps),i.value=o.value)}}}(t,e[n]);return t}function oe(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return zt(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?W(t,e).value:void 0}function ae(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return Xt(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?W(t,e).value:void 0}function se(t,e){_e=t,be=e}function ue(t,e,n,r){if(zt.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[function(t){return"ng-reflect-"+(t=t.replace(/[$@]/g,"_").replace(Zr,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))}(s.nonMinifiedName)]=function(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}(u))}var l=e.parent,c=B(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o)null!=(u=o[h])?t.renderer.setAttribute(c,h,u):t.renderer.removeAttribute(c,h);else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function le(t,e,n,r){Xt.apply(void 0,[t,e,n].concat(r))}function ce(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function he(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function pe(t,e,n){for(var r in e.references)n[r]=Lt(t,e,e.references[r])}function fe(t,e,n,r){var i=ve,o=_e,a=be;try{ve=t;var s=e.apply(n,r);return _e=o,be=a,ve=i,s}catch(t){if(g(t)||!_e)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),K(t,e),t}(t,de())}}function de(){return _e?new $r(_e,be):null}n.d(e,"g",function(){return Fn}),n.d(e,"Q",function(){return function(){if(Dn)throw new Error("Cannot enable prod mode after platform setup.");Rn=!1}}),n.d(e,"T",function(){return T}),n.d(e,"P",function(){return I}),n.d(e,"w",function(){return Mn}),n.d(e,"c",function(){return un}),n.d(e,"A",function(){return ln}),n.d(e,"z",function(){return cn}),n.d(e,"b",function(){return hn}),n.d(e,"d",function(){return an}),n.d(e,"e",function(){return sn}),n.d(e,"S",function(){return x}),n.d(e,"K",function(){return An}),n.d(e,"V",function(){return function(t){kn=t}}),n.d(e,"s",function(){return yr}),n.d(e,"f",function(){return mr}),n.d(e,"m",function(){return Tn}),n.d(e,"l",function(){return on}),n.d(e,"E",function(){return _r}),n.d(e,"F",function(){return vr}),n.d(e,"a",function(){return Ne}),n.d(e,"N",function(){return Ae}),n.d(e,"L",function(){return Pe}),n.d(e,"R",function(){return u}),n.d(e,"p",function(){return qe}),n.d(e,"o",function(){return Ie}),n.d(e,"n",function(){return Re}),n.d(e,"y",function(){return De}),n.d(e,"G",function(){return Me}),n.d(e,"x",function(){return In}),n.d(e,"B",function(){return jn}),n.d(e,"C",function(){return Un}),n.d(e,"D",function(){return Vn}),n.d(e,"i",function(){return fn}),n.d(e,"j",function(){return mn}),n.d(e,"k",function(){return Bn}),n.d(e,"t",function(){return wn}),n.d(e,"v",function(){return bn}),n.d(e,"u",function(){return qn}),n.d(e,"H",function(){return Kn}),n.d(e,"I",function(){return Hn}),n.d(e,"J",function(){return Qn}),n.d(e,"M",function(){return zn}),n.d(e,"h",function(){return Jn}),n.d(e,"q",function(){return cr}),n.d(e,"r",function(){return hr}),n.d(e,"O",function(){return $n}),n.d(e,"U",function(){return gr}),n.d(e,"_7",function(){return F}),n.d(e,"X",function(){return pn}),n.d(e,"W",function(){return vn}),n.d(e,"_5",function(){return Ue}),n.d(e,"_12",function(){return a}),n.d(e,"_23",function(){return s}),n.d(e,"_8",function(){return function(t){return!!t&&"function"==typeof t.subscribe}}),n.d(e,"_9",function(){return m}),n.d(e,"Y",function(){return function(t,e,n,r,i,o){t|=1;var a=ot(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ut(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||wr},provider:null,text:null,query:null,ngContent:null}}}),n.d(e,"Z",function(){return function(t,e,n,r,i,o){return new Rr(t,e,n,r,i,o)}}),n.d(e,"_0",function(){return function(t,e,n){return new ni(t,e,n)}}),n.d(e,"_1",function(){return function(t){return{id:Cr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}}),n.d(e,"_2",function(){return function(t,e,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=a[l];u[c[0]]={flags:8,name:l,nonMinifiedName:c[1],ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var p in s)h.push({type:1,propName:p,target:null,eventName:s[p]});return e|=16384,Ot(t,e,n,r,i,i,o,u,h)}}),n.d(e,"_3",function(){return function(t,e,n,r,i,o,a,s,u,l,c,h){void 0===a&&(a=[]),l||(l=wr);var p=ot(n),f=p.matchedQueries,d=p.references,g=p.matchedQueryIds,y=null,m=null;o&&(y=(P=dt(o))[0],m=P[1]),s=s||[];for(var v=new Array(s.length),_=0;_<s.length;_++){var b=s[_],w=b[0],E=b[2],C=dt(b[1]),S=C[1],T=void 0,I=void 0;switch(15&w){case 4:I=E;break;case 1:case 8:T=E}v[_]={flags:w,ns:C[0],name:S,nonMinifiedName:S,securityContext:T,suffix:I}}u=u||[];for(var O=new Array(u.length),_=0;_<u.length;_++){var N=u[_];O[_]={type:0,target:N[0],eventName:N[1],propName:null}}var A=(a=a||[]).map(function(t){var e=t[1],n=dt(t[0]);return[n[0],n[1],e]});return h=function(t){if(t&&t.id===Cr){var e=null!=t.encapsulation&&t.encapsulation!==Ae.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Tr++:Sr}return t&&t.id===Sr&&(t=null),t||null}(h),c&&(e|=33554432),e|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:g,references:d,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:gt(v),outputs:O,element:{ns:y,name:m,attrs:A,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||wr},provider:null,text:null,query:null,ngContent:null};var P}}),n.d(e,"_6",function(){return function(t,e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,y,m,v,_){switch(t){case 1:return e+yt(n)+r;case 2:return e+yt(n)+r+yt(i)+o;case 3:return e+yt(n)+r+yt(i)+o+yt(a)+s;case 4:return e+yt(n)+r+yt(i)+o+yt(a)+s+yt(u)+l;case 5:return e+yt(n)+r+yt(i)+o+yt(a)+s+yt(u)+l+yt(c)+h;case 6:return e+yt(n)+r+yt(i)+o+yt(a)+s+yt(u)+l+yt(c)+h+yt(p)+f;case 7:return e+yt(n)+r+yt(i)+o+yt(a)+s+yt(u)+l+yt(c)+h+yt(p)+f+yt(d)+g;case 8:return e+yt(n)+r+yt(i)+o+yt(a)+s+yt(u)+l+yt(c)+h+yt(p)+f+yt(d)+g+yt(y)+m;case 9:return e+yt(n)+r+yt(i)+o+yt(a)+s+yt(u)+l+yt(c)+h+yt(p)+f+yt(d)+g+yt(y)+m+yt(v)+_;default:throw new Error("Does not support more than 9 expressions")}}}),n.d(e,"_14",function(){return function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[z(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}}),n.d(e,"_15",function(){return function(t,e,n,r){return n=l(n),{index:-1,deps:at(r),flags:t,token:e,value:n}}}),n.d(e,"_16",function(){return function(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=B(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return j(t,n.nodeIndex).renderText;if(20240&n.flags)return q(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}}),n.d(e,"_18",function(){return function(t,e,n){return t|=16,Ot(-1,t,null,0,e,e,n)}}),n.d(e,"_21",function(){return function(t,e,n,r,i){return Ot(-1,t,e,0,n,r,i)}}),n.d(e,"_17",function(){return function(t,e){return Ft(32,t,new Array(e))}}),n.d(e,"_19",function(){return function(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return Ft(64,t,i)}}),n.d(e,"_20",function(){return function(t,e){return Ft(128,t,new Array(e+1))}}),n.d(e,"_22",function(){return function(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:it(e),bindings:r},ngContent:null}}}),n.d(e,"_24",function(){return function(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}}),n.d(e,"_25",function(){return function(t,e,n,r){if(r instanceof $n){r=r.wrapped;var i=t.def.nodes[e].bindingIndex+n,o=t.oldValues[i];o instanceof $n&&(o=o.wrapped),t.oldValues[i]=new $n(o)}return r}}),n.d(e,"_26",function(){return function(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,p=!1,f=null,d=0;d<e.length;d++){var g=e[d];if(g.nodeIndex=d,g.parent=l,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,a|=g.flags,u|=g.matchedQueryIds,g.element){var y=g.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,p=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(function(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}(l,g,e.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(f=g),20224&g.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&g.flags);0==(8192&g.flags)||m?l.element.publicProviders[z(g.provider.token)]=g:(p||(p=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[z(g.provider.token)]=g),m&&(l.element.componentProvider=g)}if(l?(l.childFlags|=g.flags,l.directChildFlags|=g.flags,l.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(l.childMatchedQueries|=g.element.template.nodeMatchedQueries)):s|=g.flags,g.childCount>0)l=g,Vt(g)||(c=g);else for(;l&&d===l.nodeIndex+l.childCount;){var v=l.parent;v&&(v.childFlags|=l.childFlags,v.childMatchedQueries|=l.childMatchedQueries),c=(l=v)&&Vt(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||wr,updateRenderer:r||wr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}}),n.d(e,"_10",function(){return function(){return fr}}),n.d(e,"_11",function(){return function(){return dr}}),n.d(e,"_13",function(){return function(t){return t||"en-US"}}),n.d(e,"_4",function(){return function(){return""+v()+v()+v()}});var ge,ye,me,ve,_e,be,we=n("6Xbx"),Ee=n("AP4T"),Ce=n("2kLc"),Se=n("URbD"),Te=n("TO51"),Ie=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Oe="__paramaters__",Ne=new Ie("AnalyzeForEntryComponents"),Ae=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),Pe=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},ke=new Pe("5.0.0"),Re=r("Inject",function(t){return{token:t}}),De=r("Optional"),xe=r("Self"),Me=r("SkipSelf"),Le="undefined"!=typeof window&&window,Fe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ue=Le||void 0!==t&&t||Fe,Ve=null,je=new Object,Be=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=je),e===je)throw new Error("NullInjectorError: No provider for "+s(t)+"!");return e},t}(),qe=function(){function t(){}return t.create=function(t,e){return new tn(t,e)},t.THROW_IF_NOT_FOUND=je,t.NULL=new Be,t}(),We=function(t){return t},He=[],Ge=We,Ke=function(){return Array.prototype.slice.call(arguments)},Qe={},ze=Qe,Je=function(t){for(var e in t)if(t[e]===Qe)return e;throw Error("!prop")}({provide:String,useValue:ze}),Xe="ngTempTokenPath",Ye=qe.NULL,Ze=/\n/gm,$e="\u0275",tn=function(){function t(t,e){void 0===e&&(e=Ye),this.parent=e;var n=this._records=new Map;n.set(qe,{token:qe,fn:We,deps:He,value:this,useNew:!1}),h(n,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return p(t,n,this._records,this.parent,e)}catch(t){var r=t[Xe];throw t.message=f("\n"+t.message,r),t.ngTokenPath=r,t[Xe]=null,t}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(s(n))}),"StaticInjector["+t.join(", ")+"]"},t}(),en="ngDebugContext",nn="ngOriginalError",rn="ngErrorLogger",on=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[rn]||function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?g(t)?g(t):this._findContext(y(t)):null},t.prototype._findOriginalError=function(t){for(var e=y(t);e&&y(e);)e=y(e);return e},t}(),an=(Function,new Ie("Application Initializer")),sn=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();m(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),un=new Ie("AppId"),ln=new Ie("Platform Initializer"),cn=new Ie("Platform ID"),hn=new Ie("appBootstrapListener"),pn=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}(),fn=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw _()},t.prototype.compileModuleAsync=function(t){throw _()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw _()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw _()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),dn=function(){},gn="ngComponent",yn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw b(t)},t}(),mn=function(){function t(){}return t.NULL=new yn,t}(),vn=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw b(t);return new _n(e,this._ngModule)},t}(),_n=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return Object(we.b)(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(dn),bn=function(){},wn=function(){},En=function(){var t=Ue.wtf;return!(!t||!(ge=t.trace)||(ye=ge.events,0))}(),Cn=En?function(t,e){return void 0===e&&(e=null),ye.createScope(t,e)}:function(t,e){return function(t,e){return null}},Sn=En?function(t,e){return ge.leaveScope(t,e),e}:function(t,e){return e},Tn=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(we.b)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,a)},e}(Te.a),In=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tn(!1),this.onMicrotaskEmpty=new Tn(!1),this.onStable=new Tn(!1),this.onError=new Tn(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return C(t),e.invokeTask(r,i,o,a)}finally{S(t)}},onInvoke:function(e,n,r,i,o,a,s){try{return C(t),e.invoke(r,i,o,a,s)}finally{S(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,E(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}(this)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,On,w,w);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),On={},Nn=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tn,this.onMicrotaskEmpty=new Tn,this.onStable=new Tn,this.onError=new Tn}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),An=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){In.assertNotInAngularZone(),o(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?o(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Pn=function(){function t(){this._applications=new Map,kn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),kn.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),kn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Rn=!0,Dn=!1,xn=new Ie("AllowMultipleToken"),Mn=function(t,e){this.name=t,this.token=e},Ln=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n=this,r=function(t){return"noop"===t?new Nn:("zone.js"===t?void 0:t)||new In({enableLongStackTrace:T()})}(e?e.ngZone:void 0);return r.run(function(){var e=qe.create([{provide:In,useValue:r}],n.injector),i=t.create(e),o=i.injector.get(on,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return A(n._modules,i)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){o.handleError(t)}})}),function(t,e,r){try{var o=function(){var t=i.injector.get(sn);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(i),i})}();return m(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}(o,r)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(function(){}),i=N({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Fn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+s(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}(),Fn=function(){function t(t,e,n,r,i,a){var s=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=T(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new Ee.a(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),l=new Ee.a(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){In.assertNotInAngularZone(),o(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){In.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(Ce.a)(u,Se.a.call(l))}return t.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=t instanceof dn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);var i=r instanceof _n?null:this._injector.get(bn),o=r.create(qe.NULL,[],e||r.selector,i);o.onDestroy(function(){n._unloadComponent(o)});var a=o.injector.get(An,null);return a&&o.injector.get(Pn).registerApplication(o.location.nativeElement,a),this._loadComponent(o),T()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,Sn(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;A(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hn,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),A(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Cn("ApplicationRef#tick()"),t}(),Un=function(){},Vn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),jn=function(){},Bn=function(t){this.nativeElement=t},qn=function(){},Wn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Tn}return Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[i()]=function(){return this._results[i()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=P(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Hn=function(){},Gn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Kn=function(){function t(t,e){this._compiler=t,this._config=e||Gn}return t.prototype.load=function(t){return this._compiler instanceof fn?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n("YuZA")(i).then(function(t){return t[o]}).then(function(t){return k(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("YuZA")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return k(t,r,i)})},t}(),Qn=function(){},zn=function(){},Jn=function(){},Xn=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Yn?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Yn=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(we.b)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);-1!==r&&((i=this.childNodes).splice.apply(i,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var i},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return R(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return D(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Xn),Zn=new Map,$n=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),tr=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),er=function(){function t(){}return t.prototype.supports=function(t){return F(t)},t.prototype.create=function(t){return new rr(t)},t}(),nr=function(t,e){return e},rr=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nr}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<V(n,r,i)?e:n,a=V(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,p=h+c;l<=p&&p<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!F(t))throw new Error("Error trying to diff '"+s(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,s=this._itHead,u=!1;if(Array.isArray(t)){this.length=t.length;for(var l=0;l<this.length;l++)o=this._trackByFn(l,r=t[l]),null!==s&&a(s.trackById,o)?(u&&(s=this._verifyReinsertion(s,r,o,l)),a(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,o,l),u=!0),s=s._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[i()](),o=void 0;!(o=r.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==s&&a(s.trackById,o)?(u&&(s=e._verifyReinsertion(s,t,o,n)),a(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,o,n),u=!0),s=s._next,n++}),this.length=n;return this._truncate(s),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(a(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(a(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ir(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ar),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ar),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),ir=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},or=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&a(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),ar=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new or,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}(),sr=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||U(t)},t.prototype.create=function(){return new ur},t}(),ur=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||U(t)))throw new Error("Error trying to diff '"+s(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new lr(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){a(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),lr=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},cr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Me,new De]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+function(t){return t.name||typeof t}(t)+"'")},t}(),hr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Me,new De]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),pr=[new sr],fr=new cr([new er]),dr=new hr(pr),gr=I(null,"core",[{provide:cn,useValue:"unknown"},{provide:Ln,deps:[qe]},{provide:Pn,deps:[]},{provide:pn,deps:[]}]),yr=new Ie("LocaleId"),mr=function(t){},vr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),_r=function(){},br={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},wr=function(){},Er=new Map,Cr="$$undefined",Sr="$$empty",Tr=0,Ir=new WeakMap,Or=/^:([^:]+):(.+)$/,Nr=new Object,Ar=z(qe),Pr=z(bn),kr=new Object,Rr=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(we.b)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=ut(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=br.createRootView(t,e||[],n,i,r,kr),s=q(a,o).instance;return n&&a.renderer.setAttribute(B(a,0).renderElement,"ng-version",ke.full),new Dr(a,new Mr(a),s)},e}(dn),Dr=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(we.b)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Bn(B(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Fr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){}),xr=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Bn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Fr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=et(t),t=t.parent;return t?new Fr(t,e):new Fr(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=bt(this._data,t);br.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Mr(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof _n||(i=o.get(bn));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t;return function(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Ct(i,n,r),function(t,e){var n=tt(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(e,r),br.dirtyParentQueries(r),wt(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return function(t,e,n){var r=t.viewContainer._embeddedViews,i=r[e];St(r,e),null==n&&(n=r.length),Ct(r,n,i),br.dirtyParentQueries(i),Et(i),wt(t,n>0?r[n-1]:null,i)}(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=bt(this._data,t);e&&br.destroyView(e)},t.prototype.detach=function(t){var e=bt(this._data,t);return e?new Mr(e):null},t}(),Mr=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return function(t){var e=[];return lt(t,0,void 0,void 0,e),e}(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Z(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin(),br.checkAndUpdateView(this._view),t.end&&t.end()},t.prototype.checkNoChanges=function(){br.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),br.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Et(this._view),br.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),Lr=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(we.b)(e,t),e.prototype.createEmbeddedView=function(t){return new Mr(br.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Bn(B(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Qn),Fr=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=qe.THROW_IF_NOT_FOUND),br.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:z(t)},e)},t}(),Ur=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=dt(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=dt(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),Vr=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=_t(t,i))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=qe.THROW_IF_NOT_FOUND),vt(this,{token:t,tokenKey:z(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(mn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+s(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==Nr&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),jr=z(function(){}),Br=z(jn),qr=z(Bn),Wr=z(zn),Hr=z(Qn),Gr=z(Jn),Kr=z(qe),Qr={},zr=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}(),Jr=!1,Xr=new Map,Yr=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}(),Zr=/([A-Z])/g,$r=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=et(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return B(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Tt(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){pe(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&pe(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!rt(t);)t=t.parent;return t.parent?B(t.parent,et(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?nt(this.view,this.nodeDef):nt(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i;2&this.nodeDef.flags?(r=this.view.def,i=this.nodeDef.nodeIndex):(r=this.elView.def,i=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(r,i),a=-1;r.factory(function(){return++a===o?(n=t.error).bind.apply(n,[t].concat(e)):wr;var n}),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),ti=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new ei(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),ei=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){!function(t){Zn.delete(t.nativeNode)}(x(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=de();if(r){var i=new Yn(n,null,r);i.name=t,M(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=de();return n&&M(new Xn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=de();return n&&M(new Xn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=x(t),r=x(e);n&&r&&n instanceof Yn&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=x(t),i=x(e),o=x(n);r&&i&&r instanceof Yn&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=x(t),r=x(e);n&&r&&n instanceof Yn&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=de();return n&&M(new Yn(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=x(t);i&&i instanceof Yn&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=x(t);r&&r instanceof Yn&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=x(t);n&&n instanceof Yn&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=x(t);n&&n instanceof Yn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=x(t);i&&i instanceof Yn&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=x(t);r&&r instanceof Yn&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=x(t);r&&r instanceof Yn&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=x(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),ni=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(we.b)(e,t),e.prototype.create=function(t){!function(){if(!Jr){Jr=!0;var t=T()?{setCurrentNode:se,createRootView:function(t,e,n,r,i,o){var a=i.injector.get(Un),s=re(t,i,new ti(a),e,n),u=ie(r);return fe(Yr.create,Bt,null,[s,u,o])},createEmbeddedView:function(t,e,n,r){var i=ie(n);return fe(Yr.create,jt,null,[t,e,i,r])},createComponentView:function(t,e,n,r){var i=ie(n);return fe(Yr.create,qt,null,[t,e,i,r])},createNgModuleRef:function(t,e,n,r){return It(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Xr.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Xr.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(t=t.factory(function(){return wr}),function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Xr.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=at(i.deps),r.value=i.value)}}(t),t):t}(r))},overrideProvider:function(t){Xr.set(t.token,t)},clearProviderOverrides:function(){Xr.clear()},checkAndUpdateView:function(t){return fe(Yr.detectChanges,Qt,null,[t])},checkNoChangesView:function(t){return fe(Yr.checkNoChanges,Kt,null,[t])},destroyView:function(t){return fe(Yr.destroy,Yt,null,[t])},createDebugContext:function(t,e){return new $r(t,e)},handleEvent:function(t,e,n,r){return se(t,e),fe(Yr.handleEvent,t.def.handleEvent,null,[t,e,n,r])},updateDirectives:function(t,e){if(128&t.state)throw Q(Yr[ve]);return se(t,ce(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ue(t,a,r,i):le(t,a,r,i),16384&a.flags&&se(t,ce(t,n)),224&a.flags?W(t,a.nodeIndex).value:void 0},t)},updateRenderer:function(t,e){if(128&t.state)throw Q(Yr[ve]);return se(t,he(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ue(t,a,r,i):le(t,a,r,i),3&a.flags&&se(t,he(t,n)),224&a.flags?W(t,a.nodeIndex).value:void 0},t)}}:{setCurrentNode:function(){},createRootView:function(t,e,n,r,i,o){return Bt(re(t,i,i.injector.get(Un),e,n),r,o)},createEmbeddedView:jt,createComponentView:qt,createNgModuleRef:It,overrideProvider:wr,clearProviderOverrides:wr,checkAndUpdateView:Qt,checkNoChangesView:Kt,destroyView:Yt,createDebugContext:function(t,e){return new $r(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?oe:ae,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?oe:ae,t)}};br.setCurrentNode=t.setCurrentNode,br.createRootView=t.createRootView,br.createEmbeddedView=t.createEmbeddedView,br.createComponentView=t.createComponentView,br.createNgModuleRef=t.createNgModuleRef,br.overrideProvider=t.overrideProvider,br.clearProviderOverrides=t.clearProviderOverrides,br.checkAndUpdateView=t.checkAndUpdateView,br.checkNoChangesView=t.checkNoChangesView,br.destroyView=t.destroyView,br.resolveDep=Pt,br.createDebugContext=t.createDebugContext,br.handleEvent=t.handleEvent,br.updateDirectives=t.updateDirectives,br.updateRenderer=t.updateRenderer,br.dirtyParentQueries=function(t){for(var e=t.def.nodeMatchedQueries;t.parent&&function(t){return!(!t.parent||32768&t.parentNodeDef.flags)}(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&H(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o=t.def.nodes[i];134217728&o.flags&&536870912&o.flags&&H(t,i).setDirty(),i+=o.childCount}}}}();var e=ut(this._ngModuleDefFactory);return br.createNgModuleRef(this.moduleType,t||qe.NULL,this._bootstrapComponents,e)},e}(wn)}).call(e,n("fRUx"))},NGRF:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},NYZW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("e9+7"),i=n("WH8D");e.decode=function(t){var e={},n={},o={},a="";try{var s=t.split(".");e=i.jsonEval(r.base64Decode(s[0])||""),n=i.jsonEval(r.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:o,signature:a}},e.isValidTimestamp=function(t){var n,r,i=e.decode(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?n=i.nbf:i.hasOwnProperty("iat")&&(n=i.iat),r=i.hasOwnProperty("exp")?i.exp:n+86400),o&&n&&r&&o>=n&&o<=r},e.issuedAtTime=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},e.isValidFormat=function(t){var n=e.decode(t),r=n.claims;return!!n.signature&&!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},e.isAdmin=function(t){var n=e.decode(t).claims;return"object"==typeof n&&!0===n.admin}},NeHU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/ygB");e.querystring=function(t){var e=[];return r.forEach(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},NePw:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},Nq7v:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("GboV"),o=n("p+VM"),a=n("F1yO"),s=n("43Go"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?a.nameCompare(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return o.NamedNode.MIN},e.prototype.maxPost=function(){return o.NamedNode.MAX},e.prototype.makePost=function(t,e){var n=s.nodeFromJSON(t);return new o.NamedNode(e,n)},e.prototype.toString=function(){return".value"},e}(i.Index);e.ValueIndex=u,e.VALUE_INDEX=new u},Oryw:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("AP4T"),o=n("8Ut3"),a=n("Ecq+"),s=n("3iOE"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(r.b)(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];Object(s.a)(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.a(t[0],r):new a.a(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.a)},OzfH:function(t,e,n){"use strict";function r(t){t.INTERNAL.registerService("messaging",function(t){return self&&"ServiceWorkerGlobalScope"in self?new E(t):new b(t)},{Messaging:b})}Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("JEJ4"),a={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},s={codes:a,map:(i={},i[a.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",i[a.AVAILABLE_IN_SW]="This method is available in a service worker context.",i[a.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",i[a.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",i[a.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",i[a.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",i[a.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",i[a.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",i[a.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",i[a.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",i[a.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",i[a.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",i[a.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",i[a.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",i[a.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",i[a.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",i[a.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",i[a.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",i[a.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",i[a.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",i[a.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",i[a.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",i[a.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",i[a.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",i[a.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",i[a.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",i[a.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",i[a.BAD_SCOPE]="The service worker scope must be a string with at least one character.",i[a.BAD_VAPID_KEY]="The public VAPID key must be a string with at least one character.",i[a.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",i[a.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",i[a.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",i[a.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",i)},u=function(t){return function(t){var e=new Uint8Array(t);return window.btoa(String.fromCharCode.apply(null,e))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},l=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],c={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:l,SUBSCRIPTION_OPTIONS:{userVisibleOnly:!0,applicationServerKey:new Uint8Array(l)}},h="fcm_token_object_Store",p=function(){function t(){this.errorFactory_=new o.ErrorFactory("messaging","Messaging",s.map),this.openDbPromise_=null}return t.prototype.openDatabase_=function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(e,n){var r=indexedDB.open(t.DB_NAME,1);r.onerror=function(t){n(t.target.error)},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(t){var e=t.target.result.createObjectStore(h,{keyPath:"swScope"});e.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),e.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)},t.prototype.closeDatabase=function(){var t=this;return this.openDbPromise_?this.openDbPromise_.then(function(e){e.close(),t.openDbPromise_=null}):Promise.resolve()},t.prototype.getTokenDetailsFromToken=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var i=e.transaction([h]).objectStore(h).index("fcmToken").get(t);i.onerror=function(t){r(t.target.error)},i.onsuccess=function(t){n(t.target.result)}})})},t.prototype.getTokenDetailsFromSWScope_=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var i=e.transaction([h]).objectStore(h).get(t);i.onerror=function(t){r(t.target.error)},i.onsuccess=function(t){n(t.target.result)}})})},t.prototype.getAllTokenDetailsForSenderId_=function(t){return this.openDatabase_().then(function(e){return new Promise(function(n,r){var i=[],o=e.transaction([h]).objectStore(h).openCursor();o.onerror=function(t){r(t.target.error)},o.onsuccess=function(e){var r=e.target.result;r?(r.value.fcmSenderId===t&&i.push(r.value),r.continue()):n(i)}})})},t.prototype.subscribeToFCM=function(t,e,n){var r=this,i=u(e.getKey("p256dh")),o=u(e.getKey("auth")),a="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+o;n&&(a+="&pushSet="+n);var l=new Headers;l.append("Content-Type","application/x-www-form-urlencoded");var h={method:"POST",headers:l,body:a};return fetch(c.ENDPOINT+"/fcm/connect/subscribe",h).then(function(t){return t.json()}).then(function(t){var e=t;if(e.error)throw r.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_FAILED,{message:e.error.message});if(!e.token)throw r.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!e.pushSet)throw r.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:e.token,pushSet:e.pushSet}})},t.prototype.isSameSubscription_=function(t,e){return t.endpoint===e.endpoint&&u(t.getKey("auth"))===e.auth&&u(t.getKey("p256dh"))===e.p256dh},t.prototype.saveTokenDetails_=function(t,e,n,r,i){var o={swScope:e.scope,endpoint:n.endpoint,auth:u(n.getKey("auth")),p256dh:u(n.getKey("p256dh")),fcmToken:r,fcmPushSet:i,fcmSenderId:t};return this.openDatabase_().then(function(t){return new Promise(function(e,n){var r=t.transaction([h],"readwrite").objectStore(h).put(o);r.onerror=function(t){n(t.target.error)},r.onsuccess=function(t){e()}})})},t.prototype.getSavedToken=function(t,e){var n=this;return e instanceof ServiceWorkerRegistration?"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(s.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(t).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return e.scope===n.swScope&&t===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(t){if(t)return e.pushManager.getSubscription().catch(function(t){throw n.errorFactory_.create(s.codes.GET_SUBSCRIPTION_FAILED)}).then(function(e){if(e&&n.isSameSubscription_(e,t))return t.fcmToken})}):Promise.reject(this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED))},t.prototype.createToken=function(t,e){var n=this;if("string"!=typeof t||0===t.length)return Promise.reject(this.errorFactory_.create(s.codes.BAD_SENDER_ID));if(!(e instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED));var r,i;return e.pushManager.getSubscription().then(function(t){return t||e.pushManager.subscribe(c.SUBSCRIPTION_OPTIONS)}).then(function(e){return r=e,n.subscribeToFCM(t,r)}).then(function(o){return i=o,n.saveTokenDetails_(t,e,r,i.token,i.pushSet)}).then(function(){return i.token})},t.prototype.deleteToken=function(t){var e=this;return"string"!=typeof t||0===t.length?Promise.reject(this.errorFactory_.create(s.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(t).then(function(t){if(!t)throw e.errorFactory_.create(s.codes.DELETE_TOKEN_NOT_FOUND);return e.openDatabase_().then(function(n){return new Promise(function(r,i){var o=n.transaction([h],"readwrite").objectStore(h).delete(t.swScope);o.onerror=function(t){i(t.target.error)},o.onsuccess=function(n){0!==n.target.result?r(t):i(e.errorFactory_.create(s.codes.FAILED_TO_DELETE_TOKEN))}})})})},t}(),f={granted:"granted",default:"default",denied:"denied"},d="messagingSenderId",g=function(){function t(t){var e=this;if(this.errorFactory_=new o.ErrorFactory("messaging","Messaging",s.map),!t.options[d]||"string"!=typeof t.options[d])throw this.errorFactory_.create(s.codes.BAD_SENDER_ID);this.messagingSenderId_=t.options[d],this.tokenManager_=new p,this.app=t,this.INTERNAL={},this.INTERNAL.delete=function(){return e.delete}}return t.prototype.getToken=function(){var t=this,e=this.getNotificationPermission_();return e!==f.granted?e===f.denied?Promise.reject(this.errorFactory_.create(s.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(e){return t.tokenManager_.getSavedToken(t.messagingSenderId_,e).then(function(n){return n||t.tokenManager_.createToken(t.messagingSenderId_,e)})})},t.prototype.deleteToken=function(t){var e=this;return this.tokenManager_.deleteToken(t).then(function(){return e.getSWRegistration_().then(function(t){if(t)return t.pushManager.getSubscription()}).then(function(t){if(t)return t.unsubscribe()})})},t.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(s.codes.SHOULD_BE_INHERITED)},t.prototype.requestPermission=function(){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_SW)},t.prototype.delete=function(){return this.tokenManager_.closeDatabase()},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenManager=function(){return this.tokenManager_},t}(),y={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},m={PARAMS:y,TYPES_OF_MSG:{PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},createNewMsg:function(t,e){return n={},n[y.TYPE_OF_MSG]=t,n[y.DATA]=e,n;var n}},v={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},_=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(t){function e(e){var n=t.call(this,e)||this;return n.messageObserver_=null,n.onMessage_=Object(o.createSubscribe)(function(t){n.messageObserver_=t}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=Object(o.createSubscribe)(function(t){n.tokenRefreshObserver_=t}),n.setupSWMessageListener_(),n}return _(e,t),e.prototype.getToken=function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return t.prototype.getToken.call(e)}):Promise.reject(this.errorFactory_.create(s.codes.UNSUPPORTED_BROWSER))},e.prototype.manifestCheck_=function(){var t=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=e?fetch(e.href).then(function(t){return t.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.errorFactory_.create(s.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_},e.prototype.requestPermission=function(){var t=this;return Notification.permission===f.granted?Promise.resolve():new Promise(function(e,n){var r=function(r){return r===f.granted?e():n(t.errorFactory_.create(r===f.denied?s.codes.PERMISSION_BLOCKED:s.codes.PERMISSION_DEFAULT))},i=Notification.requestPermission(function(t){i||r(t)});i&&i.then(r)})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(s.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=t},e.prototype.onMessage=function(t,e,n){return this.onMessage_(t,e,n)},e.prototype.onTokenRefresh=function(t,e,n){return this.onTokenRefresh_(t,e,n)},e.prototype.waitForRegistrationToActivate_=function(t){var e=this,n=t.installing||t.waiting||t.active;return new Promise(function(r,i){if(n)if("activated"!==n.state)if("redundant"!==n.state){var o=function(){if("activated"===n.state)r(t);else{if("redundant"!==n.state)return;i(e.errorFactory_.create(s.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else i(e.errorFactory_.create(s.codes.SW_REG_REDUNDANT));else r(t);else i(e.errorFactory_.create(s.codes.NO_SW_IN_REG))})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(v.path,{scope:v.scope}).catch(function(e){throw t.errorFactory_.create(s.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse_=e,e.update(),e})}))},e.prototype.setupSWMessageListener_=function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[m.PARAMS.TYPE_OF_MSG]){var n=e.data;switch(n[m.PARAMS.TYPE_OF_MSG]){case m.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case m.TYPES_OF_MSG.NOTIFICATION_CLICKED:t.messageObserver_.next(n[m.PARAMS.DATA])}}},!1)},e.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},e}(g),w=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(e){var n=t.call(this,e)||this;return self.addEventListener("push",function(t){return n.onPush_(t)},!1),self.addEventListener("pushsubscriptionchange",function(t){return n.onSubChange_(t)},!1),self.addEventListener("notificationclick",function(t){return n.onNotificationClick_(t)},!1),n.bgMessageHandler_=null,n}return w(e,t),e.prototype.onPush_=function(t){var e,n=this;try{e=t.data.json()}catch(t){return}var r=this.hasVisibleClients_().then(function(t){if(t){if(e.notification||n.bgMessageHandler_)return n.sendMessageToWindowClients_(e)}else{var r=n.getNotificationData_(e);if(r){var i=r.title||"";return self.registration.showNotification(i,r)}if(n.bgMessageHandler_)return n.bgMessageHandler_(e)}});t.waitUntil(r)},e.prototype.onSubChange_=function(t){var e=this,n=this.getToken().then(function(t){if(!t)throw e.errorFactory_.create(s.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var n=null,r=e.getTokenManager();return r.getTokenDetailsFromToken(t).then(function(t){if(!(n=t))throw e.errorFactory_.create(s.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(c.SUBSCRIPTION_OPTIONS)}).then(function(t){return r.subscribeToFCM(n.fcmSenderId,t,n.fcmPushSet)}).catch(function(t){return r.deleteToken(n.fcmToken).then(function(){throw e.errorFactory_.create(s.codes.UNABLE_TO_RESUBSCRIBE,{message:t})})})});t.waitUntil(n)},e.prototype.onNotificationClick_=function(t){var e=this;if(t.notification&&t.notification.data&&t.notification.data.FCM_MSG){t.stopImmediatePropagation(),t.notification.close();var n=t.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var i=this.getWindowClient_(r).then(function(t){return t||self.clients.openWindow(r)}).then(function(t){if(t){delete n.notification;var r=m.createNewMsg(m.TYPES_OF_MSG.NOTIFICATION_CLICKED,n);return e.attemptToMessageClient_(t,r)}});t.waitUntil(i)}}},e.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e=Object.assign({},t.notification);return e.data=(n={},n.FCM_MSG=t,n),e;var n}},e.prototype.setBackgroundMessageHandler=function(t){if(t&&"function"!=typeof t)throw this.errorFactory_.create(s.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=t},e.prototype.getWindowClient_=function(t){var e=new URL(t).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){for(var n=null,r=0;r<t.length;r++)if(new URL(t[r].url).href===e){n=t[r];break}if(n)return n.focus(),n})},e.prototype.attemptToMessageClient_=function(t,e){var n=this;return new Promise(function(r,i){if(!t)return i(n.errorFactory_.create(s.codes.NO_WINDOW_CLIENT_TO_MSG));t.postMessage(e),r()})},e.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){return t.some(function(t){return"visible"===t.visibilityState})})},e.prototype.sendMessageToWindowClients_=function(t){var e=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=m.createNewMsg(m.TYPES_OF_MSG.PUSH_MSG_RECEIVED,t);return Promise.all(n.map(function(t){return e.attemptToMessageClient_(t,r)}))})},e.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},e}(g),C=n("XtH8");e.registerMessaging=r,r(C.default)},P9wo:function(module,exports,__webpack_require__){(function(){function l(t){return"string"==typeof t}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function n(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function fa(t,e,n){return t.call.apply(t.bind,arguments)}function ha(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha).apply(null,arguments)}function ia(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Bb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ja(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function ka(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ma(t,e){return t<e?-1:t>e?1:0}function na(t,e){e.unshift(t),ja.call(this,ka.apply(null,e)),e.shift()}function oa(t,e){throw new na("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this),this.i=this.i,this.v=this.v}function ua(t){t:{for(var e=va,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function wa(t){if(!n(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function xa(t){return Array.prototype.concat.apply([],arguments)}function ya(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function y(t){return-1!=x.indexOf(t)}function Ba(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ca(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Ea(t){var e,n={};for(e in t)n[e]=t[e];return n}function Ga(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Fa.length;o++)n=Fa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ha(t){return Ha[" "](t),t}function Ia(t,e){var n=Ja;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function Oa(){var t=k.document;return t?t.documentMode:void 0}function Ua(t){return Ia(t,function(){for(var e=0,n=la(String(Pa)).split("."),r=la(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ma(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ma(0==a[2].length,0==s[2].length)||ma(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function A(t,e){this.type=t,this.a=this.target=e,this.Qa=!0}function ab(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ma){t:{try{Ha(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:bb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function db(t){return!(!t||!t[cb])}function fb(t,e,n,r,i){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++eb,this.X=this.ba=!1}function gb(t){t.X=!0,t.listener=null,t.a=null,t.src=null,t.da=null}function hb(t){this.src=t,this.a={},this.b=0}function ib(t,e,n,r,i,o){var a=e.toString();(e=t.a[a])||(e=t.a[a]=[],t.b++);var s=jb(e,n,i,o);return-1<s?(t=e[s],r||(t.ba=!1)):(t=new fb(n,t.src,a,!!i,o),t.ba=r,e.push(t)),t}function kb(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=sa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function lb(t,e,n,r,i){return t=t.a[e.toString()],e=-1,t&&(e=jb(t,n,r,i)),-1<e?t[e]:null}function jb(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}function pb(t,e,r,i,o){if(i&&i.once)return qb(t,e,r,i,o);if(n(e)){for(var a=0;a<e.length;a++)pb(t,e[a],r,i,o);return null}return r=rb(r),db(t)?t.$(e,r,p(i)?!!i.capture:!!i,o):sb(t,e,r,!1,i,o)}function sb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=tb(t);if(s||(t[mb]=s=new hb(t)),(n=ib(s,e,n,r,a,o)).a)return n;if(r=ub(),n.a=r,r.src=t,r.listener=n,t.addEventListener)$a||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(vb(e.toString()),r)}return ob++,n}function ub(){var t=wb,e=Ya?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function qb(t,e,r,i,o){if(n(e)){for(var a=0;a<e.length;a++)qb(t,e[a],r,i,o);return null}return r=rb(r),db(t)?t.Ia(e,r,p(i)?!!i.capture:!!i,o):sb(t,e,r,!0,i,o)}function xb(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)xb(t,e[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=rb(r),db(t)?t.xa(e,r,i,o):t&&(t=tb(t))&&(e=lb(t,e,r,i,o))&&yb(e)}function yb(t){if("number"!=typeof t&&t&&!t.X){var e=t.src;if(db(e))kb(e.c,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(vb(n),r),ob--,(n=tb(e))?(kb(n,t),0==n.b&&(n.src=null,e[mb]=null)):gb(t)}}}function vb(t){return t in nb?nb[t]:nb[t]="on"+t}function zb(t,e,n,r){var i=!0;if((t=tb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.X&&(o=Ab(o,r),i=i&&!1!==o)}return i}function Ab(t,e){var n=t.listener,r=t.da||t.src;return t.ba&&yb(t),n.call(r,e)}function wb(t,e){if(t.X)return!0;if(!Ya){if(!e)t:{e=["window","event"];for(var n=k,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new ab(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.a;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.a=r[i];var o=zb(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.a=r[i],o=zb(r[i],t,!1,e),n=n&&o}return n}return Ab(t,new ab(e,this))}function tb(t){return(t=t[mb])instanceof hb?t:null}function rb(t){return da(t)?t:(t[Bb]||(t[Bb]=function(e){return t.handleEvent(e)}),t[Bb])}function B(){w.call(this),this.c=new hb(this),this.P=this,this.J=null}function Cb(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.ba&&kb(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Qa}function Db(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Eb(a){if(a=String(a),Db(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Fb(t){var e=[];return Gb(new Hb,t,e),e.join("")}function Hb(){}function Gb(t,e,r){if(null==e)r.push("null");else{if("object"==typeof e){if(n(e)){var i=e;e=i.length,r.push("[");for(var o="",a=0;a<e;a++)r.push(o),Gb(t,i[a],r),o=",";return void r.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){r.push("{"),o="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(a=e[i])&&(r.push(o),Ib(i,r),r.push(":"),Gb(t,a,r),o=",");return void r.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ib(e,r);break;case"number":r.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":r.push(String(e));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Ib(t,e){e.push('"',t.replace(Lb,function(t){var e=Jb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Jb[t]=e),e}),'"')}function Mb(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Ca;n.Ca=null,t()}},function(t){i.next={Ca:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}C.g(t),C.b<C.f&&(C.b++,t.next=C.a,C.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.jb,this),this.g=t()}function Yb(t){t.Z=!1,t.K&&(t.a.clearTimeout(t.K),t.K=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.cb,this),this.a=[]}function ac(t){t.W=Zb(t.b,t.c),t.f.apply(null,t.a)}function D(t){w.call(this),this.b=t,this.a={}}function cc(t){Ba(t.a,function(t,e){this.a.hasOwnProperty(e)&&yb(t)},t),t.a={}}function dc(t,e,n,r,i){this.reset(t,e,n,r,i)}function fc(t){this.f=t,this.b=this.c=this.a=null}function E(t,e){this.name=t,this.value=e}function lc(t){return t.c?t.c:t.a?lc(t.a):(oa("Root logger has no level set."),null)}function F(t,e){t.log(gc,e,void 0)}function G(t,e){t.log(hc,e,void 0)}function oc(t){nc||(nc=new fc(""),mc[""]=nc,nc.c=jc);var e;if(!(e=mc[t])){e=new fc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=oc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,mc[t]=e}return e}function pc(t,e){t&&t.log(ic,e,void 0)}function H(t,e){t&&t.log(kc,e,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug")}function rc(t,e,r,i){if(r)try{var o=JSON.parse(r);if(o)for(var a=0;a<o.length;a++)if(n(o[a])){var s=o[a];if(!(2>s.length)){var u=s[1];if(n(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<u.length;c++)u[c]=""}}}var h=Fb(o)}catch(e){I(t,"Exception parsing expected JS array - probably was not JS"),h=r}else h=null;I(t,"XMLHTTP TEXT ("+e+"): "+h+(i?" "+i:""))}function sc(t,e,n){(t=t.a)&&F(t,(n||"Exception")+e)}function I(t,e){pc(t.a,e)}function tc(t){A.call(this,"serverreachability",t)}function uc(){J.dispatchEvent(new tc(J))}function vc(t){A.call(this,"statevent",t)}function K(){J.dispatchEvent(new vc(J))}function wc(t){A.call(this,"timingevent",t)}function xc(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}function Ac(){}function Bc(t){var e;return(e=t.a)||(e={},Cc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Ec(){}function Fc(t){return(t=Cc(t))?new ActiveXObject(t):new XMLHttpRequest}function Cc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r,i){this.m=t,this.b=e,this.f=r,this.S=i||1,this.M=new D(this),this.P=Gc,(t=this.F=new Xb).b=Hc,t.K&&t.Z?(Yb(t),t.start()):t.K&&Yb(t),this.h=null,this.c=!1,this.a=this.B=this.g=this.l=this.I=this.H=this.T=this.o=null,this.C=0,this.i=this.j=null,this.v=-1,this.s=!1,this.N=0,this.G=null,this.J=!1}function Ic(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Lc(t,e,n){t.I=1,t.l=Mc(M(e)),t.B=n,t.J=!0,Nc(t,null)}function Oc(t,e,n,r){t.I=1,t.l=Mc(M(e)),t.B=null,t.J=n,Nc(t,r)}function Nc(e,n){e.H=t(),Pc(e),e.g=M(e.l),Qc(e.g,"t",e.S),e.C=0,e.a=e.m.ra(e.m.fa()?n:null),0<e.N&&(e.G=new $b(r(e.Ra,e,e.a),e.N)),e.M.$(e.a,"readystatechange",e.gb),n=e.h?Ea(e.h):{},e.B?(e.j||(e.j="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.ta(e.g,e.j,e.B,n)):(e.j="GET",e.a.ta(e.g,e.j,null,n)),uc();var i=e.B;if(i){n="",i=i.split("&");for(var o=0;o<i.length;o++){var a=i[o].split("=");if(1<a.length){var s=a[0];a=a[1];var u=s.split("_");n=2<=u.length&&"type"==u[1]?n+(s+"=")+a+"&":n+(s+"=redacted&")}}}else n=null;I(e.b,"XMLHTTP REQ ("+e.f+") [attempt "+e.S+"]: "+e.j+"\n"+e.g+"\n"+n)}function Sc(t,e,n){for(var r=!0;!t.s&&t.C<n.length;){var i=Wc(t,n);if(i==Kc){4==e&&(t.i=4,K(),r=!1),rc(t.b,t.f,null,"[Incomplete Response]");break}if(i==Jc){t.i=4,K(),rc(t.b,t.f,n,"[Invalid Chunk]"),r=!1;break}rc(t.b,t.f,i,null),Tc(t,i)}4==e&&0==n.length&&(t.i=1,K(),r=!1),t.c=t.c&&r,r||(rc(t.b,t.f,n,"[Invalid Chunked Response]"),Uc(t),Vc(t))}function Wc(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Kc:(n=Number(e.substring(n,r)),isNaN(n)?Jc:(r+=1)+n>e.length?Kc:(e=e.substr(r,n),t.C=r+n,e))}function Pc(e){e.T=t()+e.P,Xc(e,e.P)}function Xc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=xc(r(t.eb,t),e)}function Rc(t){t.o&&(k.clearTimeout(t.o),t.o=null)}function Vc(t){t.m.Ka()||t.s||t.m.wa(t)}function Uc(t){Rc(t);var e=t.G;e&&"function"==typeof e.Y&&e.Y(),t.G=null,Yb(t.F),cc(t.M),t.a&&(e=t.a,t.a=null,e.abort(),e.Y())}function Tc(t,e){try{t.m.Na(t,e),uc()}catch(e){sc(t.b,e,"Error in httprequest callback")}}function Yc(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Ca(t)}function Zc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ta(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Da(t);i=(r=Yc(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof O?(n=t.O(),r=t.A()):(n=Da(t),r=Ca(t));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function ad(t){t.b={},t.a.length=0,t.c=0}function bd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$c(t),!0)}function $c(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],P(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Q(t,e){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;t instanceof Q?(this.h=void 0!==e?e:t.h,ed(this,t.f),this.j=t.j,fd(this,t.b),gd(this,t.i),this.a=t.a,hd(this,id(t.c)),this.g=t.g):t&&(n=String(t).match(cd))?(this.h=!!e,ed(this,n[1]||"",!0),this.j=jd(n[2]||""),fd(this,n[3]||"",!0),gd(this,n[4]),this.a=jd(n[5]||"",!0),hd(this,n[6]||"",!0),this.g=jd(n[7]||"")):(this.h=!!e,this.c=new kd(null,0,this.h))}function M(t){return new Q(t)}function ed(t,e,n){t.f=n?jd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function fd(t,e,n){t.b=n?jd(e,!0):e}function gd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function hd(t,e,n){e instanceof kd?(t.c=e,qd(t.c,t.h)):(n||(e=ld(e,rd)),t.c=new kd(e,0,t.h))}function R(t,e,n){t.c.set(e,n)}function Qc(t,e,r){n(r)||(r=[String(r)]),sd(t.c,e,r)}function Mc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function td(t){return t instanceof Q?M(t):new Q(t,void 0)}function ud(t,e,n,r){var i=new Q(null,void 0);return t&&ed(i,t),e&&fd(i,e),n&&gd(i,n),r&&(i.a=r),i}function jd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ld(t,e,n){return l(t)?(t=encodeURI(t).replace(e,vd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}function kd(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function S(t){t.a||(t.a=new O,t.b=0,t.c&&dd(t.c,function(e,n){e=decodeURIComponent(e.replace(/\+/g," ")),S(t),t.c=null,e=wd(t,e);var r=t.a.get(e);r||t.a.set(e,r=[]),r.push(n),t.b+=1}))}function xd(t,e){S(t),e=wd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,bd(t.a,e))}function yd(t,e){return S(t),e=wd(t,e),P(t.a.b,e)}function sd(t,e,n){xd(t,e),0<n.length&&(t.c=null,t.a.set(wd(t,e),ya(n)),t.b+=n.length)}function id(t){var e=new kd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function wd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function qd(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(xd(this,e),sd(this,n,t))},t)),t.f=e}function zd(){this.a=t()}function Bd(){Ad||(Ad=new zd)}function Cd(){Ad||(Ad=new zd)}function Dd(){}function Fd(){A.call(this,"d")}function Gd(){A.call(this,"c")}function Hd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Id(t){I(t.b,"TestConnection: starting stage 2");var e=t.a.J.a;if(null!=e)I(t.b,"Buffered"),K(),e?(K(),Jd(t.a,t,!1)):(K(),Jd(t.a,t,!0));else{t.c=new L(t,t.b,0,void 0,void 0),t.c.h=t.i,e=Kd(t.a,t.g,t.l),K(),Qc(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.N;n&&r&&R(e,n,r),Oc(t.c,e,!1,t.g)}}function Md(){this.a=this.b=null}function Nd(t){if(this.a=new O,t)for(var e=(t=Yc(t)).length,n=0;n<e;n++){var r=t[n];this.a.set(T(r),r)}}function T(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++ea)):e.charAt(0)+t}function Od(t){this.f=t||Pd,this.c=k.pa&&k.pa.La&&k.pa.La()&&k.pa.La().Cb?this.f:1,this.a=null,1<this.c&&(this.a=new Nd),this.b=null}function Qd(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.c=t.f,t.a=new Nd,t.b&&(Rd(t,t.b),t.b=null))}function Sd(t){return!!t.b||!!t.a&&t.a.u()>=t.c}function Td(t,e){return t.b?t.b==e:!!t.a&&t.a.contains(e)}function Rd(t,e){t.a?t.a.a.set(T(e),e):t.b=e}function Ud(t,e){this.a=t,this.b=e}function Vd(t,e){this.a=t,this.b=e}function Wd(){this.a=new Vd}function Xd(t,e,n){var r=n||"";try{Zc(t,function(t,n){var i=t;p(t)&&(i=Fb(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Yd(t,e){var n=new qc;I(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ia(Zd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ia(Zd,n,r,"TestLoadImage: error",!1,e),r.onabort=ia(Zd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ia(Zd,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function Zd(t,e,n,r,i){try{I(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){sc(t,e)}}function U(t){B.call(this),this.headers=new O,this.G=t||null,this.f=!1,this.F=this.a=null,this.M=this.s="",this.j=0,this.g="",this.h=this.I=this.o=this.H=!1,this.l=0,this.B=null,this.N=$d,this.C=this.m=!1}function ee(t){return z&&Ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function va(t){return"content-type"==t.toLowerCase()}function ce(t,e){t.f=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,fe(t),ge(t)}function fe(t){t.H||(t.H=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function he(t){if(t.f&&void 0!==goog)if(t.F[1]&&4==N(t)&&2==t.V())H(t.b,V(t,"Local request error detected and ignored"));else if(t.o&&4==N(t))Zb(t.Ma,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){H(t.b,V(t,"Request complete")),t.f=!1;try{var e=t.V();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.s).match(cd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!ae.test(o?o.toLowerCase():"")}r=i}r?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.V()+"]",fe(t))}finally{ge(t)}}}function ge(t,e){if(t.a){de(t);var n=t.a,r=t.F[0]?aa:null;t.a=null,t.F=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&F(t,"Problem encountered resetting onreadystatechange: "+e.message)}}}function de(t){t.a&&t.C&&(t.a.ontimeout=null),"number"==typeof t.B&&(k.clearTimeout(t.B),t.B=null)}function N(t){return t.a?t.a.readyState:0}function V(t,e){return e+" ["+t.M+" "+t.s+" "+t.V()+"]"}function ie(t){var e="";return Ba(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function je(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=ie(n),l(t)){if(e=encodeURIComponent(String(e)),n=null!=n?"="+encodeURIComponent(String(n)):"",e+=n){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ke(t,e,n){this.za=e||0,this.Ba=0,this.h=[],this.l=[],this.a=new qc,this.J=n||new Md,this.ia=this.ya=this.H=this.ja=this.b=this.N=this.j=this.ha=this.f=this.P=this.i=null,this.Va=this.I=0,this.ka=this.C=this.s=this.m=this.o=this.c=null,this.v=this.Aa=this.S=-1,this.ga=this.B=this.G=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.M="",this.g=new Od(t&&t.concurrentRequestLimit),this.la=new Wd,this.F=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,this.Ua=t&&t.fastHandshake||!1}function le(e){if(I(e.a,"disconnect()"),me(e),3==e.D){var n=e.I++,r=M(e.H);R(r,"SID",e.M),R(r,"RID",n),R(r,"TYPE","terminate"),ne(e,r),(n=new L(e,e.a,0,n,void 0)).I=2,n.l=Mc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.l.toString(),"")),r||((new Image).src=n.l),n.H=t(),Pc(n)}oe(e)}function me(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.m&&(k.clearTimeout(t.m),t.m=null),pe(t),t.g.cancel(),t.o&&(k.clearTimeout(t.o),t.o=null)}function qe(t,e){if(1e3==t.h.length){var n="Already have 1000 queued maps upon queueing "+Fb(e),r=t.a.a;r&&F(r,n)}t.h.push(new Ud(t.Va++,e)),3==t.D&&re(t)}function re(t){Sd(t.g)||t.o||(t.o=xc(r(t.Pa,t),0),t.G=0)}function te(t,e){if(e){t.h=t.l.concat(t.h),t.l.length=0;var n=t.I-1}else n=t.I++;e=se(t);var r=M(t.H);R(r,"SID",t.M),R(r,"RID",n),R(r,"AID",t.S),ne(t,r),t.f&&t.i&&je(r,t.f,t.i),n=new L(t,t.a,0,n,t.G+1),null===t.f&&(n.h=t.i),n.setTimeout(Math.round(1e4)+Math.round(1e4*Math.random())),Rd(t.g,n),Lc(n,r,e)}function ne(t,e){t.c&&Zc({},function(t,n){R(e,n,t)})}function se(t){var e=Math.min(t.h.length,1e3),n=t.c?r(t.c.Wa,t.c,t):null,i=t.h,o=["count="+e];if(0<e){var a=i[0].a;o.push("ofs="+a)}else a=0;for(var s=0;s<e;s++){var u=i[s].a,l=i[s].b;u-=a;try{Xd(l,o,"req"+u+"_")}catch(t){n&&n(l)}}return n=o.join("&"),t.l=t.l.concat(t.h.splice(0,e)),n}function ue(t){if(!t.b&&!t.m){t.ga=1;var e=t.Oa;Tb||Ub(),Wb||(Tb(),Wb=!0);var n=Pb,r=C.get();r.set(e,t),n.b?n.b.next=r:n.a=r,n.b=r,t.B=0}}function ve(t){return t.b||t.m?((t=t.a.a)&&F(t,"Request already in progress"),!1):!(3<=t.B||(I(t.a,"Going to retry GET"),t.ga++,t.m=xc(r(t.Oa,t),we(t,t.B)),t.B++,0))}function Jd(t,e,n){I(t.a,"Test Connection Finished");var r=e.m;r&&Qd(t.g,r),t.ka=n,t.v=e.f,I(t.a,"connectChannel_()"),t.H=xe(t,t.ja),re(t)}function Ld(t,e){I(t.a,"Test Connection Failed"),t.v=e.f,W(t,2)}function pe(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function we(t,e){var n=5e3+Math.floor(1e4*Math.random());return t.sa()||(I(t.a,"Inactive channel"),n*=2),n*e}function W(t,e){if(I(t.a,"Error code "+e),2==e){var n=null;t.c&&(n=null);var i=r(t.ib,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||ed(n,"https"),Mc(n)),Yd(n.toString(),i)}else K();I(t.a,"HttpChannel: error - "+e),t.D=0,t.c&&t.c.Da(t,e),oe(t),me(t)}function oe(t){if(t.D=0,t.v=-1,t.c)if(0==t.l.length&&0==t.h.length)t.c.na(t);else{I(t.a,"Number of undelivered maps, pending: "+t.l.length+", outgoing: "+t.h.length);var e=ya(t.l),n=ya(t.h);t.l.length=0,t.h.length=0,t.c.na(t,e,n)}}function xe(t,e){return e=ye(t,null,e),I(t.a,"GetForwardChannelUri: "+e),e}function Kd(t,e,n){return e=ye(t,t.fa()?e:null,n),I(t.a,"GetBackChannelUri: "+e),e}function ye(t,e,n){var r=td(n);if(""!=r.b)e&&fd(r,e+"."+r.b),gd(r,r.i);else{var i=k.location;r=ud(i.protocol,e?e+"."+i.hostname:i.hostname,i.port,n)}return t.ha&&Ba(t.ha,function(t,e){R(r,e,t)}),e=t.j,n=t.N,e&&n&&R(r,e,n),R(r,"VER",t.oa),ne(t,r),r}function ze(){}function Ae(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))e=r;else{var i;(i=""==e)||(i=e.length-1,i=0<=i&&e.indexOf("/",i)==i),e+=i?r:"/"+r}}return e}function Be(){if(z&&!(10<=Number(Va)))throw Error("Environmental error: no available transport.")}function X(t,e){B.call(this),this.a=new ke(e,20),this.b=t,this.s=e&&e.testUrl?e.testUrl:Ae(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,this.a.P=e&&e.initMessageHeaders||null,(t=e&&e.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.f=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(t=this.g,e in t&&delete t[e],(t=this.f)&&G(t,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Ce(this)}function De(t){Fd.call(this),this.data=t}function Ee(){Gd.call(this),this.status=1}function Ce(t){this.a=t}function Ge(){this.b=[],this.a=[]}function He(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Ie(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Je);this.a=new Ge,this.b=new Nd,this.g=null,this.aa()}function Ke(t){if("function"==typeof t.Y)t.Y();else for(var e in t)t[e]=null}function Le(t,e){this.a=t,this.b=e}function Me(t){if(this.a=[],t)t:{if(t instanceof Me){var e=t.O();if(t=t.A(),0>=this.u()){for(var n=this.a,r=0;r<e.length;r++)n.push(new Le(e[r],t[r]));break t}}else e=Da(t),t=Ca(t);for(r=0;r<e.length;r++)Ne(this,e[r],t[r])}}function Ne(t,e,n){var r=t.a;for(r.push(new Le(e,n)),n=(t=t.a)[e=r.length-1];0<e&&(r=e-1>>1,t[r].a>n.a);)t[e]=t[r],e=r;t[e]=n}function Oe(){Me.call(this)}function Y(t,e){this.f=new Oe,Ie.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}var g,goog=goog||{},k=this,q="closure_uid_"+(1e9*Math.random()>>>0),ea=0,t=Date.now||function(){return+new Date};u(ja,Error),ja.prototype.name="CustomError";var la=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};u(na,ja),na.prototype.name="AssertionError";var qa=0,ra={};w.prototype.i=!1,w.prototype.Y=function(){if(!this.i&&(this.i=!0,this.w(),0!=qa)){var t=this[q]||(this[q]=++ea);delete ra[t]}},w.prototype.w=function(){if(this.v)for(;this.v.length;)this.v.shift()()};var sa=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,l(t))return l(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ta=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},x;t:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break t}}x=""}var Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ha[" "]=aa;var Ka=y("Opera"),z=y("Trident")||y("MSIE"),La=y("Edge"),Ma=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Na=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Pa;t:{var Qa="",Sa=function(){var t=x;return Ma?/rv\:([^\);]+)(\)|;)/.exec(t):La?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Na?/WebKit\/(\S+)/.exec(t):Ka?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Sa&&(Qa=Sa?Sa[1]:""),z){var Ta=Oa();if(null!=Ta&&Ta>parseFloat(Qa)){Pa=String(Ta);break t}}Pa=Qa}var Ja={},Va,Wa=k.document;Va=Wa&&z?Oa()||("CSS1Compat"==Wa.compatMode?parseInt(Pa,10):5):void 0;var Xa=Object.freeze||function(t){return t},Ya=!z||9<=Number(Va),Za=z&&!Ua("9"),$a=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();A.prototype.b=function(){this.Qa=!1},u(ab,A);var bb=Xa({2:"touch",3:"pen",4:"mouse"});ab.prototype.b=function(){ab.L.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Za)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var cb="closure_listenable_"+(1e6*Math.random()|0),eb=0,mb="closure_lm_"+(1e6*Math.random()|0),nb={},ob=0,Bb="__closure_events_fn_"+(1e9*Math.random()>>>0);u(B,w),B.prototype[cb]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){pb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){xb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.P;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ga(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Cb(a,r,!0,t)&&i}if(a=t.a=n,i=Cb(a,r,!0,t)&&i,i=Cb(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)a=t.a=e[o],i=Cb(a,r,!1,t)&&i;return i},g.w=function(){if(B.L.w.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.$=function(t,e,n,r){return ib(this.c,String(t),e,!1,n,r)},g.Ia=function(t,e,n,r){return ib(this.c,String(t),e,!0,n,r)},g.xa=function(t,e,n,r){var i=this.c;if((t=String(t).toString())in i.a){var o=i.a[t];-1<(e=jb(o,e,n,r))?(gb(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.a[t],i.b--),i=!0):i=!1}else i=!1;return i};var Jb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Lb=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;Mb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var C=new Mb(function(){return new Nb},function(t){t.reset()},100);Nb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nb.prototype.reset=function(){this.next=this.b=this.a=null};var Rb,Tb,Wb=!1,Pb=new function(){this.b=this.a=null};u(Xb,B),g=Xb.prototype,g.Z=!1,g.K=null,g.jb=function(){if(this.Z){var e=t()-this.g;0<e&&e<.8*this.b?this.K=this.a.setTimeout(this.f,this.b-e):(this.K&&(this.a.clearTimeout(this.K),this.K=null),this.dispatchEvent("tick"),this.Z&&(this.K=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.Z=!0,this.K||(this.K=this.a.setTimeout(this.f,this.b),this.g=t())},g.w=function(){Xb.L.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ea=!1,g.W=null,g.Ya=function(t){this.a=arguments,this.W?this.ea=!0:ac(this)},g.w=function(){$b.L.w.call(this),this.W&&(k.clearTimeout(this.W),this.W=null,this.ea=!1,this.a=[])},g.cb=function(){this.W=null,this.ea&&(this.ea=!1,ac(this))},u(D,w);var bc=[];D.prototype.$=function(t,e,r,i){n(e)||(e&&(bc[0]=e.toString()),e=bc);for(var o=0;o<e.length;o++){var a=pb(t,e[o],r||this.handleEvent,i||!1,this.b||this);if(!a)break;this.a[a.key]=a}return this},D.prototype.xa=function(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)this.xa(t,e[a],r,i,o);else r=r||this.handleEvent,i=p(i)?!!i.capture:!!i,o=o||this.b||this,r=rb(r),i=!!i,(e=db(t)?lb(t.c,String(e),r,i,o):t&&(t=tb(t))?lb(t,e,r,i,o):null)&&(yb(e),delete this.a[e.key]);return this},D.prototype.w=function(){D.L.w.call(this),cc(this)},D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;dc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||ec++,i||t(),this.b=n,delete this.a},E.prototype.toString=function(){return this.name};var gc=new E("SEVERE",1e3),hc=new E("WARNING",900),ic=new E("INFO",800),jc=new E("CONFIG",700),kc=new E("FINE",500);fc.prototype.log=function(t,e,n){if(t.value>=lc(this).value)for(da(e)&&(e=e()),t=new dc(t,String(e),this.f),n&&(t.a=n),n="log:"+t.b,(t=k.console)&&t.timeStamp&&t.timeStamp(n),(t=k.msWriteProfilerMark)&&t(n),n=this;n;)n=n.a};var mc={},nc=null,J=new B;u(tc,A),u(vc,A),u(wc,A);var yc={NO_ERROR:0,kb:1,rb:2,qb:3,nb:4,pb:5,sb:6,Sa:7,TIMEOUT:8,vb:9},zc={mb:"complete",zb:"success",Ta:"error",Sa:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",tb:"incrementaldata",wb:"progress",ob:"downloadprogress",Ab:"uploadprogress"};Ac.prototype.a=null;var Dc;u(Ec,Ac),Dc=new Ec;var Gc=45e3,Hc=250,Jc={},Kc={};g=L.prototype,g.setTimeout=function(t){this.P=t},g.gb=function(t){t=t.target;var e=this.G;e&&3==N(t)?(I(this.b,"Throttling readystatechange."),e.Ya()):this.Ra(t)},g.Ra=function(t){try{if(t==this.a){var e=N(this.a),n=this.a.Ga();if(!(3>e||3==e&&!Ka&&!this.a.U())){this.s||4!=e||7==n||uc(),Rc(this);var r=this.a.V();this.v=r;var i=this.a.U();if(i||I(this.b,"No response text for uri "+this.g+" status "+r),this.c=200==r,I(this.b,"XMLHTTP RESP ("+this.f+") [ attempt "+this.S+"]: "+this.j+"\n"+this.g+"\n"+e+" "+r),this.c)this.J?(Sc(this,e,i),Ka&&this.c&&3==e&&(this.M.$(this.F,"tick",this.fb),this.F.start())):(rc(this.b,this.f,i,null),Tc(this,i)),4==e&&Uc(this),this.c&&!this.s&&(4==e?this.m.wa(this):(this.c=!1,Pc(this)));else{if(400==r&&0<i.indexOf("Unknown SID")){this.i=3,K();var o=this.b.a;o&&G(o,"XMLHTTP Unknown SID ("+this.f+")")}else{this.i=0,K();var a=this.b.a;a&&G(a,"XMLHTTP Bad status "+r+" ("+this.f+")")}Uc(this),Vc(this)}}}else{var s=this.b.a;s&&G(s,"Called back with an unexpected xmlhttp")}}catch(t){I(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.U()?sc(this.b,t,"ResponseText: "+this.a.U()):sc(this.b,t,"No response text")}},g.fb=function(){var t=N(this.a),e=this.a.U();this.C<e.length&&(Rc(this),Sc(this,t,e),this.c&&4!=t&&Pc(this))},g.cancel=function(){this.s=!0,Uc(this)},g.eb=function(){this.o=null;var e=t();if(0<=e-this.T)this.c&&(e=this.b.a)&&F(e,"Received watchdog timeout even though request loaded successfully"),I(this.b,"TIMEOUT: "+this.g),2!=this.I&&(uc(),K()),Uc(this),this.i=2,Vc(this);else{var n=this.b.a;n&&G(n,"WatchDog timer called too early"),Xc(this,this.T-e)}},g=O.prototype,g.u=function(){return this.c},g.A=function(){$c(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.O=function(){return $c(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var cd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ld(e,md,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ld(e,md,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ld(n,"/"==n.charAt(0)?nd:od,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ld(n,pd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?ed(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?fd(e,t.b):n=null!=t.i;var r=t.a;if(n)gd(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?hd(e,id(t.c)):n=!!t.g,n&&(e.g=t.g),e};var md=/[#\/\?@]/g,od=/[\#\?:]/g,nd=/[\#\?]/g,rd=/[\#\?@]/g,pd=/#/g;g=kd.prototype,g.u=function(){return S(this),this.b},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ta(n,function(n){t.call(e,n,r,this)},this)},this)},g.O=function(){S(this);for(var t=this.a.A(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))yd(this,t)&&(e=xa(e,this.a.get(wd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=xa(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,t=wd(this,t),yd(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.A(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ad=null;zd.prototype.set=function(t){this.a=t},zd.prototype.reset=function(){this.set(t())},zd.prototype.get=function(){return this.a},u(Cd,Bd);var Ed={OPEN:"a",lb:"b",Ta:"c",ub:"d"};u(Fd,A),u(Gd,A),g=Hd.prototype,g.R=null,g.ra=function(t){return this.a.ra(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ka=function(){return!1},g.Na=function(t,e){if(this.f=t.v,0==this.R){if(I(this.b,"TestConnection: Got data for stage 1"),!this.a.F&&(t=t.a)){var n=t.a?t.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((t=t.a?t.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.N=t:(t=this.b.a)&&G(t,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(t){return sc(this.b,t),void Ld(this.a,this)}this.g=r[0]}else I(this.b,"TestConnection: Null responseText"),Ld(this.a,this)}else 1==this.R&&(this.h?K():"11111"==e?(K(),this.h=!0,(!z||10<=Number(Va))&&(this.f=200,this.c.cancel(),I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0))):(K(),this.h=!1))},g.wa=function(){this.f=this.c.v,this.c.c?0==this.R?(this.R=1,I(this.b,"TestConnection: request complete for initial check"),Id(this)):1==this.R&&(I(this.b,"TestConnection: request complete for stage 2"),this.h?(I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0)):(I(this.b,"Test connection failed; not using streaming"),K(),Jd(this.a,this,!1))):(I(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?K():1==this.R&&K(),Ld(this.a,this))},g.fa=function(){return this.a.fa()},g.sa=function(){return this.a.sa()},Nd.prototype.u=function(){return this.a.u()},Nd.prototype.contains=function(t){return t=T(t),P(this.a.b,t)},Nd.prototype.A=function(){return this.a.A()};var Pd=10;Od.prototype.cancel=function(){this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.A(),function(t){t.cancel()}),ad(this.a.a))},Vd.prototype.stringify=function(t){return k.JSON.stringify(t,this.a)},Vd.prototype.parse=function(t){return k.JSON.parse(t,this.b)},u(U,B);var $d="";U.prototype.b=oc("goog.net.XhrIo");var ae=/^https?$/i,be=["POST","PUT"];g=U.prototype,g.ta=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.s+"; newUri="+t);e=e?e.toUpperCase():"GET",this.s=t,this.g="",this.j=0,this.M=e,this.H=!1,this.f=!0,this.a=Fc(this.G?this.G:Dc),this.F=Bc(this.G?this.G:Dc),this.a.onreadystatechange=r(this.Ma,this);try{H(this.b,V(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return H(this.b,V(this,"Error opening Xhr: "+t.message)),void ce(this,t)}t=n||"";var o=new O(this.headers);i&&Zc(i,function(t,e){o.set(e,t)}),i=ua(o.O()),n=k.FormData&&t instanceof k.FormData,!(0<=sa(be,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{de(this),0<this.l&&(this.C=ee(this.a),H(this.b,V(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.C)),this.C?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ja,this)):this.B=Zb(this.Ja,this.l,this)),H(this.b,V(this,"Sending request")),this.o=!0,this.a.send(t),this.o=!1}catch(t){H(this.b,V(this,"Send error: "+t.message)),ce(this,t)}},g.Ja=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,H(this.b,V(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.f&&(H(this.b,V(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ge(this))},g.w=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),ge(this,!0)),U.L.w.call(this)},g.Ma=function(){this.i||(this.I||this.o||this.h?he(this):this.bb())},g.bb=function(){he(this)},g.V=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return H(this.b,"Can not get status: "+t.message),""}},g.U=function(){try{return this.a?this.a.responseText:""}catch(t){return H(this.b,"Can not get responseText: "+t.message),""}},g.Za=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Eb(t)}return n}},g.Ga=function(){return this.j},g.$a=function(){return l(this.g)?this.g:String(this.g)},g=ke.prototype,g.oa=8,g.D=1,g.Ka=function(){return 0==this.D},g.Pa=function(t){if(this.o=null,I(this.a,"startForwardChannel_"),1==this.D)if(t)(t=this.a.a)&&F(t,"Not supposed to retry the open");else{I(this.a,"open_()"),this.I=Math.floor(1e5*Math.random()),t=this.I++;var e=new L(this,this.a,0,t,void 0),n=this.i;this.P&&(n?(n=Ea(n),Ga(n,this.P)):n=this.P),null===this.f&&(e.h=n);var r=se(this),i=M(this.H);R(i,"RID",t),0<this.za&&R(i,"CVER",this.za),this.F&&this.j&&R(i,"X-HTTP-Session-Id",this.j),ne(this,i),this.f&&n&&je(i,this.f,n),Rd(this.g,e),this.Ua?(R(i,"$req",r),Lc(e,i,null)):Lc(e,i,r),this.D=2}else 3==this.D&&(t?te(this,t):0==this.h.length?I(this.a,"startForwardChannel_ returned: nothing to send"):Sd(this.g)?(t=this.a.a)&&F(t,"startForwardChannel_ returned: connection already in progress"):(te(this),I(this.a,"startForwardChannel_ finished, sent request")))},g.Oa=function(){this.m=null,I(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,0,"rpc",this.ga),null===this.f&&(this.b.h=this.i),this.b.N=0;var t=M(this.ya);R(t,"RID","rpc"),R(t,"SID",this.M),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.S),ne(this,t),R(t,"TYPE","xmlhttp"),this.f&&this.i&&je(t,this.f,this.i),Oc(this.b,t,!0,this.ia),I(this.a,"New Request created")},g.Na=function(t,e){if(0!=this.D&&(this.b==t||Td(this.g,t)))if(this.v=t.v,Td(this.g,t)&&3==this.D){try{var i=this.la.a.parse(e)}catch(t){i=null}if(n(i)&&3==i.length)if(0==(e=i)[0])t:if(I(this.a,"Server claims our backchannel is missing."),this.m)I(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.H+3e3<t.H))break t;pe(this),this.b.cancel(),this.b=null}else(t=this.a.a)&&G(t,"We do not have a BackChannel established");ve(this),K()}else this.Aa=e[1],0<(t=this.Aa-this.S)&&(e=e[2],I(this.a,e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=xc(r(this.ab,this),6e3)));else I(this.a,"Bad POST response data returned"),W(this,11)}else if(this.b==t&&pe(this),!/^[\s\xa0]*$/.test(e))for(e=i=this.la.a.parse(e),i=0;i<e.length;i++){var o=e[i];if(this.S=o[0],o=o[1],2==this.D)if("c"==o[0]){this.M=o[1],this.ia=o[2];var a=o[3];null!=a&&(this.oa=a,I(this.a,"VER="+this.oa)),null!=(o=o[4])&&(this.Ba=o,I(this.a,"SVER="+this.Ba)),this.F&&(o=t.a)&&((a=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&Qd(this.g,a),this.j&&((o=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.N=o,R(this.H,this.j,o)):(o=this.a.a)&&G(o,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.D=3,this.c&&this.c.Fa(this),this.ya=Kd(this,this.ia,this.ja),ue(this)}else"stop"!=o[0]&&"close"!=o[0]||W(this,7);else 3==this.D&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?W(this,7):le(this):"noop"!=o[0]&&this.c&&this.c.Ea(this,o),this.B=0)}},g.ab=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,ve(this),K())},g.wa=function(e){if(I(this.a,"Request complete"),this.b==e){pe(this),this.b=null;var n=2}else{if(!Td(this.g,e))return;(n=this.g).b&&n.b==e?n.b=null:n.a&&n.a.contains(e)&&bd(n.a.a,T(e)),n=1}if(this.v=e.v,0!=this.D)if(e.c)1==n?(t(),J.dispatchEvent(new wc(J)),re(this),this.l.length=0):ue(this);else{var i=e.i;if(3==i||0==i&&0<this.v)I(this.a,"Not retrying due to error type");else{I(this.a,"Maybe retrying, last error: "+Ic(i,this.v));var o;if((o=1==n)&&(Sd(this.g)||this.o?((e=this.a.a)&&F(e,"Request already in progress"),o=!1):1==this.D||2==this.D||2<=this.G?o=!1:(I(this.a,"Going to retry POST"),this.o=xc(r(this.Pa,this,e),we(this,this.G)),this.G++,o=!0)),o||2==n&&ve(this))return;I(this.a,"Exceeded max number of retries")}switch(I(this.a,"Error: HTTP request failed"),i){case 1:W(this,5);break;case 4:W(this,10);break;case 3:W(this,6);break;default:W(this,2)}}},g.ib=function(t){t?I(this.a,"Successfully pinged google.com"):I(this.a,"Failed to ping google.com"),K()},g.ra=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return t=new U,t.m=this.T,t},g.sa=function(){return!!this.c&&!0},g.fa=function(){return this.T},new Cd,g=ze.prototype,g.Fa=function(){},g.Ea=function(){},g.Da=function(){},g.na=function(){},g.Wa=function(){},Be.prototype.a=function(t,e){return new X(t,e)},u(X,B),X.prototype.j=function(){this.a.c=this.h,this.o&&(this.a.T=!0);var t=this.a,e=this.s,n=this.b,r=this.g||void 0;I(t.a,"connect()"),K(),t.ja=n,t.ha=r||{},t.F&&(I(t.a,"connect() bypassed channel-test."),t.J.b=[],t.J.a=!1),I(t.a,"connectTest_()"),t.C=new Hd(t,t.a),null===t.f&&(t.C.i=t.i),n=e,t.f&&t.i&&(n=je(e,t.f,t.i)),(t=t.C).l=n,e=xe(t.a,t.l),K(),(n=t.a.J.b)?(t.g=n[0],t.R=1,Id(t)):(Qc(e,"MODE","init"),!t.a.F&&t.a.j&&Qc(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,0,void 0,void 0),t.c.h=t.i,Oc(t.c,e,!1,null),t.R=0)},X.prototype.close=function(){le(this.a)},X.prototype.l=function(t){if(this.m){var e={};e.__data__=Fb(t),qe(this.a,e)}else qe(this.a,t)},X.prototype.w=function(){this.a.c=null,delete this.h,le(this.a),delete this.a,X.L.w.call(this)},u(De,Fd),u(Ee,Gd),u(Ce,ze),Ce.prototype.Fa=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Ce.prototype.Ea=function(t,e){this.a.dispatchEvent(new De(e))},Ce.prototype.Da=function(t,e){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+e),this.a.dispatchEvent(new Ee)},Ce.prototype.na=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Fe=ia(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Be);Ge.prototype.u=function(){return this.b.length+this.a.length},Ge.prototype.contains=function(t){return 0<=sa(this.b,t)||0<=sa(this.a,t)},Ge.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ie,w);var Je="[goog.structs.Pool] Min can not be greater than max";g=Ie.prototype,g.ca=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.u()&&(n=He(this.a),!this.va(n));)this.aa();return!n&&this.u()<this.c&&(n=this.qa()),n&&(this.g=e,this.b.a.set(T(n),n)),n}},g.hb=function(t){return!!bd(this.b.a,T(t))&&(this.ma(t),!0)},g.ma=function(t){bd(this.b.a,T(t)),this.va(t)&&this.u()<this.c?this.a.a.push(t):Ke(t)},g.aa=function(){for(var t=this.a;this.u()<this.h;){var e=this.qa();t.a.push(e)}for(;this.u()>this.c&&0<this.a.u();)Ke(He(t))},g.qa=function(){return{}},g.va=function(t){return"function"!=typeof t.Xa||t.Xa()},g.contains=function(t){return this.a.contains(t)||this.b.contains(t)},g.u=function(){return this.a.u()+this.b.u()},g.w=function(){if(Ie.L.w.call(this),0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)Ke(He(t));delete this.a},Me.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},Me.prototype.O=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},Me.prototype.u=function(){return this.a.length},u(Oe,Me),u(Y,Ie),g=Y.prototype,g.ca=function(t,e){if(!t)return Y.L.ca.call(this);Ne(this.f,void 0!==e?e:100,t),this.ua()},g.ua=function(){for(var t=this.f;0<t.u();){var e=this.ca();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)wa(r);else{r[0]=r.pop(),i=(n=n.a).length;for(var a=n[r=0];r<i>>1;){var s=2*r+1,u=2*r+2;if(s=u<i&&n[u].a<n[s].a?u:s,n[s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.ma=function(t){Y.L.ma.call(this,t),this.ua()},g.aa=function(){Y.L.aa.call(this),this.ua()},g.w=function(){Y.L.w.call(this),k.clearTimeout(void 0),wa(this.f.a),this.f=null},u(Z,Y),Z.prototype.qa=function(){var t=new U,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.m=!0),t},Z.prototype.va=function(t){return!t.i&&!t.a},Be.prototype.createWebChannel=Be.prototype.a,X.prototype.send=X.prototype.l,X.prototype.open=X.prototype.j,X.prototype.close=X.prototype.close,yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,zc.COMPLETE="complete",Dd.EventType=Ed,Ed.OPEN="a",Ed.CLOSE="b",Ed.ERROR="c",Ed.MESSAGE="d",B.prototype.listen=B.prototype.$,Z.prototype.getObject=Z.prototype.ca,Z.prototype.releaseObject=Z.prototype.hb,U.prototype.listenOnce=U.prototype.Ia,U.prototype.getLastError=U.prototype.$a,U.prototype.getLastErrorCode=U.prototype.Ga,U.prototype.getStatus=U.prototype.V,U.prototype.getStatusText=U.prototype.Ha,U.prototype.getResponseJson=U.prototype.Za,U.prototype.getResponseText=U.prototype.U,U.prototype.getResponseText=U.prototype.U,U.prototype.send=U.prototype.ta,module.exports={createWebChannelTransport:Fe,ErrorCode:yc,EventType:zc,WebChannel:Dd,XhrIoPool:Z}}).call("undefined"!=typeof window?window:this)},PKQO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("mZoP"),o=n("F1yO");e.parseRepoInfo=function(t){var n=e.parseURL(t),a=n.subdomain;return"firebase"===n.domain&&o.fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),a&&"undefined"!=a||o.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||o.warnIfPageIsSecure(),{repoInfo:new i.RepoInfo(n.host,n.secure,a,"ws"===n.scheme||"wss"===n.scheme),path:new r.Path(n.pathString)}},e.parseURL=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var l=t.indexOf("/");-1===l&&(l=t.length),e=t.substring(0,l),i=function(e){for(var n="",r=t.substring(l).split("/"),i=0;i<r.length;i++)if(r[i].length>0){var o=r[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(t){}n+="/"+o}return n}();var c=e.split(".");3===c.length?(n=c[1],r=c[0].toLowerCase()):2===c.length&&(n=c[0]),(u=e.indexOf(":"))>=0&&(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10))}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}}},R3TC:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("JEJ4"),a=n("F1yO"),s=n("isNy"),u=n("p+VM"),l=n("3FiG"),c=n("/fob"),h=n("stu6"),p=n("b5Wm"),f=n("04zk"),d=n("zFzr"),g=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&l.validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return i||(i=new t(new s.SortedMap(d.NAME_COMPARATOR),null,p.IndexMap.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||i},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?i:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new u.NamedNode(e,n),a=void 0,s=void 0,l=void 0;return n.isEmpty()?(a=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_)),l=a.isEmpty()?i:this.priorityNode_,new t(a,l,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;o.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(c.PRIORITY_INDEX,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+l.priorityHashText(this.getPriority().val())+":"),this.forEachChild(c.PRIORITY_INDEX,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":a.sha1(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new u.NamedNode(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new u.NamedNode(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new u.NamedNode(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,u.NamedNode.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,u.NamedNode.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===e.MAX_NODE?-1:0},t.prototype.withIndex=function(e){if(e===h.KEY_INDEX||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===h.KEY_INDEX||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(c.PRIORITY_INDEX),r=e.getIterator(c.PRIORITY_INDEX),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===h.KEY_INDEX?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}();e.ChildrenNode=g;var y=function(t){function e(){return t.call(this,new s.SortedMap(d.NAME_COMPARATOR),g.EMPTY_NODE,p.IndexMap.Default)||this}return r(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return g.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(g);e.MaxNode=y,e.MAX_NODE=new y,Object.defineProperties(u.NamedNode,{MIN:{value:new u.NamedNode(a.MIN_NAME,g.EMPTY_NODE)},MAX:{value:new u.NamedNode(a.MAX_NAME,e.MAX_NODE)}}),h.KeyIndex.__EMPTY_NODE=g.EMPTY_NODE,f.LeafNode.__childrenNodeConstructor=g,l.setMaxNode(e.MAX_NODE),c.setMaxNode(e.MAX_NODE)},Rgd9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("1zSO"),i=n("Fwmd"),o=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(e)}}catch(t){}return new i.MemoryStorage};e.PersistentStorage=o("localStorage"),e.SessionStorage=o("sessionStorage")},Rv9P:function(t,e,n){n("TL6u")},TL6u:function(t,e,n){(function(t){(function(){function t(t){return"string"==typeof t}function e(){}function r(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function i(t){return"array"==r(t)}function o(t){var e=r(t);return"array"==e||"object"==e&&"number"==typeof t.length}function a(t){return"function"==r(t)}function s(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function u(t,e,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?function(t,e,n){return t.call.apply(t.bind,arguments)}:function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}).apply(null,arguments)}function l(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function c(t,e){function n(){}n.prototype=e.prototype,t.ib=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Nc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function h(t){if(Error.captureStackTrace)Error.captureStackTrace(this,h);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function p(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function f(t){return la.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(ra,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ia,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(oa,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(aa,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(sa,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ua,"&#0;")),t):t}function d(t,e){return-1!=t.indexOf(e)}function g(t,e){return t<e?-1:t>e?1:0}function y(t,e){e.unshift(t),h.call(this,p.apply(null,e)),e.shift()}function m(t,e){throw new y("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function v(t,e){return 0<=ha(t,e)}function _(t,e){var n;return(n=0<=(e=ha(t,e)))&&Array.prototype.splice.call(t,e,1),n}function b(e,n){var r=0;!function(e,n){var r=e.length,i=t(e)?e.split(""):e;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,e)}(e,function(t,i){n.call(void 0,t,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&r++})}function w(t){return Array.prototype.concat.apply([],arguments)}function E(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t){return d(ca,t)}function S(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function T(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function I(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function O(t){for(var e in t)return!1;return!0}function N(t){var e,n={};for(e in t)n[e]=t[e];return n}function A(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<ma.length;o++)n=ma[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function P(t){return P[" "](t),t}function k(){var t=Zo.document;return t?t.documentMode:void 0}function R(t){return function(t,e){var n=Aa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=na(String(va)).split("."),r=na(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=g(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||g(0==a[2].length,0==s[2].length)||g(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function D(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function M(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function L(t,e){t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}function F(){this.next=this.b=this.a=null}function U(t){Zo.setTimeout(function(){throw t},0)}function V(t,e){Da||function(){if(-1!=String(Zo.Promise).indexOf("[native code]")){var t=Zo.Promise.resolve(void 0);Da=function(){t.then(j)}}else Da=function(){var t=j;!a(Zo.setImmediate)||Zo.Window&&Zo.Window.prototype&&!C("Edge")&&Zo.Window.prototype.setImmediate==Zo.setImmediate?(Ra||(Ra=function(){var t=Zo.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!C("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=u(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!C("Trident")&&!C("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).pb;n.pb=null,t()}},function(t){r.next={pb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){Zo.setTimeout(t,0)}}()),Ra(t)):Zo.setImmediate(t)}}(),xa||(Da(),xa=!0);var n=Ma,r=ka.get();r.set(t,e),n.b?n.b.next=r:n.a=r,n.b=r}function j(){for(var t;t=function(){var t=Ma,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}();){try{t.a.call(t.b)}catch(t){U(t)}L(ka,t)}xa=!1}function B(t,n){if(this.a=La,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=e)try{var r=this;t.call(n,function(t){Y(r,Fa,t)},function(t){if(!(t instanceof rt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Y(r,Ua,t)})}catch(t){Y(this,Ua,t)}}function q(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function W(t,e,n){var r=Va.get();return r.g=t,r.b=e,r.f=n,r}function H(t){if(t instanceof B)return t;var n=new B(e);return Y(n,Fa,t),n}function G(t){return new B(function(e,n){n(t)})}function K(t,e,n){Z(t,e,n,null)||V(l(e,t))}function Q(t,e){return e=W(e,e,void 0),e.c=!0,J(t,e),t}function z(t,e){if(t.a==La)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==La&&1==r?z(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):tt(n),et(n,i,Ua,e)))}t.c=null}else Y(t,Ua,e)}function J(t,e){t.b||t.a!=Fa&&t.a!=Ua||$(t),t.f?t.f.next=e:t.b=e,t.f=e}function X(t,e,n,r){var i=W(null,null,null);return i.a=new B(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof rt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,J(t,i),i.a}function Y(t,e,n){t.a==La&&(t===n&&(e=Ua,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Z(n,t.wc,t.xc,t)||(t.i=n,t.a=e,t.c=null,$(t),e!=Ua||n instanceof rt||function(t,e){t.g=!0,V(function(){t.g&&ja.call(null,e)})}(t,n)))}function Z(t,n,r,i){if(t instanceof B)return J(t,W(n||e,r||null,i)),!0;if(x(t))return t.then(n,r,i),!0;if(s(t))try{var o=t.then;if(a(o))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,o,n,r,i),!0}catch(t){return r.call(i,t),!0}return!1}function $(t){t.h||(t.h=!0,V(t.Mb,t))}function tt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function et(t,e,n,r){if(n==Ua&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,nt(e,n,r);else try{e.c?e.g.call(e.f):nt(e,n,r)}catch(t){ja.call(null,t)}L(Va,e)}function nt(t,e,n){e==Fa?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function rt(t){h.call(this,t)}function it(){this.a="",this.b=qa}function ot(t){return t instanceof it&&t.constructor===it&&t.b===qa?t.a:(m("expected object of type Const, got '"+t+"'"),"type_error:Const")}function at(t){var e=new it;return e.a=t,e}function st(){this.a="",this.b=Ga}function ut(t){return t instanceof st&&t.constructor===st&&t.b===Ga?t.a:(m("expected object of type TrustedResourceUrl, got '"+t+"' of type "+r(t)),"type_error:TrustedResourceUrl")}function lt(t,e){return t=function(t,e){var n=ot(t);if(!Ha.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return n.replace(Wa,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof it?ot(t):encodeURIComponent(String(t))})}(t,e),e=new st,e.a=t,e}function ct(){this.a="",this.b=Qa}function ht(t){return t instanceof ct&&t.constructor===ct&&t.b===Qa?t.a:(m("expected object of type SafeUrl, got '"+t+"' of type "+r(t)),"type_error:SafeUrl")}function pt(t){return t instanceof ct?t:(t=t.la?t.ja():String(t),Ka.test(t)||(t="about:invalid#zClosurez"),ft(t))}function ft(t){var e=new ct;return e.a=t,e}function dt(){this.a="",this.b=za}function gt(t){var e=new dt;return e.a=t,e}function yt(e){var n=document;return t(e)?n.getElementById(e):e}function mt(t,e){S(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ja.hasOwnProperty(n)?t.setAttribute(Ja[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function vt(t){var e=[];return _t(new function(){},t,e),e.join("")}function _t(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(i(e)){var r=e;e=r.length,n.push("[");for(var o="",a=0;a<e;a++)n.push(o),_t(t,r[a],n),o=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),o="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(a=e[r])&&(n.push(o),bt(r,n),n.push(":"),_t(t,a,n),o=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":bt(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function bt(t,e){e.push('"',t.replace(Ya,function(t){var e=Xa[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Xa[t]=e),e}),'"')}function wt(){0!=Za&&($a[this[$o]||(this[$o]=++ta)]=this),this.oa=this.oa,this.Fa=this.Fa}function Et(t){t.oa||(t.oa=!0,t.ta(),0!=Za&&(t=t[$o]||(t[$o]=++ta),delete $a[t]))}function Ct(t,e){this.type=t,this.b=this.target=e,this.Ab=!0}function St(e,n){if(Ct.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(Ca){t:{try{P(n.nodeName);var o=!0;break t}catch(t){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:is[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.c()}}function Tt(t){t.ma=!0,t.listener=null,t.a=null,t.src=null,t.La=null}function It(t){this.src=t,this.a={},this.b=0}function Ot(t,e,n,r,i,o){var a=e.toString();(e=t.a[a])||(e=t.a[a]=[],t.b++);var s=At(e,n,i,o);return-1<s?(t=e[s],r||(t.Ha=!1)):(t=new function(t,e,n,r,i){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++as,this.ma=this.Ha=!1}(n,t.src,a,!!i,o),t.Ha=r,e.push(t)),t}function Nt(t,e){var n=e.type;n in t.a&&_(t.a[n],e)&&(Tt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function At(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ma&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}function Pt(t,e,n,r,o){if(r&&r.once)Rt(t,e,n,r,o);else if(i(e))for(var a=0;a<e.length;a++)Pt(t,e[a],n,r,o);else n=Vt(n),t&&t[os]?qt(t,e,n,s(r)?!!r.capture:!!r,o):kt(t,e,n,!1,r,o)}function kt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,u=Ut(t);if(u||(t[ss]=u=new It(t)),!(n=Ot(u,e,n,r,a,o)).a){if(r=function(){var t=function(t,e){if(t.ma)return!0;if(!es){if(!e)t:{e=["window","event"];for(var n=Zo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new St(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Lt(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Lt(r[i],t,!1,e),n=n&&o}return n}return Ft(t,new St(e,this))},e=es?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.a=r,r.src=t,r.listener=n,t.addEventListener)rs||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(Mt(e.toString()),r)}ls++}}function Rt(t,e,n,r,o){if(i(e))for(var a=0;a<e.length;a++)Rt(t,e[a],n,r,o);else n=Vt(n),t&&t[os]?Wt(t,e,n,s(r)?!!r.capture:!!r,o):kt(t,e,n,!0,r,o)}function Dt(t,e,n,r,o){if(i(e))for(var a=0;a<e.length;a++)Dt(t,e[a],n,r,o);else r=s(r)?!!r.capture:!!r,n=Vt(n),t&&t[os]?(t=t.u,(e=String(e).toString())in t.a&&(a=t.a[e],-1<(n=At(a,n,r,o))&&(Tt(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.a[e],t.b--)))):t&&(t=Ut(t))&&(e=t.a[e.toString()],t=-1,e&&(t=At(e,n,r,o)),(n=-1<t?e[t]:null)&&xt(n))}function xt(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[os])Nt(e.u,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(Mt(n),r),ls--,(n=Ut(e))?(Nt(n,t),0==n.b&&(n.src=null,e[ss]=null)):Tt(t)}}}function Mt(t){return t in us?us[t]:us[t]="on"+t}function Lt(t,e,n,r){var i=!0;if((t=Ut(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ma&&(o=Ft(o,r),i=i&&!1!==o)}return i}function Ft(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&xt(t),n.call(r,e)}function Ut(t){return(t=t[ss])instanceof It?t:null}function Vt(t){return a(t)?t:(t[cs]||(t[cs]=function(e){return t.handleEvent(e)}),t[cs])}function jt(){wt.call(this),this.u=new It(this),this.Eb=this,this.Ra=null}function Bt(e,n){var r,i=e.Ra;if(i)for(r=[];i;i=i.Ra)r.push(i);if(e=e.Eb,i=n.type||n,t(n))n=new Ct(n,e);else if(n instanceof Ct)n.target=n.target||e;else{var o=n;A(n=new Ct(i,e),o)}if(o=!0,r)for(var a=r.length-1;0<=a;a--){var s=n.b=r[a];o=Ht(s,i,!0,n)&&o}if(s=n.b=e,o=Ht(s,i,!0,n)&&o,o=Ht(s,i,!1,n)&&o,r)for(a=0;a<r.length;a++)s=n.b=r[a],o=Ht(s,i,!1,n)&&o}function qt(t,e,n,r,i){Ot(t.u,String(e),n,!1,r,i)}function Wt(t,e,n,r,i){Ot(t.u,String(e),n,!0,r,i)}function Ht(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&Nt(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ab}function Gt(t,e,n){if(a(t))n&&(t=u(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=u(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zo.setTimeout(t,e||0)}function Kt(t){var e=null;return new B(function(n,r){-1==(e=Gt(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw Zo.clearTimeout(e),t})}function Qt(t,e,n,r,i){this.reset(t,e,n,r,i)}function zt(t){this.f=t,this.b=this.c=this.a=null}function Jt(t,e){this.name=t,this.value=e}function Xt(t){return t.c?t.c:t.a?Xt(t.a):(m("Root logger has no level set."),null)}function Yt(t){ys||(ys=new zt(""),gs[""]=ys,ys.c=fs);var e;if(!(e=gs[t])){e=new zt(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Yt(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,gs[t]=e}return e}function Zt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof Zt?(n=t.S(),r=t.P()):(n=I(t),r=T(t));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function $t(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];te(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],te(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ee(t,e){t&&t.log(ds,e,void 0)}function ne(t,e){this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function re(t,e,n){t.a=!0,t.c=n,t.f=!e,se(t)}function ie(t){if(t.a){if(!t.u)throw new ue;t.u=!1}}function oe(t,e,n,r){t.g.push([e,n,r]),t.a&&se(t)}function ae(t){return da(t.g,function(t){return a(t[1])})}function se(t){if(t.h&&t.a&&ae(t)){var e=t.h,n=bs[e];n&&(Zo.clearTimeout(n.a),delete bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(x(e)||"function"==typeof Zo.Promise&&e instanceof Zo.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,ae(t)||(n=!0)}}t.c=e,r&&(s=u(t.m,t,!0),r=u(t.m,t,!1),e instanceof ne?(oe(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new ce(e),bs[e.a]=e,t.h=e.a)}function ue(){h.call(this)}function le(){h.call(this)}function ce(t){this.a=Zo.setTimeout(u(this.c,this),0),this.b=t}function he(t,e){this.b=-1,this.b=ws,this.f=Zo.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=Zo.Int32Array?new Int32Array(64):Array(64),_s||(_s=Zo.Int32Array?new Int32Array(Is):Is),this.reset()}function pe(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|_s[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+p|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function fe(e,n,r){void 0===r&&(r=n.length);var i=0,a=e.c;if(t(n))for(;i<r;)e.f[a++]=n.charCodeAt(i++),a==e.b&&(pe(e),a=0);else{if(!o(n))throw Error("message must be string or array");for(;i<r;){var s=n[i++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");e.f[a++]=s,a==e.b&&(pe(e),a=0)}}e.c=a,e.g+=r}function de(){he.call(this,8,Os)}function ge(e){if(e.P&&"function"==typeof e.P)return e.P();if(t(e))return e.split("");if(o(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}return T(e)}function ye(e){if(e.S&&"function"==typeof e.S)return e.S();if(!e.P||"function"!=typeof e.P){if(o(e)||t(e)){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}return I(e)}}function me(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof me){this.f=void 0!==e?e:t.f,ve(this,t.c),this.l=t.l,this.b=t.b,_e(this,t.i),this.g=t.g,e=t.a;var n=new Oe;n.c=e.c,e.a&&(n.a=new Zt(e.a),n.b=e.b),be(this,n),this.h=t.h}else t&&(n=String(t).match(Ns))?(this.f=!!e,ve(this,n[1]||"",!0),this.l=Te(n[2]||""),this.b=Te(n[3]||"",!0),_e(this,n[4]),this.g=Te(n[5]||"",!0),be(this,n[6]||"",!0),this.h=Te(n[7]||"")):(this.f=!!e,this.a=new Oe(null,0,this.f))}function ve(t,e,n){t.c=n?Te(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function _e(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function be(t,e,n){e instanceof Oe?(t.a=e,function(t,e){e&&!t.f&&(Ne(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ke(this,e),De(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Ie(e,Rs)),t.a=new Oe(e,0,t.f))}function we(t,e,n){t.a.set(e,n)}function Ee(t,e){return t.a.get(e)}function Ce(t){return t instanceof me?new me(t):new me(t,void 0)}function Se(t,e){var n=new me(null,void 0);return ve(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Te(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ie(e,n,r){return t(e)?(e=encodeURI(e).replace(n,function(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Oe(t,e,n){this.b=this.a=null,this.c=t||null,this.f=!!n}function Ne(t){t.a||(t.a=new Zt,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){Pe(t,decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ae(t){var e=ye(t);if(void 0===e)throw Error("Keys are undefined");var n=new Oe(null,0,void 0);t=ge(t);for(var r=0;r<e.length;r++){var o=e[r],a=t[r];i(a)?De(n,o,a):Pe(n,o,a)}return n}function Pe(t,e,n){Ne(t),t.c=null,e=xe(t,e);var r=t.a.get(e);r||t.a.set(e,r=[]),r.push(n),t.b+=1}function ke(t,e){Ne(t),e=xe(t,e),te(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,te(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$t(t)))}function Re(t,e){return Ne(t),e=xe(t,e),te(t.a.b,e)}function De(t,e,n){ke(t,e),0<n.length&&(t.c=null,t.a.set(xe(t,e),E(n)),t.b+=n.length)}function xe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Me(){}function Le(){}function Fe(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ue(t){jt.call(this),this.headers=new Zt,this.w=t||null,this.b=!1,this.v=this.a=null,this.g=this.I=this.i="",this.c=this.G=this.h=this.A=!1,this.f=0,this.m=null,this.l=Ms,this.o=this.N=!1}function Ve(t,e){t.b=!1,t.a&&(t.c=!0,t.a.abort(),t.c=!1),t.g=e,je(t),qe(t)}function je(t){t.A||(t.A=!0,Bt(t,"complete"),Bt(t,"error"))}function Be(t){if(t.b&&void 0!==Yo)if(t.v[1]&&4==He(t)&&2==Ge(t))ee(t.J,Ke(t,"Local request error detected and ignored"));else if(t.h&&4==He(t))Gt(t.zb,0,t);else if(Bt(t,"readystatechange"),4==He(t)){ee(t.J,Ke(t,"Request complete")),t.b=!1;try{var e=Ge(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.i).match(Ns)[1]||null;if(!o&&Zo.self&&Zo.self.location){var a=Zo.self.location.protocol;o=a.substr(0,a.length-1)}i=!Us.test(o?o.toLowerCase():"")}r=i}if(r)Bt(t,"complete"),Bt(t,"success");else{try{var s=2<He(t)?t.a.statusText:""}catch(e){ee(t.J,"Can not get status: "+e.message),s=""}t.g=s+" ["+Ge(t)+"]",je(t)}}finally{qe(t)}}}function qe(t,n){if(t.a){We(t);var r=t.a,i=t.v[0]?e:null;t.a=null,t.v=null,n||Bt(t,"ready");try{r.onreadystatechange=i}catch(e){(t=t.J)&&t.log(ps,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function We(t){t.a&&t.o&&(t.a.ontimeout=null),"number"==typeof t.m&&(Zo.clearTimeout(t.m),t.m=null)}function He(t){return t.a?t.a.readyState:0}function Ge(t){try{return 2<He(t)?t.a.status:-1}catch(t){return-1}}function Ke(t,e){return e+" ["+t.I+" "+t.i+" "+Ge(t)+"]"}function Qe(t){var e={},n=e.document||document,r=ut(t),i=document.createElement("SCRIPT"),o={Bb:i,Ea:void 0},a=new ne(function(){if(this&&this.Bb){var t=this.Bb;t&&"SCRIPT"==t.tagName&&ze(t,!0,this.Ea)}},o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){ze(i,!0);var t=new Je(qs,"Timeout reached for loading script "+r);ie(a),re(a,!1,t)},u),o.Ea=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ze(i,e.Oc||!1,s),a.A(null))},i.onerror=function(){ze(i,!0,s);var t=new Je(Bs,"Error while loading script "+r);ie(a),re(a,!1,t)},o=e.attributes||{},A(o,{type:"text/javascript",charset:"UTF-8"}),mt(i,o),i.src=ut(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function ze(t,n,r){null!=r&&Zo.clearTimeout(r),t.onload=e,t.onerror=e,t.onreadystatechange=e,n&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function Je(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),h.call(this,n),this.code=t}function Xe(){}function Ye(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.a.onload=u(this.Sb,this),this.a.onerror=u(this.wb,this),this.a.onprogress=u(this.Tb,this),this.a.ontimeout=u(this.Ub,this)}function Ze(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $e(){var t=dn();return ba&&!!Na&&11==Na||/Edge\/\d+/.test(t)}function tn(){return Zo.window&&Zo.window.location.href||""}function en(t,e){e=e||Zo.window;var n="about:blank";t&&(n=ht(pt(t))),e.location.href=n}function nn(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):i(t[n])?function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0}(t[n],e[n])||r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<nn(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function rn(t){return!!((t=(t||dn()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function on(t){t=t||Zo.window;try{t.close()}catch(t){}}function an(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,a=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<o?o:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=dn().toLowerCase(),i&&(e.target=i,d(n,"crios/")&&(e.target="_blank")),pn(dn())==Hs&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(i=e)||(i={}),t=window,e=n instanceof ct?n:pt(void 0!==n.href?n.href:String(n)),n=i.target||n.target,o=[];for(s in i)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+i[s]);break;case"target":case"noreferrer":break;default:o.push(s+"="+(i[s]?1:0))}var s=o.join(",");if((C("iPhone")&&!C("iPod")&&!C("iPad")||C("iPad")||C("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(s=t.document.createElement("A"),e instanceof ct||e instanceof ct||(e=e.la?e.ja():String(e),Ka.test(e)||(e="about:invalid#zClosurez"),e=ft(e)),s.href=ht(e),s.setAttribute("target",n),i.noreferrer&&s.setAttribute("rel","noreferrer"),(i=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,t,1),s.dispatchEvent(i),s={}):i.noreferrer?(s=t.open("",n,s),t=ht(e),s&&(Ea&&d(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,at("b/12014412, meta tag with sanitized URL"),t='<META HTTP-EQUIV="refresh" content="0; url='+f(t)+'">',t=gt(t),s.document.write(function(t){return t instanceof dt&&t.constructor===dt&&t.b===za?t.a:(m("expected object of type SafeHtml, got '"+t+"' of type "+r(t)),"type_error:SafeHtml")}(t)),s.document.close())):s=t.open(ht(e),n,s),s)try{s.focus()}catch(t){}return s}function sn(){var t=null;return new B(function(e){"complete"==Zo.document.readyState?e():(t=function(){e()},Rt(window,"load",t))}).s(function(e){throw Dt(window,"load",t),e})}function un(t){return t=t||dn(),!("file:"!==_n()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){var t=Zo.window;try{return!(!t||t==t.top)}catch(t){return!1}}function cn(){return Xo.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Xo.INTERNAL.hasOwnProperty("node")?"Node":"Browser"}function hn(){var t=cn();return"ReactNative"===t||"Node"===t}function pn(t){var e=t.toLowerCase();return d(e,"opera/")||d(e,"opr/")||d(e,"opios/")?"Opera":d(e,"iemobile")?"IEMobile":d(e,"msie")||d(e,"trident/")?"IE":d(e,"edge/")?"Edge":d(e,"firefox/")?Hs:d(e,"silk/")?"Silk":d(e,"blackberry")?"Blackberry":d(e,"webos")?"Webos":!d(e,"safari/")||d(e,"chrome/")||d(e,"crios/")||d(e,"android")?!d(e,"chrome/")&&!d(e,"crios/")||d(e,"edge/")?d(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Gs:"Safari"}function fn(t,e){e=e||[];var n,r=[],i={};for(n in Ks)i[Ks[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),r=cn(),i="",(i="Browser"===r?pn(dn()):r)+"/JsCore/"+t+"/"+e.join(",")}function dn(){return Zo.navigator&&Zo.navigator.userAgent||""}function gn(t,e){t=t.split("."),e=e||Zo;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function yn(){try{var t=Zo.localStorage,e=Sn();if(t)return t.setItem(e,"1"),t.removeItem(e),!$e()||!!Zo.indexedDB}catch(t){}return!1}function mn(){return(vn()||"chrome-extension:"===_n()||un())&&!hn()&&yn()}function vn(){return"http:"===_n()||"https:"===_n()}function _n(){return Zo.location&&Zo.location.protocol||null}function bn(t){return t=t||dn(),!rn(t)&&pn(t)!=Hs}function wn(t){return void 0===t?null:vt(t)}function En(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Cn(t){if(null!==t)return JSON.parse(t)}function Sn(t){return t||""+Math.floor(1e9*Math.random()).toString()}function Tn(t){return t=t||dn(),"Safari"!=pn(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function In(){var t=Zo.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function On(){var t=Zo.navigator;return!t||"boolean"!=typeof t.onLine||!vn()&&"chrome-extension:"!==_n()&&void 0===t.connection||t.onLine}function Nn(t,e,n,r){if(t>e)throw Error("Short delay should be less than long delay!");this.c=t,this.b=e,t=n||dn(),r=r||cn(),this.a=rn(t)||"ReactNative"===r}function An(){var t=Zo.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Pn(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function kn(t,e,n){Qs?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Rn(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&kn(t,n,e[n])}function Dn(t){var e={};return Rn(e,t),e}function xn(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)kn(e,n,xn(t[n]))}return e}function Mn(t,e){this.code=Xs+t,this.message=e||Ys[t]||""}function Ln(t){var e=t&&t.code;return e?new Mn(e.substring(Xs.length),t.message):null}function Fn(t){var e=t[eu];if(void 0===e)throw new Mn("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Mn("invalid-continue-uri");this.h=e,this.c=this.a=null,this.g=!1;var n=t[Zs];if(n&&"object"==typeof n){e=n[iu];var r=n[nu];if(n=n[ru],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Mn("argument-error",nu+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Mn("argument-error",ru+" property must be a non empty string when specified.");this.c=n||null}else{if(void 0!==e)throw new Mn("argument-error",iu+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Mn("missing-android-pkg-name")}}else if(void 0!==n)throw new Mn("argument-error",Zs+" property must be a non null object when specified.");if(this.b=null,(e=t[tu])&&"object"==typeof e){if("string"==typeof(e=e[ou])&&e.length)this.b=e;else if(void 0!==e)throw new Mn("argument-error",ou+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Mn("argument-error",tu+" property must be a non null object when specified.");if(void 0!==(t=t[$s])&&"boolean"!=typeof t)throw new Mn("argument-error",$s+" property must be a boolean when specified.");if((this.f=!!t)&&!this.b&&!this.a)throw new Mn("argument-error",$s+" property can't be true when no mobile application is provided.")}function Un(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.f,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.c,e.androidInstallApp=t.g),e.iOSBundleId=t.b;for(var n in e)null===e[n]&&delete e[n];return e}function Vn(t){if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=vs[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ms){ms={},vs={};for(var t=0;65>t;t++)ms[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),vs[ms[t]]=t,62<=t&&(vs["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t));if(r.sub&&r.iss&&r.aud&&r.exp)return new function(t){this.b=t.sub,ea(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null}(r)}catch(t){}return null}function jn(t){for(var e in uu)if(uu[e].Na==t)return uu[e];return null}function Bn(t){var e={};e["facebook.com"]=Hn,e["google.com"]=Kn,e["github.com"]=Gn,e["twitter.com"]=Qn;var n=t&&t[cu];try{if(n)return e[n]?new e[n](t):new Wn(t);if(void 0!==t[lu])return new qn(t)}catch(t){}return null}function qn(t){var e=t[cu];if(!e&&t[lu]){var n=Vn(t[lu]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");t=!!t.isNewUser,kn(this,"providerId",e),kn(this,"isNewUser",t)}function Wn(t){qn.call(this,t),kn(this,"profile",xn((t=Cn(t.rawUserInfo||"{}"))||{}))}function Hn(t){if(Wn.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gn(t){if(Wn.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");kn(this,"username",this.profile&&this.profile.login||null)}function Kn(t){if(Wn.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qn(t){if(Wn.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");kn(this,"username",t.screenName||null)}function zn(t,e){return t.then(function(t){if(t[pu]){var n=Vn(t[pu]);if(!n||e!=n.b)throw new Mn("user-mismatch");return t}throw new Mn("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Xs+"user-not-found"?new Mn("user-mismatch"):t})}function Jn(t,e){if(e.idToken||e.accessToken)e.idToken&&kn(this,"idToken",e.idToken),e.accessToken&&kn(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Mn("internal-error","failed to construct a credential");kn(this,"accessToken",e.oauthToken),kn(this,"secret",e.oauthTokenSecret)}kn(this,"providerId",t)}function Xn(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:Ae(e).toString(),requestUri:"http://localhost"}}function Yn(t,e){this.nc=e||[],Rn(this,{providerId:t,isOAuthProvider:!0}),this.qb={},this.Wa=(jn(t)||{}).Ma||null,this.Ua=null}function Zn(t){Yn.call(this,t,su),this.a=[]}function $n(){Zn.call(this,"facebook.com")}function tr(t){if(!t)throw new Mn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return s(t)&&(e=t.accessToken),(new $n).credential(null,e)}function er(){Zn.call(this,"github.com")}function nr(t){if(!t)throw new Mn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return s(t)&&(e=t.accessToken),(new er).credential(null,e)}function rr(){Zn.call(this,"google.com"),this.sa("profile")}function ir(t,e){var n=t;return s(t)&&(n=t.idToken,e=t.accessToken),(new rr).credential(n,e)}function or(){Yn.call(this,"twitter.com",au)}function ar(t,e){var n=t;if(s(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Mn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jn("twitter.com",n)}function sr(t,e){this.a=t,this.f=e,kn(this,"providerId","password")}function ur(){Rn(this,{providerId:"password",isOAuthProvider:!1})}function lr(t){if(!(t.Pa&&t.Oa||t.Da&&t.Y))throw new Mn("internal-error");this.a=t,kn(this,"providerId","phone")}function cr(t){return t.a.Da&&t.a.Y?{temporaryProof:t.a.Da,phoneNumber:t.a.Y}:{sessionInfo:t.a.Pa,code:t.a.Oa}}function hr(t){try{this.a=t||Xo.auth()}catch(t){throw new Mn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Rn(this,{providerId:"phone",isOAuthProvider:!1})}function pr(t,e){if(!t)throw new Mn("missing-verification-id");if(!e)throw new Mn("missing-verification-code");return new lr({Pa:t,Oa:e})}function fr(t){if(t.temporaryProof&&t.phoneNumber)return new lr({Da:t.temporaryProof,Y:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return ir(t,n);case"facebook.com":return tr(n);case"github.com":return nr(n);case"twitter.com":return ar(n,r);default:return new Zn(e).credential(t,n)}}catch(t){return null}}function dr(t){if(!t.isOAuthProvider)throw new Mn("invalid-oauth-provider")}function gr(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Mn("invalid-auth-event");if(this.f&&this.a)throw new Mn("invalid-auth-event");if(this.f&&!this.g)throw new Mn("invalid-auth-event")}function yr(t){return(t=t||{}).type?new gr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ln(t.error)):null}function mr(t){var e="unauthorized-domain",n=void 0,r=Ce(t);t=r.b,"chrome-extension"==(r=r.c)?n=p("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=p("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Mn.call(this,e,n)}function vr(t,e,n){Mn.call(this,t,n),(t=e||{}).rb&&kn(this,"email",t.rb),t.Y&&kn(this,"phoneNumber",t.Y),t.credential&&kn(this,"credential",t.credential)}function _r(t){if(t.code){var e=t.code||"";0==e.indexOf(Xs)&&(e=e.substring(Xs.length));var n={credential:fr(t)};if(t.email)n.rb=t.email;else{if(!t.phoneNumber)return new Mn(e,t.message||void 0);n.Y=t.phoneNumber}return new vr(e,n,t.message)}return null}function br(t){this.f=t}function wr(t,e,n){var r="Node"==cn();if(!(r=Zo.XMLHttpRequest||r&&Xo.INTERNAL.node&&Xo.INTERNAL.node.XMLHttpRequest))throw new Mn("internal-error","The XMLHttpRequest compatibility library was not found.");this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||fu,this.c=N(t.secureTokenHeaders||du),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||gu,this.a=N(t.firebaseHeaders||yu),n&&(this.a["X-Client-Version"]=n,this.c["X-Client-Version"]=n),this.f=new Xe,this.o=new br(r)}function Er(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Cr(t,e){e?(t.a["X-Client-Version"]=e,t.c["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.c["X-Client-Version"])}function Sr(t,e,n,r,i,o,a){On()?(function(){var t=dn();return!((t=pn(t)!=Gs?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||ba&&Na&&!(9<Na))}()?t=u(t.m,t):(hu||(hu=new B(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(Zo[vu]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){oe(Qe(lt(mu,{onload:vu})),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=u(t.u,t)),t(e,n,r,i,o,a)):n&&n(null)}function Tr(t){if(!js.test(t.email))throw new Mn("invalid-email")}function Ir(t){"email"in t&&Tr(t)}function Or(t){if(!t[pu])throw new Mn("internal-error")}function Nr(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Mn("internal-error")}else{if(!t.sessionInfo)throw new Mn("missing-verification-id");if(!t.code)throw new Mn("missing-verification-code")}}function Ar(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Mn("internal-error")}function Pr(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=_r(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=_r(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=_r(t)),e)throw e;if(!t[pu])throw new Mn("internal-error")}function kr(t,e){return e.returnIdpCredential=!0,Mr(t,Fu,e)}function Rr(t,e){return e.returnIdpCredential=!0,Mr(t,Vu,e)}function Dr(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Mr(t,Uu,e)}function xr(t){if(!t.oobCode)throw new Mn("invalid-action-code")}function Mr(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.ea))return G(new Mn("internal-error"));var r,i=e.yb||"POST";return H(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Ce(t.g+e);we(a,"key",t.b),o&&we(a,"cb",ea().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&we(a,u,r[u]);return new B(function(e,o){Sr(t,a.toString(),function(t){t?t.error?o(Lr(t,i||{})):e(t):o(new Mn("network-request-failed"))},n,s?void 0:vt(En(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Lb,e.nb||!1)}).then(function(t){return r=t}).then(e.O).then(function(){if(!e.ga)return r;if(!(e.ga in r))throw new Mn("internal-error");return r[e.ga]})}function Lr(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Mn(r[n]):null)return n;n=t.error&&t.error.message||"",A(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Mn(r[i],e);return!e&&t&&(e=wn(t)),new Mn("internal-error",e)}function Fr(t){for(var e in Gu)if(Gu[e].id===t)return t=Gu[e],{firebaseEndpoint:t.Va,secureTokenEndpoint:t.ab};return null}function Ur(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Se(this.i,"/__/auth/iframe"),we(this.a,"apiKey",this.g),we(this.a,"appName",this.h),this.b=null,this.c=[]}function Vr(t,e,n,r,i){this.m=t,this.u=e,this.c=n,this.l=r,this.i=this.g=this.h=null,this.a=i,this.f=null}function jr(t){try{return Xo.app(t).auth().Ka()}catch(t){return[]}}function Br(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function qr(t){var e=tn();return function(t){return Mr(t,Pu,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ce(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ce(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Ws.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new mr(tn())})}function Wr(t){return t.l?t.l:(t.l=sn().then(function(){if(!t.o){var e=t.c,n=t.h,r=jr(t.b),i=new Ur(t.u,t.f,t.b);i.f=e,i.b=n,i.c=E(r||[]),t.o=i.toString()}t.i=new function(t){this.b=t,this.a=null,this.Ya=function(t){return(Ju||(Ju=new B(function(t,e){if(On()){var n=function(){In(),gn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){In(),e(Error("Network Error"))},timeout:Qu.get()})};if(gn("gapi.iframes.Iframe"))t();else if(gn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();Zo[r]=function(){gn("gapi.load")?n():e(Error("Network Error"))},H(Qe(r=lt(Ku,{onload:r}))).s(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).s(function(t){throw Ju=null,t}))).then(function(){return new B(function(e,n){gn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:gn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},zu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.Ya.then(function(){t.a.register("authEvent",e,gn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=yr(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",H(n)}return n.status="ERROR",H(n)})}(t)}),t.l)}function Hr(t){return t.m||(t.v=t.c?fn(t.c,jr(t.b)):null,t.m=new wr(t.f,Fr(t.h),t.v)),t.m}function Gr(t,e,n,r,i,o,a,s,u,l){return t=new Vr(t,e,n,r,i),t.h=o,t.g=a,t.i=s,t.b=N(u||null),t.f=l,t.toString()}function Kr(t){if(this.a=t||Xo.INTERNAL.reactNative&&Xo.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Mn("internal-error","The React Native compatibility library was not found.")}function Qr(){this.a={}}function zr(t,e,n,r,i,o){if(!window.indexedDB)throw new Mn("web-storage-unsupported");this.u=t,this.h=e,this.g=n,this.l=r,this.m=i,this.f={},this.c=[],this.a=0,this.o=o||Zo.indexedDB}function Jr(t){return t.i||(t.i=function(t){return new B(function(e,n){var r=t.o.open(t.u,t.m);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.h,{keyPath:t.g})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})}(t)),t.i}function Xr(t,e){return e.objectStore(t.h)}function Yr(t,e,n){return e.transaction([t.h],n?"readwrite":"readonly")}function Zr(t){return new B(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function $r(){if(!function(){var t="Node"==cn();if(!(t=Zo.localStorage||t&&Xo.INTERNAL.node&&Xo.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==cn())throw new Mn("internal-error","The LocalStorage compatibility library was not found.");throw new Mn("web-storage-unsupported")}this.a=Zo.localStorage||Xo.INTERNAL.node.localStorage}function ti(){}function ei(){if(!function(){var t="Node"==cn();if(!(t=Zo.sessionStorage||t&&Xo.INTERNAL.node&&Xo.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==cn())throw new Mn("internal-error","The SessionStorage compatibility library was not found.");throw new Mn("web-storage-unsupported")}this.a=Zo.sessionStorage||Xo.INTERNAL.node.sessionStorage}function ni(t,e,n,r){this.i=t,this.g=e,this.w=n,this.u=r,this.a={},Yu||(Yu=new function(){var t={};t.Browser=$u,t.Node=tl,t.ReactNative=el,this.a=t[cn()]}),t=Yu;try{if($e()){Xu||(Xu=new zr("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var i=Xu}else i=new t.a.C;this.l=i}catch(t){this.l=new Qr,this.u=!0}try{this.o=new t.a.jb}catch(t){this.o=new Qr}this.v=new Qr,this.h=u(this.m,this),this.b={}}function ri(){return Zu||(Zu=new ni("firebase",":",!(Tn(dn())||!ln()),bn())),Zu}function ii(t,e){switch(e){case"session":return t.o;case"none":return t.v;default:return t.l}}function oi(t,e,n){return t.i+t.g+e.name+(n?t.g+n:"")}function ai(t,e,n){return n=oi(t,e,n),"local"==e.C&&(t.b[n]=null),ii(t,e.C).X(n)}function si(t,e,n,r){e=oi(t,e,n),void 0!==Zo.localStorage&&"function"==typeof Zo.localStorage.getItem&&(t.b[e]=Zo.localStorage.getItem(e)),O(t.a)&&(ii(t,"local").ia(t.h),t.u||$e()||function(t){ui(t),t.f=setInterval(function(){for(var e in t.a){var n=Zo.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new St({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.m(n))}},1e3)}(t)),t.a[e]||(t.a[e]=[]),t.a[e].push(r)}function ui(t){t.f&&(clearInterval(t.f),t.f=null)}function li(t,e,n,r,i,o,a){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=a||null,this.h=e+":"+n,this.A=new function(){this.a=ri()},this.g=new function(t){this.a=t,this.b=ri()}(this.h),this.f=null,this.b=[],this.v=i||500,this.w=o||2e3,this.a=this.c=null}function ci(t){return new Mn("invalid-cordova-configuration",t)}function hi(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function pi(t){return t.f||(t.f=t.ba().then(function(){return new B(function(e){function n(r){return e(r),t.Ja(n),!1}t.ua(n),function(t){function e(e){i=!0,o&&o.cancel(),fi(t).then(function(n){var i=r;if(n&&e&&e.url){i=null;var o=e.url,a=Ce(o),s=Ee(a,"link"),u=Ee(Ce(s),"link");-1!=(o=Ee(Ce(a=Ee(a,"deep_link_id")),"link")||a||u||s||o).indexOf("/__/auth/callback")&&(i=Ce(o),i=Cn(Ee(i,"firebaseError")||null),i=(i="object"==typeof i?Ln(i):null)?new gr(n.b,n.c,null,null,i):new gr(n.b,n.c,o,n.g)),i=i||r}hi(t,i)})}var n=gn("universalLinks.subscribe",Zo);if("function"!=typeof n)throw new Mn("invalid-cordova-configuration");var r=new gr("unknown",null,null,null,new Mn("no-auth-event")),i=!1,o=Kt(t.v).then(function(){return fi(t).then(function(){i||hi(t,r)})}),a=Zo.handleOpenURL;Zo.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(gn("BuildInfo.packageName",Zo).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},n(null,e)}(t)})})),t.f}function fi(t){var e=null;return function(t){return t.b.get(rl,t.a).then(function(t){return yr(t)})}(t.g).then(function(n){return e=n,n=t.g,ai(n.b,rl,n.a)}).then(function(){return e})}function di(t){return ai(t.b,il,t.a)}function gi(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.i=u(this.m,this),this.c=new Ei,this.o=new Ii,this.g=new function(t){this.a=t,this.b=ri()}(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.o,this.b.linkViaPopup=this.o,this.b.reauthViaPopup=this.o,this.a=yi(this.v,this.l,this.u,bu)}function yi(t,e,n,r){var i=Xo.SDK_VERSION||null;return un()?new li(t,e,n,i,void 0,void 0,r):new Br(t,e,n,i,r)}function mi(t){t.f||(t.f=!0,t.a.ua(t.i));var e=t.a;return t.a.ba().s(function(n){throw t.a==e&&t.reset(),n})}function vi(t){t.a.Cb()&&mi(t).s(function(e){var n=new gr("unknown",null,null,null,new Mn("operation-not-supported-in-this-environment"));bi(e)&&t.m(n)}),t.a.xb()||Ci(t.c)}function _i(t,e,n,r,i,o){return t.a.ub(e,n,r,function(){t.f||(t.f=!0,t.a.ua(t.i))},function(){t.reset()},i,o)}function bi(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function wi(t,e,n){var r=e+":"+n;return sl[r]||(sl[r]=new gi(t,e,n)),sl[r]}function Ei(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function Ci(t){t.g||(t.g=!0,Ti(t,!1,null,null))}function Si(t,e){if(t.b=function(){return H(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Ti(t,e,n,r){e?r?function(t,e){if(t.b=function(){return G(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Si(t,n):Si(t,{user:null}),t.f=[],t.c=[]}function Ii(){}function Oi(t,e){this.a=e,kn(this,"verificationId",t)}function Ni(t,e,n,r){return new hr(t).Qa(e,n).then(function(t){return new Oi(t,r)})}function Ai(t,e,n,r,i,o){if(this.h=t,this.i=e,this.g=n,this.c=r,this.f=i,this.l=!!o,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Pi(t,e){ki(t),t.b=Kt(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return t.l?H():function(){var t=Zo.document,e=null;return An()||!t?H():new B(function(n){t.addEventListener("visibilitychange",e=function(){An()&&(t.removeEventListener("visibilitychange",e,!1),n())},!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){Pi(t,!0)}).s(function(e){t.i(e)&&Pi(t,!1)})}function ki(t){t.b&&(t.b.cancel(),t.b=null)}function Ri(t){this.f=t,this.b=this.a=null,this.c=0}function Di(t,e){var n=e[pu],r=e.refreshToken;e=xi(e.expiresIn),t.b=n,t.c=e,t.a=r}function xi(t){return ea()+1e3*parseInt(t,10)}function Mi(t,e){this.a=t||null,this.b=e||null,Rn(this,{lastSignInTime:Pn(e||null),creationTime:Pn(t||null)})}function Li(t,e){Ct.call(this,t);for(var n in e)this[n]=e[n]}function Fi(t,e,n){this.A=[],this.G=t.apiKey,this.o=t.appName,this.w=t.authDomain||null,t=Xo.SDK_VERSION?fn(Xo.SDK_VERSION):null,this.c=new wr(this.G,Fr(bu),t),this.h=new Ri(this.c),Hi(this,e[pu]),Di(this.h,e),kn(this,"refreshToken",this.h.a),Qi(this,n||{}),jt.call(this),this.I=!1,this.w&&mn()&&(this.a=wi(this.w,this.G,this.o)),this.N=[],this.i=null,this.l=function(t){return new Ai(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-ea()-3e5;return 0<e?e:0},3e4,96e4,!1)}(this),this.U=u(this.Ga,this);var r=this;this.ha=null,this.ra=function(t){r.na(t.h)},this.W=null,this.R=[],this.qa=function(t){Vi(r,t.f)},this.V=null}function Ui(t,e){t.W&&Dt(t.W,"languageCodeChanged",t.ra),(t.W=e)&&Pt(e,"languageCodeChanged",t.ra)}function Vi(t,e){t.R=e,Cr(t.c,Xo.SDK_VERSION?fn(Xo.SDK_VERSION,t.R):null)}function ji(t,e){t.V&&Dt(t.V,"frameworkChanged",t.qa),(t.V=e)&&Pt(e,"frameworkChanged",t.qa)}function Bi(t){try{return Xo.app(t.o).auth()}catch(e){throw new Mn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function qi(t){t.m||t.l.b||(t.l.start(),Dt(t,"tokenChanged",t.U),Pt(t,"tokenChanged",t.U))}function Wi(t){Dt(t,"tokenChanged",t.U),ki(t.l)}function Hi(t,e){t.pa=e,kn(t,"_lat",e)}function Gi(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return function(t){return new B(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],K(i,l(o,a,!0),l(o,a,!1));else e(r)})}(e).then(function(){return t})}function Ki(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Qi(t,e){Rn(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Mi(e.createdAt,e.lastLoginAt),providerData:[]})}function zi(){}function Ji(t){return H().then(function(){if(t.m)throw new Mn("app-deleted")})}function Xi(t){return fa(t.providerData,function(t){return t.providerId})}function Yi(t,e){e&&(Zi(t,e.providerId),t.providerData.push(e))}function Zi(t,e){b(t.providerData,function(t){return t.providerId==e})}function $i(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&kn(t,e,n)}function to(t,e){t!=e&&(Rn(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?kn(t,"metadata",function(t){return new Mi(t.a,t.b)}(e.metadata)):kn(t,"metadata",new Mi),pa(e.providerData,function(e){Yi(t,e)}),t.h=e.h,kn(t,"refreshToken",t.h.a))}function eo(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return Mr(t.c,Ou,{idToken:e}).then(u(t.gc,t))}(t,e).then(function(){return n||$i(t,"isAnonymous",!1),e})})}function no(t,e){e[pu]&&t.pa!=e[pu]&&(Di(t.h,e),Bt(t,new Li("tokenChanged")),Hi(t,e[pu]),$i(t,"refreshToken",t.h.a))}function ro(t,e){return eo(t).then(function(){if(v(Xi(t),e))return Gi(t).then(function(){throw new Mn("provider-already-linked")})})}function io(t,e,n){var r=fr(e);return e=Bn(e),Dn({user:t,credential:r,additionalUserInfo:e,operationType:n})}function oo(t,e){return no(t,e),t.reload().then(function(){return t})}function ao(t,e,n,r,i){if(!mn())return G(new Mn("operation-not-supported-in-this-environment"));if(t.i&&!i)return G(t.i);var o=jn(n.providerId),a=Sn(t.uid+":::"),s=null;(!bn()||ln())&&t.w&&n.isOAuthProvider&&(s=Gr(t.w,t.G,t.o,e,n,null,a,Xo.SDK_VERSION||null));var u=an(s,o&&o.za,o&&o.ya);return r=r().then(function(){if(uo(t),!i)return t.F().then(function(){})}).then(function(){return _i(t.a,u,e,n,a,!!s)}).then(function(){return new B(function(n,r){t.fa(e,null,new Mn("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.b=t.a.Ca(t,e,u,a)})}).then(function(t){return u&&on(u),t?Dn(t):null}).s(function(t){throw u&&on(u),t}),lo(t,r,i)}function so(t,e,n,r,i){if(!mn())return G(new Mn("operation-not-supported-in-this-environment"));if(t.i&&!i)return G(t.i);var o=null,a=Sn(t.uid+":::");return r=r().then(function(){if(uo(t),!i)return t.F().then(function(){})}).then(function(){return t.Z=a,Gi(t)}).then(function(e){return t.ca&&(e=t.ca,e=e.b.set(ul,t.B(),e.a)),e}).then(function(){return t.a.Aa(e,n,a)}).s(function(e){if(o=e,t.ca)return ho(t.ca);throw o}).then(function(){if(o)throw o}),lo(t,r,i)}function uo(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Mn("internal-error");throw new Mn("auth-domain-config-required")}}function lo(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),G(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||Bt(t,new Li("userInvalidated")),t.i=e),e})}(t,e,n);return t.A.push(r),Q(r,function(){_(t.A,r)}),r}function co(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[pu]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-ea())/1e3;var r=new Fi(e,n,t);return t.providerData&&pa(t.providerData,function(t){t&&Yi(r,Dn(t))}),t.redirectEventId&&(r.Z=t.redirectEventId),r}function ho(t){return ai(t.b,ul,t.a)}function po(t,e){this.a=t,this.b=e||ri(),this.c=null,this.f=function(t){var e=go("local"),n=go("session"),r=go("none");return t.b.get(n,t.a).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(ll,t.a).then(function(t){return t?go(t):e})})})}).then(function(e){return t.c=e,fo(t,e.C)}).s(function(){t.c||(t.c=e)})}(this),si(this.b,go("local"),this.a,u(this.g,this))}function fo(t,e){var n,r=[];for(n in nl)nl[n]!==e&&r.push(ai(t.b,go(nl[n]),t.a));return r.push(ai(t.b,ll,t.a)),function(t){return new B(function(e,n){var r=t.length,i=[];if(r)for(var o,a=0;a<t.length;a++)o=t[a],K(o,l(function(t,n){r--,i[t]=n,0==r&&e(i)},a),function(t){n(t)});else e(i)})}(r)}function go(t){return{name:"authUser",C:t}}function yo(t,e){return _o(t,function(){return t.b.set(t.c,e.B(),t.a)})}function mo(t){return _o(t,function(){return ai(t.b,t.c,t.a)})}function vo(t,e){return _o(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),co(t||{})})})}function _o(t,e){return t.f=t.f.then(e,e),t.f}function bo(t){if(this.l=!1,kn(this,"app",t),!Oo(this).options||!Oo(this).options.apiKey)throw new Mn("invalid-api-key");t=Xo.SDK_VERSION?fn(Xo.SDK_VERSION):null,this.c=new wr(Oo(this).options&&Oo(this).options.apiKey,Fr(bu),t),this.N=[],this.m=[],this.I=[],this.Gb=Xo.INTERNAL.createSubscribe(u(this.Xb,this)),this.R=void 0,this.Hb=Xo.INTERNAL.createSubscribe(u(this.Yb,this)),To(this,null),this.h=new po(Oo(this).options.apiKey+":"+Oo(this).name),this.G=new function(t){this.a=t,this.b=ri()}(Oo(this).options.apiKey+":"+Oo(this).name),this.U=ko(this,function(t){var e=Oo(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(ul,t.a).then(function(t){return t&&e&&(t.authDomain=e),co(t||{})})}(t.G,Oo(t).options.authDomain).then(function(e){return(t.w=e)&&(e.ca=t.G),ho(t.G)});return ko(t,e)}(t).then(function(){return vo(t.h,e)}).then(function(e){return e?(e.ca=t.G,t.w&&(t.w.Z||null)==(e.Z||null)?e:e.reload().then(function(){return yo(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:mo(t.h)})):null}).then(function(e){To(t,e||null)});return ko(t,n)}(this)),this.i=ko(this,function(t){return t.U.then(function(){return t.aa()}).s(function(){}).then(function(){if(!t.l)return t.ha()}).s(function(){}).then(function(){if(!t.l){t.W=!0;var e=t.h;si(e.b,go("local"),e.a,t.ha)}})}(this)),this.W=!1,this.ha=u(this.uc,this),this.Ga=u(this.ka,this),this.pa=u(this.Pb,this),this.qa=u(this.Vb,this),this.ra=u(this.Wb,this),function(t){var e=Oo(t).options.authDomain,n=Oo(t).options.apiKey;e&&mn()&&(t.Fb=t.U.then(function(){if(!t.l){if(t.a=wi(e,n,Oo(t).name),t.a.subscribe(t),No(t)&&Ki(No(t)),t.w){Ki(t.w);var r=t.w;r.na(t.$()),Ui(r,t),Vi(r=t.w,t.A),ji(r,t),t.w=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=u(this.delete,this),this.INTERNAL.logFramework=u(this.cc,this),this.o=0,jt.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.$()},set:function(t){this.na(t)},enumerable:!1}),t.V=null}(this),this.A=[]}function wo(t){Ct.call(this,"languageCodeChanged"),this.h=t}function Eo(t){Ct.call(this,"frameworkChanged"),this.f=t}function Co(t){return t.Fb||G(new Mn("auth-domain-config-required"))}function So(t,e){var n={};return n.apiKey=Oo(t).options.apiKey,n.authDomain=Oo(t).options.authDomain,n.appName=Oo(t).name,t.U.then(function(){return function(t,e,n,r){var i=new Fi(t,e);return n&&(i.ca=n),r&&Vi(i,r),i.reload().then(function(){return i})}(n,e,t.G,t.Ka())}).then(function(e){return No(t)&&e.uid==No(t).uid?(to(No(t),e),t.ka(e)):(To(t,e),Ki(e),t.ka(e))}).then(function(){Po(t)})}function To(t,e){No(t)&&(function(t,e){b(t.N,function(t){return t==e})}(No(t),t.Ga),Dt(No(t),"tokenChanged",t.pa),Dt(No(t),"userDeleted",t.qa),Dt(No(t),"userInvalidated",t.ra),Wi(No(t))),e&&(e.N.push(t.Ga),Pt(e,"tokenChanged",t.pa),Pt(e,"userDeleted",t.qa),Pt(e,"userInvalidated",t.ra),0<t.o&&qi(e)),kn(t,"currentUser",e),e&&(e.na(t.$()),Ui(e,t),Vi(e,t.A),ji(e,t))}function Io(t,e){var n=null,r=null;return ko(t,e.then(function(e){return n=fr(e),r=Bn(e),So(t,e)}).then(function(){return Dn({user:No(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Oo(t){return t.app}function No(t){return t.currentUser}function Ao(t){return No(t)&&No(t)._lat||null}function Po(t){if(t.W){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Ao(t));if(t.R!==t.getUid()&&t.I.length)for(t.R=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Ao(t))}}function ko(t,e){return t.N.push(e),Q(e,function(){_(t.N,e)}),e}function Ro(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Mn("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=cl.length)throw new Mn("internal-error","Argument validator received an unsupported number of arguments.");n=cl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Mn("argument-error",t+" failed: "+r)}function Do(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function xo(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:s}}function Mo(t,e){return{name:t||"",K:"a function",optional:!!e,M:a}}function Lo(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Fo(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.wa||t&&e.providerId!==t)}}}function Uo(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&a(e.verify))}}}function Vo(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function jo(t,e,n,r,i,o){if(kn(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[fl])throw new Mn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[dl],!yt(e)||!this.h&&yt(e).hasChildNodes())throw new Mn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new wr(t,o||null,i||null),this.o=r||function(){return null};var a=this;this.i=[];var s=this.a[hl];this.a[hl]=function(t){if(Bo(a,t),"function"==typeof s)s(t);else if("string"==typeof s){var e=gn(s,Zo);"function"==typeof e&&e(t)}};var u=this.a[pl];this.a[pl]=function(){if(Bo(a,null),"function"==typeof u)u();else if("string"==typeof u){var t=gn(u,Zo);"function"==typeof t&&t()}}}function Bo(t,e){for(var n=0;n<t.i.length;n++)try{t.i[n](e)}catch(t){}}function qo(t,e){return t.g.push(e),Q(e,function(){_(t.g,e)}),e}function Wo(t){if(t.m)throw new Mn("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ho(){return yl||(yl=new function(){this.b=Zo.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}),yl}function Go(t,e,n){try{this.f=n||Xo.app()}catch(t){throw new Mn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Mn("invalid-api-key");n=this.f.options.apiKey;var r=this,i=null;try{i=this.f.auth().Ka()}catch(t){}i=Xo.SDK_VERSION?fn(Xo.SDK_VERSION,i):null,jo.call(this,n,t,e,function(){try{var t=r.f.auth().$()}catch(e){t=null}return t},i,Fr(bu))}function Ko(t,e){for(var n in e){var r=e[n].name;t[r]=zo(r,t[n],e[n].j)}}function Qo(t,e,n,r){t[e]=zo(e,n,r)}function zo(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ro(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}var Jo,Xo=n("XtH8").default,Yo=Yo||{},Zo=this,$o="closure_uid_"+(1e9*Math.random()>>>0),ta=0,ea=Date.now||function(){return+new Date};c(h,Error),h.prototype.name="CustomError";var na=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ra=/&/g,ia=/</g,oa=/>/g,aa=/"/g,sa=/'/g,ua=/\x00/g,la=/[\x00&<>"']/;c(y,h),y.prototype.name="AssertionError";var ca,ha=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(e,n,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,t(e))return t(n)&&1==n.length?e.indexOf(n,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},pa=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&n.call(r,o[a],a,e)},fa=Array.prototype.map?function(t,e,n){return Array.prototype.map.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=Array(i),a=t(e)?e.split(""):e,s=0;s<i;s++)s in a&&(o[s]=n.call(r,a[s],s,e));return o},da=Array.prototype.some?function(t,e,n){return Array.prototype.some.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)if(a in o&&n.call(r,o[a],a,e))return!0;return!1};t:{var ga=Zo.navigator;if(ga){var ya=ga.userAgent;if(ya){ca=ya;break t}}ca=""}var ma="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");P[" "]=e;var va,_a=C("Opera"),ba=C("Trident")||C("MSIE"),wa=C("Edge"),Ea=wa||ba,Ca=C("Gecko")&&!(d(ca.toLowerCase(),"webkit")&&!C("Edge"))&&!(C("Trident")||C("MSIE"))&&!C("Edge"),Sa=d(ca.toLowerCase(),"webkit")&&!C("Edge");t:{var Ta="",Ia=function(){var t=ca;return Ca?/rv\:([^\);]+)(\)|;)/.exec(t):wa?/Edge\/([\d\.]+)/.exec(t):ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Sa?/WebKit\/(\S+)/.exec(t):_a?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ia&&(Ta=Ia?Ia[1]:""),ba){var Oa=k();if(null!=Oa&&Oa>parseFloat(Ta)){va=String(Oa);break t}}va=Ta}var Na,Aa={},Pa=Zo.document;Na=Pa&&ba?k()||("CSS1Compat"==Pa.compatMode?parseInt(va,10):5):void 0,M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var ka=new M(function(){return new F},function(t){t.reset()},100);F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var Ra,Da,xa=!1,Ma=new function(){this.b=this.a=null},La=0,Fa=2,Ua=3;q.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Va=new M(function(){return new q},function(t){t.reset()},100);B.prototype.then=function(t,e,n){return X(this,a(t)?t:null,a(e)?e:null,n)},D(B),(Jo=B.prototype).s=function(t,e){return X(this,null,t,e)},Jo.cancel=function(t){this.a==La&&V(function(){z(this,new rt(t))},this)},Jo.wc=function(t){this.a=La,Y(this,Fa,t)},Jo.xc=function(t){this.a=La,Y(this,Ua,t)},Jo.Mb=function(){for(var t;t=tt(this);)et(this,t,this.a,this.i);this.h=!1};var ja=U;c(rt,h),rt.prototype.name="cancel";var Ba=!ba||9<=Number(Na);it.prototype.la=!0,it.prototype.ja=function(){return this.a},it.prototype.toString=function(){return"Const{"+this.a+"}"};var qa={};at(""),st.prototype.la=!0,st.prototype.ja=function(){return this.a},st.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Wa=/%{(\w+)}/g,Ha=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,Ga={};ct.prototype.la=!0,ct.prototype.ja=function(){return this.a},ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ka=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Qa={};ft("about:blank"),dt.prototype.la=!0,dt.prototype.ja=function(){return this.a},dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var za={};gt("<!DOCTYPE html>"),gt(""),gt("<br>");var Ja={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Xa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ya=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Za=0,$a={};wt.prototype.oa=!1,wt.prototype.ta=function(){if(this.Fa)for(;this.Fa.length;)this.Fa.shift()()};var ts=Object.freeze||function(t){return t},es=!ba||9<=Number(Na),ns=ba&&!R("9"),rs=function(){if(!Zo.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});return Zo.addEventListener("test",e,n),Zo.removeEventListener("test",e,n),t}();Ct.prototype.c=function(){this.Ab=!1},c(St,Ct);var is=ts({2:"touch",3:"pen",4:"mouse"});St.prototype.c=function(){St.ib.c.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ns)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},St.prototype.g=function(){return this.a};var os="closure_listenable_"+(1e6*Math.random()|0),as=0,ss="closure_lm_"+(1e6*Math.random()|0),us={},ls=0,cs="__closure_events_fn_"+(1e9*Math.random()>>>0);c(jt,wt),jt.prototype[os]=!0,jt.prototype.removeEventListener=function(t,e,n,r){Dt(this,t,e,n,r)},jt.prototype.ta=function(){if(jt.ib.ta.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Tt(n[r]);delete e.a[t],e.b--}}this.Ra=null},Qt.prototype.a=null;var hs=0;Qt.prototype.reset=function(t,e,n,r,i){"number"==typeof i||hs++,r||ea(),this.b=e,delete this.a},Jt.prototype.toString=function(){return this.name};var ps=new Jt("SEVERE",1e3),fs=new Jt("CONFIG",700),ds=new Jt("FINE",500);zt.prototype.log=function(t,e,n){if(t.value>=Xt(this).value)for(a(e)&&(e=e()),t=new Qt(t,String(e),this.f),n&&(t.a=n),n="log:"+t.b,(t=Zo.console)&&t.timeStamp&&t.timeStamp(n),(t=Zo.msWriteProfilerMark)&&t(n),n=this;n;)n=n.a};var gs={},ys=null;(Jo=Zt.prototype).P=function(){$t(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Jo.S=function(){return $t(this),this.a.concat()},Jo.clear=function(){this.b={},this.c=this.a.length=0},Jo.get=function(t,e){return te(this.b,t)?this.b[t]:e},Jo.set=function(t,e){te(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Jo.forEach=function(t,e){for(var n=this.S(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ms=null,vs=null;ne.prototype.cancel=function(t){if(this.a)this.c instanceof ne&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new le,ie(this),re(this,!1,t))}},ne.prototype.m=function(t,e){this.i=!1,re(this,t,e)},ne.prototype.A=function(t){ie(this),re(this,!0,t)},ne.prototype.then=function(t,e,n){var r,i,o=new B(function(t,e){r=t,i=e});return oe(this,r,function(t){t instanceof le?o.cancel():i(t)}),o.then(t,e,n)},D(ne),c(ue,h),ue.prototype.message="Deferred has already fired",ue.prototype.name="AlreadyCalledError",c(le,h),le.prototype.message="Deferred was canceled",le.prototype.name="CanceledError",ce.prototype.c=function(){throw delete bs[this.a],this.b};var _s,bs={};c(he,function(){this.b=-1});for(var ws=64,Es=ws-1,Cs=[],Ss=0;Ss<Es;Ss++)Cs[Ss]=0;var Ts=w(128,Cs);he.prototype.reset=function(){this.g=this.c=0,this.a=Zo.Int32Array?new Int32Array(this.h):E(this.h)};var Is=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];c(de,he);var Os=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Ns=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;me.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Ie(e,As,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Ie(e,As,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ie(n,"/"==n.charAt(0)?ks:Ps,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Ie(n,Ds)),t.join("")};var As=/[#\/\?@]/g,Ps=/[\#\?:]/g,ks=/[\#\?]/g,Rs=/[\#\?@]/g,Ds=/#/g;(Jo=Oe.prototype).clear=function(){this.a=this.c=null,this.b=0},Jo.forEach=function(t,e){Ne(this),this.a.forEach(function(n,r){pa(n,function(n){t.call(e,n,r,this)},this)},this)},Jo.S=function(){Ne(this);for(var t=this.a.P(),e=this.a.S(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Jo.P=function(e){Ne(this);var n=[];if(t(e))Re(this,e)&&(n=w(n,this.a.get(xe(this,e))));else{e=this.a.P();for(var r=0;r<e.length;r++)n=w(n,e[r])}return n},Jo.set=function(t,e){return Ne(this),this.c=null,t=xe(this,t),Re(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Jo.get=function(t,e){return 0<(t=t?this.P(t):[]).length?String(t[0]):e},Jo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.S(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.P(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},Me.prototype.c=null;var xs;c(Le,Me),Le.prototype.a=function(){var t=Fe(this);return t?new ActiveXObject(t):new XMLHttpRequest},Le.prototype.b=function(){var t={};return Fe(this)&&(t[0]=!0,t[1]=!0),t},xs=new Le,c(Ue,jt);var Ms="",Ls=Ue.prototype,Fs=Yt("goog.net.XhrIo");Ls.J=Fs;var Us=/^https?$/i,Vs=["POST","PUT"];(Jo=Ue.prototype).Ea=function(){void 0!==Yo&&this.a&&(this.g="Timed out after "+this.f+"ms, aborting",ee(this.J,Ke(this,this.g)),Bt(this,"timeout"),this.abort(8))},Jo.abort=function(){this.a&&this.b&&(ee(this.J,Ke(this,"Aborting")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,Bt(this,"complete"),Bt(this,"abort"),qe(this))},Jo.ta=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),qe(this,!0)),Ue.ib.ta.call(this)},Jo.zb=function(){this.oa||(this.G||this.h||this.c?Be(this):this.fc())},Jo.fc=function(){Be(this)},Jo.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.l){case Ms:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.J;return t&&t.log(ps,"Response type "+this.l+" is not supported on this browser",void 0),null}catch(t){return ee(this.J,"Can not get response: "+t.message),null}};var js=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,Bs=0,qs=1;c(Je,h),c(Xe,Me),Xe.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ye;throw Error("Unsupported browser")},Xe.prototype.b=function(){return{}},(Jo=Ye.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},Jo.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},Jo.abort=function(){this.a.abort()},Jo.setRequestHeader=function(){},Jo.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},Jo.Sb=function(){this.status=200,this.responseText=this.a.responseText,Ze(this,4)},Jo.wb=function(){this.status=500,this.responseText="",Ze(this,4)},Jo.Ub=function(){this.wb()},Jo.Tb=function(){this.status=200,Ze(this,1)},Jo.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};var Ws=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hs="Firefox",Gs="Chrome",Ks={Cc:"FirebaseCore-web",Ec:"FirebaseUI-web"};Nn.prototype.get=function(){return this.a?this.b:this.c};var Qs,zs={};try{var Js={};Object.defineProperty(Js,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Js,"abcd",{configurable:!0,enumerable:!0,value:2}),Qs=2==Js.abcd}catch(t){Qs=!1}c(Mn,Error),Mn.prototype.B=function(){return{code:this.code,message:this.message}},Mn.prototype.toJSON=function(){return this.B()};var Xs="auth/",Ys={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Zs="android",$s="handleCodeInApp",tu="iOS",eu="url",nu="installApp",ru="minimumVersion",iu="packageName",ou="bundleId",au="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),su=["client_id","response_type","scope","redirect_uri","state"],uu={Dc:{Ma:"locale",za:500,ya:600,Na:"facebook.com",$a:su},Fc:{Ma:null,za:500,ya:620,Na:"github.com",$a:su},Gc:{Ma:"hl",za:515,ya:680,Na:"google.com",$a:su},Mc:{Ma:"lang",za:485,ya:705,Na:"twitter.com",$a:au}},lu="idToken",cu="providerId";c(Wn,qn),c(Hn,Wn),c(Gn,Wn),c(Kn,Wn),c(Qn,Wn),Jn.prototype.wa=function(t){return kr(t,Xn(this))},Jn.prototype.b=function(t,e){var n=Xn(this);return n.idToken=e,Rr(t,n)},Jn.prototype.c=function(t,e){return zn(Dr(t,Xn(this)),e)},Jn.prototype.B=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},Yn.prototype.Ba=function(t){return this.qb=N(t),this},c(Zn,Yn),Zn.prototype.sa=function(t){return v(this.a,t)||this.a.push(t),this},Zn.prototype.vb=function(){return E(this.a)},Zn.prototype.credential=function(t,e){if(!t&&!e)throw new Mn("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jn(this.providerId,{idToken:t||null,accessToken:e||null})},c($n,Zn),kn($n,"PROVIDER_ID","facebook.com"),c(er,Zn),kn(er,"PROVIDER_ID","github.com"),c(rr,Zn),kn(rr,"PROVIDER_ID","google.com"),c(or,Yn),kn(or,"PROVIDER_ID","twitter.com"),sr.prototype.wa=function(t){return Mr(t,Bu,{email:this.a,password:this.f})},sr.prototype.b=function(t,e){return Mr(t,Mu,{idToken:e,email:this.a,password:this.f})},sr.prototype.c=function(t,e){return zn(this.wa(t),e)},sr.prototype.B=function(){return{email:this.a,password:this.f}},Rn(ur,{PROVIDER_ID:"password"}),lr.prototype.wa=function(t){return t.Qa(cr(this))},lr.prototype.b=function(t,e){var n=cr(this);return n.idToken=e,Mr(t,Wu,n)},lr.prototype.c=function(t,e){var n=cr(this);return n.operation="REAUTH",t=Mr(t,Hu,n),zn(t,e)},lr.prototype.B=function(){var t={providerId:"phone"};return this.a.Pa&&(t.verificationId=this.a.Pa),this.a.Oa&&(t.verificationCode=this.a.Oa),this.a.Da&&(t.temporaryProof=this.a.Da),this.a.Y&&(t.phoneNumber=this.a.Y),t},hr.prototype.Qa=function(e,n){var r=this.a.c;return H(n.verify()).then(function(i){if(!t(i))throw new Mn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return function(t,e){return Mr(r,Du,e)}(0,{phoneNumber:e,recaptchaToken:i}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new Mn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Rn(hr,{PROVIDER_ID:"phone"}),gr.prototype.B=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.B()}},c(mr,Mn),c(vr,Mn),vr.prototype.B=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.B();return e&&A(t,e),t},vr.prototype.toJSON=function(){return this.B()},c(br,Me),br.prototype.a=function(){return new this.f},br.prototype.b=function(){return{}};var hu,pu="idToken",fu=new Nn(3e4,6e4),du={"Content-Type":"application/x-www-form-urlencoded"},gu=new Nn(3e4,6e4),yu={"Content-Type":"application/json"};wr.prototype.m=function(e,n,r,i,a,s){var l="Node"==cn(),c=hn()?l?new Ue(this.o):new Ue:new Ue(this.f);if(s){c.f=Math.max(0,s);var h=setTimeout(function(){Bt(c,"timeout")},s)}qt(c,"complete",function(){h&&clearTimeout(h);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ee(t.J,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}n&&n(t)}),Wt(c,"ready",function(){h&&clearTimeout(h),Et(this)}),Wt(c,"timeout",function(){h&&clearTimeout(h),Et(this),n&&n(null)}),function(e,n,r,i,a){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.i+"; newUri="+n);r=r?r.toUpperCase():"GET",e.i=n,e.g="",e.I=r,e.A=!1,e.b=!0,e.a=e.w?e.w.a():xs.a(),e.v=function(t){return t.c||(t.c=t.b())}(e.w?e.w:xs),e.a.onreadystatechange=u(e.zb,e);try{ee(e.J,Ke(e,"Opening Xhr")),e.G=!0,e.a.open(r,String(n),!0),e.G=!1}catch(t){return ee(e.J,Ke(e,"Error opening Xhr: "+t.message)),void Ve(e,t)}n=i||"";var s=new Zt(e.headers);a&&function(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(o(e)||t(e))pa(e,n,void 0);else for(var r=ye(e),i=ge(e),a=i.length,s=0;s<a;s++)n.call(void 0,i[s],r&&r[s],e)}(a,function(t,e){s.set(e,t)}),a=function(e){t:{for(var n=function(t){return"content-type"==t.toLowerCase()},r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}(s.S()),i=Zo.FormData&&n instanceof Zo.FormData,!v(Vs,r)||a||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},e),e.l&&(e.a.responseType=e.l),"withCredentials"in e.a&&e.a.withCredentials!==e.N&&(e.a.withCredentials=e.N);try{We(e),0<e.f&&(e.o=function(t){return ba&&R(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(e.a),ee(e.J,Ke(e,"Will abort after "+e.f+"ms if incomplete, xhr2 "+e.o)),e.o?(e.a.timeout=e.f,e.a.ontimeout=u(e.Ea,e)):e.m=Gt(e.Ea,e.f,e)),ee(e.J,Ke(e,"Sending request")),e.h=!0,e.a.send(n),e.h=!1}catch(t){ee(e.J,Ke(e,"Send error: "+t.message)),Ve(e,t)}}(c,e,r,i,a)};var mu=at("https://apis.google.com/js/client.js?onload=%{onload}"),vu="__fcb"+Math.floor(1e6*Math.random()).toString();wr.prototype.u=function(t,e,n,r,i){var o=this;hu.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},wr.prototype.gb=function(){return Mr(this,Lu,{})},wr.prototype.kb=function(t,e){return Mr(this,xu,{idToken:t,email:e})},wr.prototype.lb=function(t,e){return Mr(this,Mu,{idToken:t,password:e})};var _u={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};(Jo=wr.prototype).mb=function(t,e){var n={idToken:t},r=[];return S(_u,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Mr(this,xu,n)},Jo.cb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},A(t,e),Mr(this,Au,t)},Jo.bb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},A(t,e),Mr(this,Nu,t)},Jo.Qa=function(t){return Mr(this,qu,t)},Jo.Ta=function(t,e){return Mr(this,Ru,{oobCode:t,newPassword:e})},Jo.Ia=function(t){return Mr(this,Eu,{oobCode:t})},Jo.Sa=function(t){return Mr(this,wu,{oobCode:t})};var bu,wu={endpoint:"setAccountInfo",D:xr,ga:"email"},Eu={endpoint:"resetPassword",D:xr,O:function(t){if(!t.email||!t.requestType)throw new Mn("internal-error")}},Cu={endpoint:"signupNewUser",D:function(t){if(Tr(t),!t.password)throw new Mn("weak-password")},O:Or,T:!0},Su={endpoint:"createAuthUri"},Tu={endpoint:"deleteAccount",ea:["idToken"]},Iu={endpoint:"setAccountInfo",ea:["idToken","deleteProvider"],D:function(t){if(!i(t.deleteProvider))throw new Mn("internal-error")}},Ou={endpoint:"getAccountInfo"},Nu={endpoint:"getOobConfirmationCode",ea:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Mn("internal-error")},ga:"email"},Au={endpoint:"getOobConfirmationCode",ea:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Mn("internal-error");Tr(t)},ga:"email"},Pu={nb:!0,endpoint:"getProjectConfig",yb:"GET"},ku={nb:!0,endpoint:"getRecaptchaParam",yb:"GET",O:function(t){if(!t.recaptchaSiteKey)throw new Mn("internal-error")}},Ru={endpoint:"resetPassword",D:xr,ga:"email"},Du={endpoint:"sendVerificationCode",ea:["phoneNumber","recaptchaToken"],ga:"sessionInfo"},xu={endpoint:"setAccountInfo",ea:["idToken"],D:Ir,T:!0},Mu={endpoint:"setAccountInfo",ea:["idToken"],D:function(t){if(Ir(t),!t.password)throw new Mn("weak-password")},O:Or,T:!0},Lu={endpoint:"signupNewUser",O:Or,T:!0},Fu={endpoint:"verifyAssertion",D:Ar,O:Pr,T:!0},Uu={endpoint:"verifyAssertion",D:Ar,O:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Mn("user-not-found");if(!t[pu])throw new Mn("internal-error")},T:!0},Vu={endpoint:"verifyAssertion",D:function(t){if(Ar(t),!t.idToken)throw new Mn("internal-error")},O:Pr,T:!0},ju={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Mn("invalid-custom-token")},O:Or,T:!0},Bu={endpoint:"verifyPassword",D:function(t){if(Tr(t),!t.password)throw new Mn("wrong-password")},O:Or,T:!0},qu={endpoint:"verifyPhoneNumber",D:Nr,O:Or},Wu={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Mn("internal-error");Nr(t)},O:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",_r(t);Or(t)}},Hu={Lb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Nr,O:Or},Gu={Ic:{Va:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://securetoken.googleapis.com/v1/token",id:"p"},Kc:{Va:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Lc:{Va:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ab:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};bu=Fr("__EID__")?"__EID__":void 0;var Ku=at("https://apis.google.com/js/api.js?onload=%{onload}"),Qu=new Nn(3e4,6e4),zu=new Nn(5e3,15e3),Ju=null;Ur.prototype.toString=function(){return this.f?we(this.a,"v",this.f):ke(this.a.a,"v"),this.b?we(this.a,"eid",this.b):ke(this.a.a,"eid"),this.c.length?we(this.a,"fw",this.c.join(",")):ke(this.a.a,"fw"),this.a.toString()},Vr.prototype.toString=function(){var t=Se(this.m,"/__/auth/handler");if(we(t,"apiKey",this.u),we(t,"appName",this.c),we(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=Xo.app(this.c).auth().$()}catch(t){n=null}e.Ua=n,we(t,"providerId",this.a.providerId),n=En((e=this.a).qb);for(var r in n)n[r]=n[r].toString();r=e.nc,n=N(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.Wa&&e.Ua&&!n[e.Wa]&&(n[e.Wa]=e.Ua),O(n)||we(t,"customParameters",wn(n))}if("function"==typeof this.a.vb&&(e=this.a.vb()).length&&we(t,"scopes",e.join(",")),this.h?we(t,"redirectUrl",this.h):ke(t.a,"redirectUrl"),this.g?we(t,"eventId",this.g):ke(t.a,"eventId"),this.i?we(t,"v",this.i):ke(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ee(t,a)&&we(t,a,this.b[a]);return this.f?we(t,"eid",this.f):ke(t.a,"eid"),(a=jr(this.c)).length&&we(t,"fw",a.join(",")),t.toString()},(Jo=Br.prototype).Ca=function(t,e,n){var r=new Mn("popup-closed-by-user"),i=new Mn("web-storage-unsupported"),o=this,a=!1;return this.ba().then(function(){(function(t){var e={type:"webStorageSupport"};return Wr(t).then(function(){return function(t,e){return t.Ya.then(function(){return new B(function(n){t.a.send(e.type,e,n,gn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&on(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new B(function(e){function n(){Kt(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}(t)}).then(function(){if(!a)return Kt(n).then(function(){e(r)})})},Jo.Cb=function(){var t=dn();return!bn(t)&&!Tn(t)},Jo.xb=function(){return!1},Jo.ub=function(t,e,n,r,i,o,a){if(!t)return G(new Mn("popup-blocked"));if(a&&!bn())return this.ba().s(function(e){on(t),i(e)}),r(),H();this.a||(this.a=qr(Hr(this)));var s=this;return this.a.then(function(){var e=s.ba().s(function(e){throw on(t),i(e),e});return r(),e}).then(function(){dr(n),a||en(Gr(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},Jo.Aa=function(t,e,n){this.a||(this.a=qr(Hr(this)));var r=this;return this.a.then(function(){dr(e),en(Gr(r.u,r.f,r.b,t,e,tn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},Jo.ba=function(){var t=this;return Wr(this).then(function(){return t.i.Ya}).s(function(){throw t.a=null,new Mn("network-request-failed")})},Jo.Db=function(){return!0},Jo.ua=function(t){this.g.push(t)},Jo.Ja=function(t){b(this.g,function(e){return e==t})},(Jo=Kr.prototype).get=function(t){return H(this.a.getItem(t)).then(function(t){return t&&Cn(t)})},Jo.set=function(t,e){return H(this.a.setItem(t,wn(e)))},Jo.X=function(t){return H(this.a.removeItem(t))},Jo.ia=function(){},Jo.da=function(){},(Jo=Qr.prototype).get=function(t){return H(this.a[t])},Jo.set=function(t,e){return this.a[t]=e,H()},Jo.X=function(t){return delete this.a[t],H()},Jo.ia=function(){},Jo.da=function(){};var Xu;(Jo=zr.prototype).set=function(t,e){var n,r=!1,i=this;return Q(Jr(this).then(function(e){return n=e,e=Xr(i,Yr(i,n,!0)),Zr(e.get(t))}).then(function(o){var a=Xr(i,Yr(i,n,!0));return o?(o.value=e,Zr(a.put(o))):(i.a++,r=!0,o={},o[i.g]=t,o[i.l]=e,Zr(a.add(o)))}).then(function(){i.f[t]=e}),function(){r&&i.a--})},Jo.get=function(t){var e=this;return Jr(this).then(function(n){return Zr(Xr(e,Yr(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},Jo.X=function(t){var e=!1,n=this;return Q(Jr(this).then(function(r){return e=!0,n.a++,Zr(Xr(n,Yr(n,r,!0)).delete(t))}).then(function(){delete n.f[t]}),function(){e&&n.a--})},Jo.vc=function(){var t=this;return Jr(this).then(function(e){var n=Xr(t,Yr(t,e,!1));return n.getAll?Zr(n.getAll()):new B(function(t,e){var r=[],i=n.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.a){for(r=0;r<e.length;r++)n[e[r][t.g]]=e[r][t.l];r=nn(t.f,n),t.f=n}return r})},Jo.ia=function(t){0==this.c.length&&function(t){function e(){return t.b=Kt(800).then(u(t.vc,t)).then(function(e){0<e.length&&pa(t.c,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.b}t.b&&t.b.cancel("STOP_EVENT"),e()}(this),this.c.push(t)},Jo.da=function(t){b(this.c,function(e){return e==t}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},(Jo=$r.prototype).get=function(t){var e=this;return H().then(function(){return Cn(e.a.getItem(t))})},Jo.set=function(t,e){var n=this;return H().then(function(){var r=wn(e);null===r?n.X(t):n.a.setItem(t,r)})},Jo.X=function(t){var e=this;return H().then(function(){e.a.removeItem(t)})},Jo.ia=function(t){Zo.window&&Pt(Zo.window,"storage",t)},Jo.da=function(t){Zo.window&&Dt(Zo.window,"storage",t)},(Jo=ti.prototype).get=function(){return H(null)},Jo.set=function(){return H()},Jo.X=function(){return H()},Jo.ia=function(){},Jo.da=function(){},(Jo=ei.prototype).get=function(t){var e=this;return H().then(function(){return Cn(e.a.getItem(t))})},Jo.set=function(t,e){var n=this;return H().then(function(){var r=wn(e);null===r?n.X(t):n.a.setItem(t,r)})},Jo.X=function(t){var e=this;return H().then(function(){e.a.removeItem(t)})},Jo.ia=function(){},Jo.da=function(){};var Yu,Zu,$u={C:$r,jb:ei},tl={C:$r,jb:ei},el={C:Kr,jb:ti},nl={Hc:"local",NONE:"none",Jc:"session"};ni.prototype.get=function(t,e){return ii(this,t.C).get(oi(this,t,e))},ni.prototype.set=function(t,e,n){var r=oi(this,t,n),i=this,o=ii(this,t.C);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.C&&(i.b[r]=e)})},ni.prototype.m=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=Zo.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.c(n))}else if(0==e.indexOf(this.i+this.g)&&this.a[e]){if(void 0!==t.a.a?ii(this,"local").da(this.h):ui(this),this.w)if(n=Zo.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?Zo.localStorage.setItem(e,r):Zo.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===Zo.localStorage.getItem(e)||(o.b[e]=Zo.localStorage.getItem(e),o.c(e))},ba&&Na&&10==Na&&Zo.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else pa(t,u(this.c,this))},ni.prototype.c=function(t){this.a[t]&&pa(this.a[t],function(t){t()})};var rl={name:"authEvent",C:"local"};(Jo=li.prototype).ba=function(){return this.xa?this.xa:this.xa=(un(void 0)?sn().then(function(){return new B(function(t,e){var n=Zo.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):G(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof gn("universalLinks.subscribe",Zo))throw ci("cordova-universal-links-plugin is not installed");if(void 0===gn("BuildInfo.packageName",Zo))throw ci("cordova-plugin-buildinfo is not installed");if("function"!=typeof gn("cordova.plugins.browsertab.openUrl",Zo))throw ci("cordova-plugin-browsertab is not installed");if("function"!=typeof gn("cordova.InAppBrowser.open",Zo))throw ci("cordova-plugin-inappbrowser is not installed")},function(){throw new Mn("cordova-not-ready")})},Jo.Ca=function(t,e){return e(new Mn("operation-not-supported-in-this-environment")),H()},Jo.ub=function(){return G(new Mn("operation-not-supported-in-this-environment"))},Jo.Db=function(){return!1},Jo.Cb=function(){return!0},Jo.xb=function(){return!0},Jo.Aa=function(t,e,n){if(this.c)return G(new Mn("redirect-operation-pending"));var r=this,i=Zo.document,o=null,a=null,s=null,u=null;return this.c=Q(H().then(function(){return dr(e),pi(r)}).then(function(){return function(t,e,n,r){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new gr(e,r,null,i,new Mn("no-auth-event")),a=gn("BuildInfo.packageName",Zo);if("string"!=typeof a)throw new Mn("invalid-cordova-configuration");var s=gn("BuildInfo.displayName",Zo),u={};if(dn().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!dn().toLowerCase().match(/android/))return G(new Mn("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=function(t){var e=new de;fe(e,t),t=[];var n=8*e.g;56>e.c?fe(e,Ts,56-e.c):fe(e,Ts,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(pe(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return fa(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(i),u.sessionId=i;var l=Gr(t.u,t.i,t.l,e,n,null,r,t.m,u,t.o);return t.ba().then(function(){var e=t.h;return t.A.a.set(rl,o.B(),e)}).then(function(){var e=gn("cordova.plugins.browsertab.isAvailable",Zo);if("function"!=typeof e)throw new Mn("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=gn("cordova.plugins.browsertab.openUrl",Zo)))throw new Mn("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=gn("cordova.InAppBrowser.open",Zo)))throw new Mn("invalid-cordova-configuration");e=!(!(e=dn()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(l,e?"_blank":"_system","location=yes")}})})}(r,t,e,n)}).then(function(){return new B(function(t,e){a=function(){var e=gn("cordova.plugins.browsertab.close",Zo);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ua(a),u=function(){An()&&s()},i.addEventListener("resume",s=function(){o||(o=Kt(r.w).then(function(){e(new Mn("redirect-cancelled-by-user"))}))},!1),dn().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).s(function(t){return fi(r).then(function(){throw t})})}),function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.Ja(a),r.c=null})},Jo.ua=function(t){this.b.push(t),pi(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new gr("unknown",null,null,null,new Mn("no-auth-event")),t(e))})},Jo.Ja=function(t){b(this.b,function(e){return e==t})};var il={name:"pendingRedirect",C:"session"};gi.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=yi(this.v,this.l,this.u)},gi.prototype.subscribe=function(t){if(v(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(il,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?di(e.g).then(function(){mi(e).s(function(t){var n=new gr("unknown",null,null,null,new Mn("operation-not-supported-in-this-environment"));bi(t)&&e.m(n)})}):vi(e)}).s(function(){vi(e)})}},gi.prototype.unsubscribe=function(t){b(this.h,function(e){return e==t})},gi.prototype.m=function(t){if(!t)throw new Mn("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ob(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return Ci(this.c),e};var ol=new Nn(2e3,1e4),al=new Nn(3e4,6e4);gi.prototype.aa=function(){return this.c.aa()},gi.prototype.Aa=function(t,e,n){var r,i=this;return function(t){return t.b.set(il,"pending",t.a)}(this.g).then(function(){return i.a.Aa(t,e,n).s(function(t){if(bi(t))throw new Mn("operation-not-supported-in-this-environment");return r=t,di(i.g).then(function(){throw r})}).then(function(){return i.a.Db()?new B(function(){}):di(i.g).then(function(){return i.aa()}).then(function(){}).s(function(){})})})},gi.prototype.Ca=function(t,e,n,r){return this.a.Ca(n,function(n){t.fa(e,null,n,r)},ol.get())};var sl={};Ei.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ei.prototype.h=function(t,e){if(!t)return G(new Mn("invalid-auth-event"));this.reset(),this.g=!0;var n=t.b,r=t.c;return"unknown"!=n||t.a&&"auth/web-storage-unsupported"==t.a.code||t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code?t.a?(Ti(this,!0,null,t.a),t=H()):t=e.va(n,r)?function(t,e,n){n=n.va(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);return n(r,i).then(function(e){Ti(t,o,e,null)}).s(function(e){Ti(t,o,null,e)})}(this,t,e):G(new Mn("invalid-auth-event")):(Ti(this,!1,null,null),t=H()),t},Ei.prototype.aa=function(){var t=this;return new B(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Mn("timeout");t.a&&t.a.cancel(),t.a=Kt(al.get()).then(function(){t.b||Ti(t,!0,null,e)})}(t))})},Ii.prototype.h=function(t,e){if(!t)return G(new Mn("invalid-auth-event"));var n=t.b,r=t.c;return t.a?(e.fa(t.b,null,t.a,t.c),t=H()):t=e.va(n,r)?function(t,e){var n=t.c,r=t.b;return e.va(r,n)(t.f,t.g).then(function(t){e.fa(r,t,null,n)}).s(function(t){e.fa(r,null,t,n)})}(t,e):G(new Mn("invalid-auth-event")),t},Oi.prototype.confirm=function(t){return t=pr(this.verificationId,t),this.a(t)},Ai.prototype.start=function(){this.a=this.c,Pi(this,!0)},Ri.prototype.B=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ri.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?G(new Mn("user-token-expired")):t||!this.b||ea()>this.c-3e4?this.a?function(t,e){return function(t,e){return new B(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Sr(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Lr(t)):t.access_token&&t.refresh_token?n(t):r(new Mn("internal-error")):r(new Mn("network-request-failed"))},"POST",Ae(e).toString(),t.c,t.l.get()):r(new Mn("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=xi(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):H(null):H({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Mi.prototype.B=function(){return{lastLoginAt:this.b,createdAt:this.a}},c(Li,Ct),c(Fi,jt),Fi.prototype.na=function(t){this.ha=t,Er(this.c,t)},Fi.prototype.$=function(){return this.ha},Fi.prototype.Ka=function(){return E(this.R)},Fi.prototype.Ga=function(){this.l.b&&(ki(this.l),this.l.start())},kn(Fi.prototype,"providerId","firebase"),(Jo=Fi.prototype).reload=function(){var t=this;return lo(this,Ji(this).then(function(){return eo(t).then(function(){return Gi(t)}).then(zi)}))},Jo.F=function(t){var e=this;return lo(this,Ji(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Mn("internal-error");return t.accessToken!=e.pa&&(Hi(e,t.accessToken),Bt(e,new Li("tokenChanged"))),$i(e,"refreshToken",t.refreshToken),t.accessToken}))},Jo.getToken=function(t){return zs["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(zs["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},Jo.gc=function(t){if(!(t=t.users)||!t.length)throw new Mn("internal-error");Qi(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?fa(t,function(t){return new function(t,e,n,r,i,o){Rn(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Yi(this,e[n]);$i(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},Jo.Za=function(t){var e=this,n=null;return lo(this,t.c(this.c,this.uid).then(function(t){return no(e,t),n=io(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},Jo.hc=function(t){return this.Za(t).then(function(){})},Jo.Xa=function(t){var e=this,n=null;return lo(this,ro(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.c,n)}).then(function(t){return n=io(e,t,"link"),oo(e,t)}).then(function(){return n}))},Jo.Zb=function(t){return this.Xa(t).then(function(t){return t.user})},Jo.$b=function(t,e){var n=this;return lo(this,ro(this,"phone").then(function(){return Ni(Bi(n),t,e,u(n.Xa,n))}))},Jo.ic=function(t,e){var n=this;return lo(this,H().then(function(){return Ni(Bi(n),t,e,u(n.Za,n))}),!0)},Jo.kb=function(t){var e=this;return lo(this,this.F().then(function(n){return e.c.kb(n,t)}).then(function(t){return no(e,t),e.reload()}))},Jo.zc=function(t){var e=this;return lo(this,this.F().then(function(n){return t.b(e.c,n)}).then(function(t){return no(e,t),e.reload()}))},Jo.lb=function(t){var e=this;return lo(this,this.F().then(function(n){return e.c.lb(n,t)}).then(function(t){return no(e,t),e.reload()}))},Jo.mb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ji(this);var e=this;return lo(this,this.F().then(function(n){return e.c.mb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return no(e,t),$i(e,"displayName",t.displayName||null),$i(e,"photoURL",t.photoUrl||null),pa(e.providerData,function(t){"password"===t.providerId&&(kn(t,"displayName",e.displayName),kn(t,"photoURL",e.photoURL))}),Gi(e)}).then(zi))},Jo.yc=function(t){var e=this;return lo(this,eo(this).then(function(n){return v(Xi(e),t)?function(t,e,n){return Mr(t,Iu,{idToken:e,deleteProvider:n})}(e.c,n,[t]).then(function(t){var n={};return pa(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),pa(Xi(e),function(t){n[t]||Zi(e,t)}),n[hr.PROVIDER_ID]||kn(e,"phoneNumber",null),Gi(e)}):Gi(e).then(function(){throw new Mn("no-such-provider")})}))},Jo.delete=function(){var t=this;return lo(this,this.F().then(function(e){return Mr(t.c,Tu,{idToken:e})}).then(function(){Bt(t,new Li("userDeleted"))})).then(function(){for(var e=0;e<t.A.length;e++)t.A[e].cancel("app-deleted");Ui(t,null),ji(t,null),t.A=[],t.m=!0,Wi(t),kn(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},Jo.ob=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.Z||null)==e||"reauthViaRedirect"==t&&(this.Z||null)==e)},Jo.fa=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Jo.va=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?u(this.sb,this):"reauthViaPopup"==t&&e==(this.g||null)?u(this.tb,this):"linkViaRedirect"==t&&(this.Z||null)==e?u(this.sb,this):"reauthViaRedirect"==t&&(this.Z||null)==e?u(this.tb,this):null},Jo.ac=function(t){var e=this;return ao(this,"linkViaPopup",t,function(){return ro(e,t.providerId).then(function(){return Gi(e)})},!1)},Jo.jc=function(t){return ao(this,"reauthViaPopup",t,function(){return H()},!0)},Jo.bc=function(t){var e=this;return so(this,"linkViaRedirect",t,function(){return ro(e,t.providerId)},!1)},Jo.kc=function(t){return so(this,"reauthViaRedirect",t,function(){return H()},!0)},Jo.sb=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return lo(this,this.F().then(function(r){return Rr(n.c,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=io(n,t,"link"),oo(n,t)}).then(function(){return r}))},Jo.tb=function(t,e){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return lo(this,H().then(function(){return zn(Dr(n.c,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=io(n,t,"reauthenticate"),no(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},Jo.bb=function(t){var e=this,n=null;return lo(this,this.F().then(function(e){return n=e,void 0===t||O(t)?{}:Un(new Fn(t))}).then(function(t){return e.c.bb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},Jo.toJSON=function(){return this.B()},Jo.B=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.o,authDomain:this.w,stsTokenManager:this.h.B(),redirectEventId:this.Z||null};return this.metadata&&A(t,this.metadata.B()),pa(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var ul={name:"redirectUser",C:"session"};po.prototype.g=function(){var t=this,e=go("local");_o(this,function(){return H().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return fo(t,"local").then(function(){t.c=e})})})};var ll={name:"persistence",C:"session"};po.prototype.eb=function(t){var e=null,n=this;return function(t){var e=new Mn("invalid-persistence-type"),n=new Mn("unsupported-persistence-type");t:{for(r in nl)if(nl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(cn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!yn()&&"none"!==t)throw n}}(t),_o(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,fo(n,t)}).then(function(){if(n.c=go(t),e)return n.b.set(n.c,e,n.a)}):H()})},c(bo,jt),c(wo,Ct),c(Eo,Ct),(Jo=bo.prototype).eb=function(t){return t=this.h.eb(t),ko(this,t)},Jo.na=function(t){this.V===t||this.l||(this.V=t,Er(this.c,this.V),Bt(this,new wo(this.$())))},Jo.$=function(){return this.V},Jo.Ac=function(){var t=Zo.navigator;this.na(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},Jo.cc=function(t){this.A.push(t),Cr(this.c,Xo.SDK_VERSION?fn(Xo.SDK_VERSION,this.A):null),Bt(this,new Eo(this.A))},Jo.Ka=function(){return E(this.A)},Jo.toJSON=function(){return{apiKey:Oo(this).options.apiKey,authDomain:Oo(this).options.authDomain,appName:Oo(this).name,currentUser:No(this)&&No(this).B()}},Jo.ob=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},Jo.fa=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Jo.va=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?u(this.Ob,this):null},Jo.Ob=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var r=null,i=null,o=kr(n.c,t).then(function(t){return r=fr(t),i=Bn(t),t});return t=n.U.then(function(){return o}).then(function(t){return So(n,t)}).then(function(){return Dn({user:No(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),ko(this,t)},Jo.sc=function(t){if(!mn())return G(new Mn("operation-not-supported-in-this-environment"));var e=this,n=jn(t.providerId),r=Sn(),i=null;(!bn()||ln())&&Oo(this).options.authDomain&&t.isOAuthProvider&&(i=Gr(Oo(this).options.authDomain,Oo(this).options.apiKey,Oo(this).name,"signInViaPopup",t,null,r,Xo.SDK_VERSION||null));var o=an(i,n&&n.za,n&&n.ya);return n=Co(this).then(function(e){return _i(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new B(function(t,n){e.fa("signInViaPopup",null,new Mn("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ca(e,"signInViaPopup",o,r)})}).then(function(t){return o&&on(o),t?Dn(t):null}).s(function(t){throw o&&on(o),t}),ko(this,n)},Jo.tc=function(t){if(!mn())return G(new Mn("operation-not-supported-in-this-environment"));var e=this;return ko(this,Co(this).then(function(){return function(t){return _o(t,function(){return t.b.set(ll,t.c.C,t.a)})}(e.h)}).then(function(){return e.a.Aa("signInViaRedirect",t)}))},Jo.aa=function(){if(!mn())return G(new Mn("operation-not-supported-in-this-environment"));var t=this;return ko(this,Co(this).then(function(){return t.a.aa()}).then(function(t){return t?Dn(t):null}))},Jo.hb=function(){var t=this;return ko(this,this.i.then(function(){return No(t)?(To(t,null),mo(t.h).then(function(){Po(t)})):H()}))},Jo.uc=function(){var t=this;return vo(this.h,Oo(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=No(t)&&e){n=No(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return to(No(t),e),No(t).F();(No(t)||e)&&(To(t,e),e&&(Ki(e),e.ca=t.G),t.a&&t.a.subscribe(t),Po(t))}})},Jo.ka=function(t){return yo(this.h,t)},Jo.Pb=function(){Po(this),this.ka(No(this))},Jo.Vb=function(){this.hb()},Jo.Wb=function(){this.hb()},Jo.Xb=function(t){var e=this;this.addAuthTokenListener(function(){t.next(No(e))})},Jo.Yb=function(t){var e=this;!function(t,e){t.I.push(e),ko(t,t.i.then(function(){!t.l&&v(t.I,e)&&t.R!==t.getUid()&&(t.R=t.getUid(),e(Ao(t)))}))}(this,function(){t.next(No(e))})},Jo.ec=function(t,e,n){var r=this;return this.W&&Xo.Promise.resolve().then(function(){a(t)?t(No(r)):a(t.next)&&t.next(No(r))}),this.Gb(t,e,n)},Jo.dc=function(t,e,n){var r=this;return this.W&&Xo.Promise.resolve().then(function(){r.R=r.getUid(),a(t)?t(No(r)):a(t.next)&&t.next(No(r))}),this.Hb(t,e,n)},Jo.Rb=function(t){var e=this;return ko(this,this.i.then(function(){return No(e)?No(e).F(t).then(function(t){return{accessToken:t}}):null}))},Jo.pc=function(t){var e=this;return this.i.then(function(){return Io(e,Mr(e.c,ju,{token:t}))}).then(function(t){return t=t.user,$i(t,"isAnonymous",!1),e.ka(t)}).then(function(){return No(e)})},Jo.qc=function(t,e){var n=this;return this.i.then(function(){return Io(n,Mr(n.c,Bu,{email:t,password:e}))}).then(function(t){return t.user})},Jo.Kb=function(t,e){var n=this;return this.i.then(function(){return Io(n,Mr(n.c,Cu,{email:t,password:e}))}).then(function(t){return t.user})},Jo.oc=function(t){return this.fb(t).then(function(t){return t.user})},Jo.fb=function(t){var e=this;return this.i.then(function(){return Io(e,t.wa(e.c))})},Jo.gb=function(){var t=this;return this.i.then(function(){var e=No(t);return e&&e.isAnonymous?e:Io(t,t.c.gb()).then(function(e){return e=e.user,$i(e,"isAnonymous",!0),t.ka(e)}).then(function(){return No(t)})})},Jo.getUid=function(){return No(this)&&No(this).uid||null},Jo.Ib=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&No(this)&&qi(No(this))},Jo.mc=function(t){var e=this;pa(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&No(this)&&Wi(No(this)),this.removeAuthTokenListener(t)},Jo.addAuthTokenListener=function(t){var e=this;this.m.push(t),ko(this,this.i.then(function(){e.l||v(e.m,t)&&t(Ao(e))}))},Jo.removeAuthTokenListener=function(t){b(this.m,function(e){return e==t})},Jo.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,function(t,e,n){e=oi(t,go("local"),e),t.a[e]&&(b(t.a[e],function(t){return t==n}),0==t.a[e].length&&delete t.a[e]),O(t.a)&&function(t){ii(t,"local").da(t.h),ui(t)}(t)}(t.b,t.a,this.ha)),this.a&&this.a.unsubscribe(this),Xo.Promise.resolve()},Jo.Nb=function(t){return ko(this,function(t,e){return Mr(t,Su,{identifier:e,continueUri:vn()?tn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.c,t))},Jo.Bc=function(t){return this.Ia(t).then(function(t){return t.data.email})},Jo.Ta=function(t,e){return ko(this,this.c.Ta(t,e).then(function(){}))},Jo.Ia=function(t){return ko(this,this.c.Ia(t).then(function(t){return new function(t){var e={},n=t.email,r=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n,kn(this,"operation",t),kn(this,"data",xn(e))}(t)}))},Jo.Sa=function(t){return ko(this,this.c.Sa(t).then(function(){}))},Jo.cb=function(t,e){var n=this;return ko(this,H().then(function(){return void 0===e||O(e)?{}:Un(new Fn(e))}).then(function(e){return n.c.cb(t,e)}).then(function(){}))},Jo.rc=function(t,e){return ko(this,Ni(this,t,e,u(this.fb,this)))};var cl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),hl="callback",pl="expired-callback",fl="sitekey",dl="size";(Jo=jo.prototype).xa=function(){var t=this;return this.c?this.c:this.c=qo(this,H().then(function(){if(vn())return sn();throw new Mn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return function(t,e){return new B(function(n,r){On()?!Zo.grecaptcha||e!==t.c&&!t.b?(Zo[t.a]=function(){if(Zo.grecaptcha){t.c=e;var i=Zo.grecaptcha.render;Zo.grecaptcha.render=function(e,n){return e=i(e,n),t.b++,e},n()}else r(new Mn("internal-error"));delete Zo[t.a]},H(Qe(lt(gl,{onload:t.a,hl:e||""}))).s(function(){r(new Mn("internal-error","Unable to load external reCAPTCHA dependencies!"))})):n():r(new Mn("network-request-failed"))})}(Ho(),t.o())}).then(function(){return Mr(t.u,ku,{})}).then(function(e){t.a[fl]=e.recaptchaSiteKey}).s(function(e){throw t.c=null,e}))},Jo.render=function(){Wo(this);var e=this;return qo(this,this.xa().then(function(){if(null===e.b){var n=e.l;if(!e.h){var r=yt(n);n=function(e,n,r){var u=arguments,l=document,c=String(u[0]),h=u[1];if(!Ba&&h&&(h.name||h.type)){if(c=["<",c],h.name&&c.push(' name="',f(h.name),'"'),h.type){c.push(' type="',f(h.type),'"');var p={};A(p,h),delete p.type,h=p}c.push(">"),c=c.join("")}return c=l.createElement(c),h&&(t(h)?c.className=h:i(h)?c.className=h.join(" "):mt(c,h)),2<u.length&&function(e,n,r){function i(r){r&&n.appendChild(t(r)?e.createTextNode(r):r)}for(var u=2;u<r.length;u++){var l=r[u];!o(l)||s(l)&&0<l.nodeType?i(l):pa(function(t){if(t&&"number"==typeof t.length){if(s(t))return"function"==typeof t.item||"string"==typeof t.item;if(a(t))return"function"==typeof t.item}return!1}(l)?E(l):l,i)}}(l,c,u),c}("DIV"),r.appendChild(n)}e.b=grecaptcha.render(n,e.a)}return e.b}))},Jo.verify=function(){Wo(this);var t=this;return qo(this,this.render().then(function(e){return new B(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){b(t.i,function(t){return t==e})}(t,i),n(e))};t.i.push(i),t.h&&grecaptcha.execute(t.b)}})}))},Jo.reset=function(){Wo(this),null!==this.b&&grecaptcha.reset(this.b)},Jo.clear=function(){Wo(this),this.m=!0,Ho().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=yt(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var gl=at("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yl=null;c(Go,jo),Ko(bo.prototype,{Sa:{name:"applyActionCode",j:[Do("code")]},Ia:{name:"checkActionCode",j:[Do("code")]},Ta:{name:"confirmPasswordReset",j:[Do("code"),Do("newPassword")]},Kb:{name:"createUserWithEmailAndPassword",j:[Do("email"),Do("password")]},Nb:{name:"fetchProvidersForEmail",j:[Do("email")]},aa:{name:"getRedirectResult",j:[]},dc:{name:"onAuthStateChanged",j:[Vo(xo(),Mo(),"nextOrObserver"),Mo("opt_error",!0),Mo("opt_completed",!0)]},ec:{name:"onIdTokenChanged",j:[Vo(xo(),Mo(),"nextOrObserver"),Mo("opt_error",!0),Mo("opt_completed",!0)]},cb:{name:"sendPasswordResetEmail",j:[Do("email"),Vo(xo("opt_actionCodeSettings",!0),Lo(null,!0),"opt_actionCodeSettings",!0)]},eb:{name:"setPersistence",j:[Do("persistence")]},fb:{name:"signInAndRetrieveDataWithCredential",j:[Fo()]},gb:{name:"signInAnonymously",j:[]},oc:{name:"signInWithCredential",j:[Fo()]},pc:{name:"signInWithCustomToken",j:[Do("token")]},qc:{name:"signInWithEmailAndPassword",j:[Do("email"),Do("password")]},rc:{name:"signInWithPhoneNumber",j:[Do("phoneNumber"),Uo()]},sc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},tc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Do(null,!0)]},Ac:{name:"useDeviceLanguage",j:[]},Bc:{name:"verifyPasswordResetCode",j:[Do("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].Jb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Ro(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}(bo.prototype,{lc:{name:"languageCode",Jb:Vo(Do(),Lo(),"languageCode")}}),(bo.Persistence=nl).LOCAL="local",bo.Persistence.SESSION="session",bo.Persistence.NONE="none",Ko(Fi.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:function(t){return"boolean"==typeof t}}]},getToken:{name:"getToken",j:[{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:function(t){return"boolean"==typeof t}}]},Xa:{name:"linkAndRetrieveDataWithCredential",j:[Fo()]},Zb:{name:"linkWithCredential",j:[Fo()]},$b:{name:"linkWithPhoneNumber",j:[Do("phoneNumber"),Uo()]},ac:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Za:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fo()]},hc:{name:"reauthenticateWithCredential",j:[Fo()]},ic:{name:"reauthenticateWithPhoneNumber",j:[Do("phoneNumber"),Uo()]},jc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},kc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},bb:{name:"sendEmailVerification",j:[Vo(xo("opt_actionCodeSettings",!0),Lo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Do(null,!0)]},yc:{name:"unlink",j:[Do("provider")]},kb:{name:"updateEmail",j:[Do("email")]},lb:{name:"updatePassword",j:[Do("password")]},zc:{name:"updatePhoneNumber",j:[Fo("phone")]},mb:{name:"updateProfile",j:[xo("profile")]}}),Ko(B.prototype,{s:{name:"catch"},then:{name:"then"}}),Ko(Oi.prototype,{confirm:{name:"confirm",j:[Do("verificationCode")]}}),Qo(ur,"credential",function(t,e){return new sr(t,e)},[Do("email"),Do("password")]),Ko($n.prototype,{sa:{name:"addScope",j:[Do("scope")]},Ba:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),Qo($n,"credential",tr,[Vo(Do(),xo(),"token")]),Ko(er.prototype,{sa:{name:"addScope",j:[Do("scope")]},Ba:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),Qo(er,"credential",nr,[Vo(Do(),xo(),"token")]),Ko(rr.prototype,{sa:{name:"addScope",j:[Do("scope")]},Ba:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),Qo(rr,"credential",ir,[Vo(Do(),Vo(xo(),Lo()),"idToken"),Vo(Do(),Lo(),"accessToken",!0)]),Ko(or.prototype,{Ba:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),Qo(or,"credential",ar,[Vo(Do(),xo(),"token"),Do("secret",!0)]),Ko(Zn.prototype,{sa:{name:"addScope",j:[Do("scope")]},credential:{name:"credential",j:[Vo(Do(),Lo(),"idToken",!0),Vo(Do(),Lo(),"accessToken",!0)]},Ba:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),Qo(hr,"credential",pr,[Do("verificationId"),Do("verificationCode")]),Ko(hr.prototype,{Qa:{name:"verifyPhoneNumber",j:[Do("phoneNumber"),Uo()]}}),Ko(Mn.prototype,{toJSON:{name:"toJSON",j:[Do(null,!0)]}}),Ko(vr.prototype,{toJSON:{name:"toJSON",j:[Do(null,!0)]}}),Ko(mr.prototype,{toJSON:{name:"toJSON",j:[Do(null,!0)]}}),Ko(Go.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===Xo||!Xo.INTERNAL||!Xo.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:bo,Error:Mn};Qo(t,"EmailAuthProvider",ur,[]),Qo(t,"FacebookAuthProvider",$n,[]),Qo(t,"GithubAuthProvider",er,[]),Qo(t,"GoogleAuthProvider",rr,[]),Qo(t,"TwitterAuthProvider",or,[]),Qo(t,"OAuthProvider",Zn,[Do("providerId")]),Qo(t,"PhoneAuthProvider",hr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof bo)}}]),Qo(t,"RecaptchaVerifier",Go,[Vo(Do(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),xo("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Xo.app.App)}}]),Xo.INTERNAL.registerService("auth",function(t,e){return t=new bo(t),e({INTERNAL:{getUid:u(t.getUid,t),getToken:u(t.Rb,t),addAuthTokenListener:u(t.Ib,t),removeAuthTokenListener:u(t.mc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),Xo.INTERNAL.extendNamespace({User:Fi})}()}).call(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n("fRUx"))},TO51:function(t,e,n){"use strict";var r=n("6Xbx"),i=n("AP4T"),o=n("E9/g"),a=n("qLnt"),s=n("Upor"),u=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Object(r.b)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),l=n("V7AE");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var c=function(t){function e(e){t.call(this,e),this.destination=e}return Object(r.b)(e,t),e}(o.a),h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.b)(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.a),p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Object(r.b)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},Tmcl:function(t,e,n){"use strict";function r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}Object.defineProperty(e,"__esModule",{value:!0}),e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},e.errorPrefix=r,e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(r(t,e,i)+"must be a valid firebase namespace.")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(r(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(r(t,e,i)+"must be a valid context object.")}},U4XL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/byE");e.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e.getUA())},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isNodeSdk=function(){return!0===r.CONSTANTS.NODE_CLIENT||!0===r.CONSTANTS.NODE_ADMIN}},URbD:function(t,e,n){"use strict";function r(){return function(t){return t.lift(new l(t))}}var i=n("6Xbx"),o=n("TO51"),a=n("AP4T"),s=n("E9/g"),u=n("qLnt"),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(i.b)(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(s.a),h=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(i.b)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new u.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=u.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return r()(this)},e}(a.a).prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},f=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(i.b)(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.b),d=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.a=function(){return function(t){return r()(function(t,e){return function(e){var n;if(n="function"==typeof t?t:function(){return t},!1)return e.lift(new d(n,void 0));var r=Object.create(e,p);return r.source=e,r.subjectFactory=n,r}}(function(){return new o.a})(t))}(this)}},UcKF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_VERSION="5",e.VERSION_PARAM="v",e.TRANSPORT_SESSION_PARAM="s",e.REFERER_PARAM="r",e.FORGE_REF="f",e.FORGE_DOMAIN="firebaseio.com",e.LAST_SESSION_PARAM="ls",e.WEBSOCKET="websocket",e.LONG_POLLING="long_polling"},Upor:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Object(r.b)(e,t),e}(Error)},V7AE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xIGM").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},VzZx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("5pXs"),a=n("GnQ5"),s=n("fvGz"),u=n("hkXn"),l=n("/fob"),c=n("F1yO"),h=n("ZGn5"),p=n("xfHL"),f=n("JEJ4"),d=n("43Go"),g=n("R3TC"),y=n("pHuv");!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(r=e.TransactionStatus||(e.TransactionStatus={})),y.Repo.MAX_TRANSACTION_RETRIES_=25,y.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new u.Tree},y.Repo.prototype.startTransaction=function(t,e,n,s){this.log_("transaction on "+t);var u=function(){},y=new o.Reference(this,t);y.on("value",u);var m={path:t,update:e,onComplete:n,status:null,order:c.LUIDGenerator(),applyLocally:s,retryCount:0,unwatcher:function(){y.off("value",u)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=this.getLatestState_(t);m.currentInputSnapshot=v;var _=m.update(v.val());if(void 0===_){if(m.unwatcher(),m.currentOutputSnapshotRaw=null,m.currentOutputSnapshotResolved=null,m.onComplete){var b=new a.DataSnapshot(m.currentInputSnapshot,new o.Reference(this,m.path),l.PRIORITY_INDEX);m.onComplete(null,!1,b)}}else{p.validateFirebaseData("transaction failed: Data returned ",_,m.path),m.status=r.RUN;var w=this.transactionQueueTree_.subTree(t),E=w.getValue()||[];E.push(m),w.setValue(E);var C=void 0;"object"==typeof _&&null!==_&&f.contains(_,".priority")?(C=f.safeGet(_,".priority"),i.assert(p.isValidPriority(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(this.serverSyncTree_.calcCompleteEventCache(t)||g.ChildrenNode.EMPTY_NODE).getPriority().val(),C=C;var S=this.generateServerValues(),T=d.nodeFromJSON(_,C),I=h.resolveDeferredValueSnapshot(T,S);m.currentOutputSnapshotRaw=T,m.currentOutputSnapshotResolved=I,m.currentWriteId=this.getNextWriteId_();var O=this.serverSyncTree_.applyUserOverwrite(t,I,m.currentWriteId,m.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,O),this.sendReadyTransactions_()}},y.Repo.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||g.ChildrenNode.EMPTY_NODE},y.Repo.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);i.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===r.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},y.Repo.prototype.sendTransactionQueue_=function(t,e){for(var n=this,u=e.map(function(t){return t.currentWriteId}),h=this.getLatestState_(t,u),p=h,f=h.hash(),d=0;d<e.length;d++){var g=e[d];i.assert(g.status===r.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=r.SENT,g.retryCount++;var y=s.Path.relativePath(t,g.path);p=p.updateChild(y,g.currentOutputSnapshotRaw)}var m=p.val(!0),v=t;this.server_.put(v.toString(),m,function(i){n.log_("transaction put response",{path:v.toString(),status:i});var s=[];if("ok"===i){for(var u=[],h=0;h<e.length;h++){if(e[h].status=r.COMPLETED,s=s.concat(n.serverSyncTree_.ackUserWrite(e[h].currentWriteId)),e[h].onComplete){var p=e[h].currentOutputSnapshotResolved,f=new o.Reference(n,e[h].path),d=new a.DataSnapshot(p,f,l.PRIORITY_INDEX);u.push(e[h].onComplete.bind(null,null,!0,d))}e[h].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,s),h=0;h<u.length;h++)c.exceptionGuard(u[h])}else{if("datastale"===i)for(h=0;h<e.length;h++)e[h].status=e[h].status===r.SENT_NEEDS_ABORT?r.NEEDS_ABORT:r.RUN;else for(c.warn("transaction at "+v.toString()+" failed: "+i),h=0;h<e.length;h++)e[h].status=r.NEEDS_ABORT,e[h].abortReason=i;n.rerunTransactions_(t)}},f)},y.Repo.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},y.Repo.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],u=[],g=t.filter(function(t){return t.status===r.RUN}).map(function(t){return t.currentWriteId}),m=0;m<t.length;m++){var v=t[m],_=s.Path.relativePath(e,v.path),b=!1,w=void 0;if(i.assert(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===r.NEEDS_ABORT)b=!0,w=v.abortReason,u=u.concat(this.serverSyncTree_.ackUserWrite(v.currentWriteId,!0));else if(v.status===r.RUN)if(v.retryCount>=y.Repo.MAX_TRANSACTION_RETRIES_)b=!0,w="maxretry",u=u.concat(this.serverSyncTree_.ackUserWrite(v.currentWriteId,!0));else{var E=this.getLatestState_(v.path,g);v.currentInputSnapshot=E;var C=t[m].update(E.val());if(void 0!==C){p.validateFirebaseData("transaction failed: Data returned ",C,v.path);var S=d.nodeFromJSON(C);"object"==typeof C&&null!=C&&f.contains(C,".priority")||(S=S.updatePriority(E.getPriority()));var T=v.currentWriteId,I=this.generateServerValues(),O=h.resolveDeferredValueSnapshot(S,I);v.currentOutputSnapshotRaw=S,v.currentOutputSnapshotResolved=O,v.currentWriteId=this.getNextWriteId_(),g.splice(g.indexOf(T),1),u=(u=u.concat(this.serverSyncTree_.applyUserOverwrite(v.path,O,v.currentWriteId,v.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(T,!0))}else b=!0,w="nodata",u=u.concat(this.serverSyncTree_.ackUserWrite(v.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,u),u=[],b&&(t[m].status=r.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[m].unwatcher),t[m].onComplete))if("nodata"===w){var N=new o.Reference(this,t[m].path),A=new a.DataSnapshot(t[m].currentInputSnapshot,N,l.PRIORITY_INDEX);n.push(t[m].onComplete.bind(null,null,!1,A))}else n.push(t[m].onComplete.bind(null,new Error(w),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),m=0;m<n.length;m++)c.exceptionGuard(n[m]);this.sendReadyTransactions_()}},y.Repo.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},y.Repo.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},y.Repo.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},y.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,o=0;o<n.length;o++)n[o].status!==r.COMPLETED&&(n[i]=n[o],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},y.Repo.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},y.Repo.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],o=[],a=-1,s=0;s<e.length;s++)e[s].status===r.SENT_NEEDS_ABORT||(e[s].status===r.SENT?(i.assert(a===s-1,"All SENT items should be at beginning of queue."),a=s,e[s].status=r.SENT_NEEDS_ABORT,e[s].abortReason="set"):(i.assert(e[s].status===r.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),o=o.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?t.setValue(null):e.length=a+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),o),s=0;s<n.length;s++)c.exceptionGuard(n[s])}}},W4Cj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("ertD"),o=n("R3TC"),a=n("/fob");e.IndexedFilter=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,o,a,s){r.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=t.getImmediateChild(e);return u.getChild(o).equals(n.getChild(o))&&u.isEmpty()==n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(i.Change.childRemovedChange(e,u)):r.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.trackChildChange(u.isEmpty()?i.Change.childAddedChange(e,n):i.Change.childChangedChange(e,n,u))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,function(t,r){e.hasChild(t)||n.trackChildChange(i.Change.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(i.Change.childChangedChange(e,r,o))}else n.trackChildChange(i.Change.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?o.ChildrenNode.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}()},WH8D:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonEval=function(t){return JSON.parse(t)},e.stringify=function(t){return JSON.stringify(t)}},X3fp:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}(n("xIGM").a)},XiwH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("W4Cj"),i=n("/fob"),o=n("p+VM"),a=n("R3TC");e.RangedFilter=function(){function t(e){this.indexedFilter_=new r.IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,s){return this.matches(new o.NamedNode(e,n))||(n=a.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=a.ChildrenNode.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return e.forEachChild(i.PRIORITY_INDEX,function(t,e){s.matches(new o.NamedNode(t,e))||(r=r.updateImmediateChild(t,a.ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}()},Xp63:function(t,e,n){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.createSubscribe=function(t,e){var n=new i(t,e);return n.subscribe.bind(n)};var i=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(i.next=r),void 0===i.error&&(i.error=r),void 0===i.complete&&(i.complete=r);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(t){}}),this.observers.push(i),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}},XtH8:function(t,e,n){"use strict";function r(){function t(t){return t=t||s,a(c,t)||i("no-app",{name:t}),c[t]}function e(){return Object.keys(c).map(function(t){return c[t]})}function n(t,e){Object.keys(h).forEach(function(n){var r=u(0,n);null!==r&&p[r]&&p[r](e,t)})}function u(t,e){return"serverAuth"===e?null:e}var c={},h={},p={},f={__esModule:!0,initializeApp:function(t,e){void 0===e?e=s:"string"==typeof e&&""!==e||i("bad-app-name",{name:e+""}),a(c,e)&&i("duplicate-app",{name:e});var r=new l(t,e,f);return c[e]=r,n(r,"create"),r},app:t,apps:null,Promise:Promise,SDK_VERSION:"4.6.1",INTERNAL:{registerService:function(n,r,a,s,u){h[n]&&i("duplicate-service",{name:n}),h[n]=r,s&&(p[n]=s,e().forEach(function(t){s("create",t)}));var c=function(e){return void 0===e&&(e=t()),"function"!=typeof e[n]&&i("invalid-app-argument",{name:n}),e[n]()};return void 0!==a&&Object(o.deepExtend)(c,a),f[n]=c,l.prototype[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,n).apply(this,u?t:[])},c},createFirebaseNamespace:r,extendNamespace:function(t){Object(o.deepExtend)(f,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:function(t){n(c[t],"delete"),delete c[t]},factories:h,useAsService:u,Promise:Promise,deepExtend:o.deepExtend}};return Object(o.patchProperty)(f,"default",f),Object.defineProperty(f,"apps",{get:e}),Object(o.patchProperty)(t,"App",l),f}function i(t,e){throw c.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("JEJ4"),a=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s="[DEFAULT]",u=[],l=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e,this.options_=Object(o.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;Object(o.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&i("app-deleted",{name:this.name_})},t}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var c=new o.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});n.d(e,"firebase",function(){return h});var h=r();e.default=h},Y5DG:function(t,e,n){n("OzfH")},YY8E:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.EventEmitter=function(){function t(t){this.allowedEvents_=t,this.listeners_={},r.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){r.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}()},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},ZGn5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("fvGz"),o=n("z8+r"),a=n("04zk"),s=n("43Go"),u=n("/fob");e.generateWithValues=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},e.resolveDeferredValue=function(t,e){return t&&"object"==typeof t?(r.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},e.resolveDeferredValueTree=function(t,n){var r=new o.SparseSnapshotTree;return t.forEachTree(new i.Path(""),function(t,i){r.remember(t,e.resolveDeferredValueSnapshot(i,n))}),r},e.resolveDeferredValueSnapshot=function(t,n){var r,i=t.getPriority().val(),o=e.resolveDeferredValue(i,n);if(t.isLeafNode()){var l=t,c=e.resolveDeferredValue(l.getValue(),n);return c!==l.getValue()||o!==l.getPriority().val()?new a.LeafNode(c,s.nodeFromJSON(o)):t}var h=t;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new a.LeafNode(o))),h.forEachChild(u.PRIORITY_INDEX,function(t,i){var o=e.resolveDeferredValueSnapshot(i,n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}},b5Wm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("2BLv"),a=n("JEJ4"),s=n("p+VM"),u=n("/fob"),l=n("stu6"),c={};e.IndexMap=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return i.assert(c&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),r=r||new t({".priority":c},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===c?null:e},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){i.assert(e!==l.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],u=!1,h=n.getIterator(s.NamedNode.Wrap),p=h.getNext();p;)u=u||e.isDefinedOn(p.node),r.push(p),p=h.getNext();var f;f=u?o.buildChildSet(r,e.getCompare()):c;var d=e.toString(),g=a.clone(this.indexSet_);g[d]=e;var y=a.clone(this.indexes_);return y[d]=f,new t(y,g)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(a.map(this.indexes_,function(t,u){var l=a.safeGet(r.indexSet_,u);if(i.assert(l,"Missing index implementation for "+u),t===c){if(l.isDefinedOn(e.node)){for(var h=[],p=n.getIterator(s.NamedNode.Wrap),f=p.getNext();f;)f.name!=e.name&&h.push(f),f=p.getNext();return h.push(e),o.buildChildSet(h,l.getCompare())}return c}var d=n.get(e.name),g=t;return d&&(g=g.remove(new s.NamedNode(e.name,d))),g.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,function(t){if(t===c)return t;var r=n.get(e.name);return r?t.remove(new s.NamedNode(e.name,r)):t}),this.indexSet_)},t}()},bN85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("R3TC"),i=n("y8hQ");e.ViewCache=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new i.CacheNode(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new i.CacheNode(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),t}()},bywS:function(t,e,n){"use strict";var r=n("wP3s");e.a=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(function(t){return t},null,t)}},cDNt:function(t,e,n){"use strict";function r(t){return t.replace(/\/index.html$/,"")}function i(t,e){return h(t)[10][e]}function o(t,e){return h(t)[11][e]}function a(t,e){return l(h(t)[12],e)}function s(t,e){var n=h(t),r=n[13][e];if(void 0===r){if(e===sn.CurrencyDecimal)return n[13][sn.Decimal];if(e===sn.CurrencyGroup)return n[13][sn.Group]}return r}function u(t){if(!t[18])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function l(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function c(t){var e=t.split(":");return{hours:+e[0],minutes:+e[1]}}function h(t){var e=t.toLowerCase().replace(/_/g,"-"),n=tn[e];if(n)return n;var r=e.split("-")[0];if(n=tn[r])return n;if("en"===r)return $e;throw new Error('Missing locale data for the locale "'+t+'".')}function p(t,e){var n=function(t){return h(t)[0]}(t);if(mn[n]=mn[n]||{},mn[n][e])return mn[n][e];var r="";switch(e){case"shortDate":r=i(t,an.Short);break;case"mediumDate":r=i(t,an.Medium);break;case"longDate":r=i(t,an.Long);break;case"fullDate":r=i(t,an.Full);break;case"shortTime":r=o(t,an.Short);break;case"mediumTime":r=o(t,an.Medium);break;case"longTime":r=o(t,an.Long);break;case"fullTime":r=o(t,an.Full);break;case"short":var s=p(t,"shortTime"),u=p(t,"shortDate");r=f(a(t,an.Short),[s,u]);break;case"medium":var l=p(t,"mediumTime"),c=p(t,"mediumDate");r=f(a(t,an.Medium),[l,c]);break;case"long":var d=p(t,"longTime"),g=p(t,"longDate");r=f(a(t,an.Long),[d,g]);break;case"full":var y=p(t,"fullTime"),m=p(t,"fullDate");r=f(a(t,an.Full),[y,m])}return r&&(mn[n][e]=r),r}function f(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function d(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=""+t;a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function g(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var u=function(t,e,n){switch(t){case bn.FullYear:return e.getFullYear();case bn.Month:return e.getMonth();case bn.Date:return e.getDate();case bn.Hours:return e.getHours();case bn.Minutes:return e.getMinutes();case bn.Seconds:return e.getSeconds();case bn.Milliseconds:var r=1===n?100:2===n?10:1;return Math.round(e.getMilliseconds()/r);case bn.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o,e);return(n>0||u>-n)&&(u+=n),t===bn.Hours&&0===u&&-12===n&&(u=12),d(u,e,s(a,sn.MinusSign),r,i)}}function y(t,e,n,r){return void 0===n&&(n=rn.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case wn.Months:return function(t,e,n){var r=h(t);return l(l([r[5],r[6]],e),n)}(e,i,r)[t.getMonth()];case wn.Days:return function(t,e,n){var r=h(t);return l(l([r[3],r[4]],e),n)}(e,i,r)[t.getDay()];case wn.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var p,f=function(t){var e=h(t);return u(e),(e[18][2]||[]).map(function(t){return"string"==typeof t?c(t):[c(t[0]),c(t[1])]})}(e),d=function(t,e,n){var r=h(t);return u(r),l(l([r[18][0],r[18][1]],e)||[],n)||[]}(e,i,r);if(f.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(p=d[e])}else t.hours===a&&t.minutes===s&&(p=d[e])}),p)return p}return function(t,e,n){var r=h(t);return l(l([r[1],r[2]],e),n)}(e,i,r)[a<12?0:1];case wn.Eras:return function(t,e){return l(h(t)[7],e)}(e,r)[t.getFullYear()<=0?0:1]}}(i,o,t,e,n,r)}}function m(t){return function(e,n,r){var i=-1*r,o=s(n,sn.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case _n.Short:return(i>=0?"+":"")+d(a,2,o)+d(Math.abs(i%60),2,o);case _n.ShortGMT:return"GMT"+(i>=0?"+":"")+d(a,1,o);case _n.Long:return"GMT"+(i>=0?"+":"")+d(a,2,o)+":"+d(Math.abs(i%60),2,o);case _n.Extended:return 0===r?"Z":(i>=0?"+":"")+d(a,2,o)+":"+d(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}function v(t,e){return void 0===e&&(e=!1),function(n,r){var i;if(e){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{var u=function(t){var e=new Date(t,En,1).getDay();return new Date(t,0,1+(e<=Cn?Cn:Cn+7)-e)}(n.getFullYear()),l=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(Cn-t.getDay()))}(n).getTime()-u.getTime();i=1+Math.round(l/6048e5)}return d(i,t,s(r,sn.MinusSign))}}function _(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function b(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(He._23)(t)+"'")}function w(t){return t instanceof Date&&!isNaN(t.valueOf())}function E(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function C(){return Mn}function S(){return!!window.history.pushState}function T(t,e){"undefined"!=typeof COMPILED&&COMPILED||((He._5.ng=He._5.ng||{})[t]=e)}function I(t){return Object(He.S)(t)}function O(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?O(t,i,n):(i=i.replace(rr,t),n.push(i))}return n}function N(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function A(t,e){if(t.charCodeAt(0)===ur)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function P(t){return(t=String(t)).match(Tr)||t.match(Ir)?t:(Object(He.T)()&&C().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function k(t){for(var e={},n=0,r=t.split(",");n<r.length;n++)e[r[n]]=!0;return e}function R(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}function D(t,e){if(e&&Nr.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+Nr.getOuterHTML(t));return e}function x(t){return t.replace(/&/g,"&amp;").replace(Ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Vr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function M(t){Nr.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||Nr.removeAttribute(t,n)});for(var e=0,n=Nr.childNodesAsList(t);e<n.length;e++){var r=n[e];Nr.isElementNode(r)&&M(r)}}function L(t){var e=t.subscriber;e.closed||(e.next(t.value),e.complete())}function F(t,e){return function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new hi(t,e))}}(t,e)(this)}function U(t){return null==t||0===t.length}function V(t){return null!=t}function j(t){var e=Object(He._9)(t)?li(t):t;if(!Object(He._8)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function B(t){var e=t.reduce(function(t,e){return null!=e?Object(Ge.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}function q(){throw new Error("unimplemented")}function W(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function H(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function G(t,e){return e.path.concat([t])}function K(t,e){t||z(e,"Cannot find control with"),e.valueAccessor||z(e,"No value accessor for form control with"),t.validator=mi.compose([t.validator,e.validator]),t.asyncValidator=mi.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingDirty=!0,"change"===t.updateOn&&Q(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&Q(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Q(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1})}function z(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function J(t){return null!=t?mi.compose(t.map(function(t){return t.validate?function(e){return t.validate(e)}:t})):null}function X(t){return null!=t?mi.composeAsync(t.map(function(t){return t.validate?function(e){return t.validate(e)}:t})):null}function Y(t){var e=$(t)?t.validators:t;return Array.isArray(e)?J(e):e||null}function Z(t,e){var n=$(e)?e.asyncValidators:t;return Array.isArray(n)?X(n):n||null}function $(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function tt(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return Ji.Get;case"POST":return Ji.Post;case"PUT":return Ji.Put;case"DELETE":return Ji.Delete;case"OPTIONS":return Ji.Options;case"HEAD":return Ji.Head;case"PATCH":return Ji.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function et(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function nt(t,e){return t.createConnection(e).response}function rt(t,e,n,r){return t.merge(new po(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}function it(t){return void 0===t||null===t}function ot(t){return"function"==typeof t.set}function at(t,e){return ot(e)?e:t.database().ref(e)}function st(t,e){if("string"==typeof t)return e.stringCase();if(ot(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function ut(t,e){return void 0===e&&(e=0),function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new Mo(t,e))}}(t,e)(this)}function lt(t,e,n){void 0===n&&(n="on");var r=new $r.a(function(r){var i=t[n](e,function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,i)}}:{unsubscribe:function(){}}}).map(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}).delay(0);return ut.call(r,new Do(Zone.current)).share()}function ct(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Wo(t,e,n))}}function ht(t,e){return function(t,e){return function(n){return n.lift(new Xo(t,e))}}(t,e)(this)}function pt(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function ft(t){return(it(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function dt(t,e){return e=ft(e),function(t,e){return lt(t,"value","once").switchMap(function(n){var r=[$r.a.of(n)];return e.forEach(function(e){return r.push(lt(t,e))}),$r.a.merge.apply($r.a,r).scan(function(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=pt(t,i),a=function(t,e){if(it(e))return 0;var n=pt(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var s=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:s,key:e.key};return s=e.key,t=t.concat([n]),!1})}return t;case"child_added":if(o>-1){var u=t[o-1];(u&&u.key||null)!=r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(a,0,e)}else{if(null==r)return[e].concat(t);(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(o>-1){var l=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,l),t}return t;default:return t}},[])}).distinctUntilChanged()}(t,e)}function gt(t,e){var n=(e=ft(e)).map(function(e){return lt(t,e)});return $r.a.merge.apply($r.a,n)}function yt(t,e){return function(n,r){return st(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function mt(t){return function(){return lt(t,"value")}}function vt(t){var e=t[ca.a];if(!e&&"string"==typeof t)return new pa(t);if(!e&&void 0!==t.length)return new fa(t);if(!e)throw new TypeError("object is not iterable");return t[ca.a]()}function _t(t){return function(t){var e=new $r.a(function(e){return{unsubscribe:t.onSnapshot(e)}});return ut.call(e,new Do(Zone.current))}(t).share()}function bt(t){return _t(t).map(function(t){return{payload:t,type:"query"}})}function wt(t){return bt(t).map(function(t){return t.payload.docChanges.map(function(t){return{type:t.type,payload:t}})})}function Et(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}function Ct(t,e){return function(t,e){return Object(Oa.a)(t,e,1)}(t,e)(this)}function St(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(Oa.a)(t,e,n)(this)}function Tt(t){return function(t){return function(e){var n=new Na(t),r=e.lift(n);return n.caught=r}}(t)(this)}function It(){return Object(Pa.a)(1)(this)}function Ot(t,e,n){return function(t,e,n){return function(r){return r.lift(new Ra(t,e,n,r))}}(t,e,n)(this)}function Nt(t,e){return function(t,e){return function(n){return n.lift(new xa(t,e,n))}}(t,e)(this)}function At(t,e,n){return function(t,e,n){return function(r){return r.lift(new La(t,e,n,r))}}(t,e,n)(this)}function Pt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(Pa.a)(t)(this)}function kt(t){return function(e){return 0===t?new ti.a:e.lift(new Va(t))}}function Rt(t,e){return arguments.length>=2?function(n){return Object(Wa.a)(ct(t,e),kt(1),function(t){return void 0===t&&(t=null),function(e){return e.lift(new Ba(t))}}(e))(n)}:function(e){return Object(Wa.a)(ct(function(e,n,r){return t(e,n,r+1)}),kt(1))(e)}}function Dt(t){return new ss(t)}function xt(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];!function(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==as)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Mt(t.children,e)}(r,function(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}(e,r))}}function Lt(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function Ft(t){return Array.prototype.concat.apply([],t)}function Ut(t){return t.length>0?t[t.length-1]:null}function Vt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function jt(t){var e=Pt.call(t);return Nt.call(e,function(t){return!0===t})}function Bt(t){return Object(He._8)(t)?t:Object(He._9)(t)?li(Promise.resolve(t)):Qo(t)}function qt(t,e,n){return n?function(t,e){return Lt(t,e)}(t.queryParams,e.queryParams)&&Wt(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&Ht(t.root,e.root)}function Wt(t,e){if(!Kt(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Wt(t.children[n],e.children[n]))return!1}return!0}function Ht(t,e){return Gt(t,e,e.segments)}function Gt(t,e,n){if(t.segments.length>n.length)return!!Kt(i=t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Kt(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!Ht(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Kt(t.segments,i)&&!!t.children[as]&&Gt(t.children[as],e,o)}function Kt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Qt(t,e){var n=[];return Vt(t.children,function(t,r){r===as&&(n=n.concat(e(t,r)))}),Vt(t.children,function(t,r){r!==as&&(n=n.concat(e(t,r)))}),n}function zt(t){return t.segments.map(function(t){return Zt(t)}).join("/")}function Jt(t,e){if(!t.hasChildren())return zt(t);if(e){var n=t.children[as]?Jt(t.children[as],!1):"",r=[];return Vt(t.children,function(t,e){e!==as&&r.push(e+":"+Jt(t,!1))}),r.length>0?n+"("+r.join("//")+")":n}var i=Qt(t,function(e,n){return n===as?[Jt(t.children[as],!1)]:[n+":"+Jt(e,!1)]});return zt(t)+"/("+i.join("//")+")"}function Xt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function Yt(t){return decodeURIComponent(t)}function Zt(t){return""+Xt(t.path)+function(t){return Object.keys(t).map(function(e){return";"+Xt(e)+"="+Xt(t[e])}).join("")}(t.parameters)}function $t(t){var e=t.match(gs);return e?e[0]:""}function te(t){return new $r.a(function(e){return e.error(new _s(t))})}function ee(t){return new $r.a(function(e){return e.error(new bs(t))})}function ne(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||xt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function re(t){if(1===t.numberOfChildren&&t.children[as]){var e=t.children[as];return new cs(t.segments.concat(e.segments),e.children)}return t}function ie(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function oe(t){return t.outlet||as}function ae(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=ae(t,r[n]);if(i)return i}return null}function se(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var i=se(t,r[n]);if(i.length)return i.unshift(e),i}return[]}function ue(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function le(t,e){var n=function(t,e){var n=new Is([],{},{},"",{},as,e,null,t.root,-1,{});return new Os("",new Cs(n,[]))}(t,e),r=new Ia([new hs("",{})]),i=new Ia({}),o=new Ia({}),a=new Ia({}),s=new Ia(""),u=new Ts(r,i,a,s,o,as,e,n.root);return u.snapshot=n.root,new Ss(new Cs(u,[]),n)}function ce(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],i=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object(Ge.a)({},t.params,e.params),data:Object(Ge.a)({},t.data,e.data),resolve:Object(Ge.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function he(t,e){e.value._routerState=t,e.children.forEach(function(e){return he(t,e)})}function pe(t){var e=t.children.length>0?" { "+t.children.map(pe).join(", ")+" } ":"";return""+t.value+e}function fe(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Lt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Lt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Lt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function de(t,e){return Lt(t.params,e.params)&&function(t,e){return Kt(t,e)&&t.every(function(t,n){return Lt(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||de(t.parent,e.parent))}function ge(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot))return(i=n.value)._futureSnapshot=e.value,o=function(t,e,n){return e.children.map(function(e){for(var r=0,i=n.children;r<i.length;r++){var o=i[r];if(t.shouldReuseRoute(o.value.snapshot,e.value))return ge(t,e,o)}return ge(t,e)})}(t,e,n),new Cs(i,o);if(t.retrieve(e.value)){var r=t.retrieve(e.value).route;return ye(e,r),r}var i=function(t){return new Ts(new Ia(t.url),new Ia(t.params),new Ia(t.queryParams),new Ia(t.fragment),new Ia(t.data),t.outlet,t.component,t)}(e.value),o=e.children.map(function(e){return ge(t,e)});return new Cs(i,o)}function ye(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)ye(t.children[n],e.children[n])}function me(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ve(t,e,n,r,i){var o={};return r&&Vt(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new ls(e,o,i):new ls(_e(n.root,t,e),o,i)}function _e(t,e,n){var r={};return Vt(t.children,function(t,i){r[i]=t===e?n:_e(t,e,n)}),new cs(t.segments,r)}function be(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[as]:""+t}function we(t,e,n){if(t||(t=new cs([],{})),0===t.segments.length&&t.hasChildren())return Ee(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=be(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Se(s,u,a))return o;r+=2}else{if(!Se(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new cs(t.segments.slice(0,r.pathIndex),{});return o.children[as]=new cs(t.segments.slice(r.pathIndex),t.children),Ee(o,0,i)}return r.match&&0===i.length?new cs(t.segments,{}):r.match&&!t.hasChildren()?Ce(t,e,n):r.match?Ee(t,0,i):Ce(t,e,n)}function Ee(t,e,n){if(0===n.length)return new cs(t.segments,{});var r=function(t){return"object"!=typeof t[0]?(e={},e[as]=t,e):void 0===t[0].outlets?(n={},n[as]=t,n):t[0].outlets;var e,n}(n),i={};return Vt(r,function(n,r){null!==n&&(i[r]=we(t.children[r],e,n))}),Vt(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new cs(t.segments,i)}function Ce(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=function(t){var e={};return Vt(n[i].outlets,function(t,n){null!==t&&(e[n]=Ce(new cs([],{}),0,t))}),e}();return new cs(r,o)}if(0===i&&me(n[0]))r.push(new hs(t.segments[e].path,n[0])),i++;else{var a=be(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&me(s)?(r.push(new hs(a,function(t){var e={};return Vt(s,function(t,n){return e[n]=""+t}),e}())),i+=2):(r.push(new hs(a,{})),i++)}}return new cs(r,{})}function Se(t,e,n){return t==n.path&&Lt(e,n.parameters)}function Te(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ie(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Oe(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(function(n){return Ne(t,e,n)&&Ae(n)!==as})}(t,n)){var i=new cs(e,function(t,e,n,r){var i={};i[as]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(""===s.path&&Ae(s)!==as){var u=new cs([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Ae(s)]=u}}return i}(t,e,r,new cs(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return Ne(t,e,n)})}(t,n)){var o=new cs(t.segments,function(t,e,n,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];if(Ne(t,e,u)&&!i[Ae(u)]){var l=new cs([],{});l._sourceSegment=t,l._segmentIndexShift=t.segments.length,o[Ae(u)]=l}}return Object(Ge.a)({},i,o)}(t,n,0,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var a=new cs(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Ne(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ae(t){return t.outlet||as}function Pe(t){return t.data||{}}function ke(t){return t.resolve||{}}function Re(t){return Qo(null)}function De(t){fe(t.value),t.children.forEach(De)}function xe(t){return""===t||!!t}function Me(){return new He.w("Router",Bs)}function Le(t,e,n){return void 0===n&&(n={}),n.useHash?new Ye(t,e):new Ze(t,e)}function Fe(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ue(t){return[{provide:He.a,multi:!0,useValue:t},{provide:Fs,multi:!0,useValue:t}]}function Ve(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new Bs(null,e,n,r,i,o,a,Ft(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var p=C();h.events.subscribe(function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()})}return h}function je(t){return t.routerState.root}function Be(t){return t.appInitializer.bind(t)}function qe(t){return t.bootstrapListener.bind(t)}Object.defineProperty(e,"__esModule",{value:!0});var We,He=n("LMZF"),Ge=n("6Xbx"),Ke=function(){},Qe=new He.o("Location Initialized"),ze=function(){},Je=new He.o("appBaseHref"),Xe=function(){function t(e){var n=this;this._subject=new He.m,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(r(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,r(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}(),Ye=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(Ge.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Xe.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Xe.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Xe.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ze),Ze=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(Ge.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Xe.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Xe.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Xe.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Xe.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ze),$e=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],tn={},en=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),nn=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),rn=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),on=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),an=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),sn=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}(),un=new He.o("UseV4Plurals"),ln=function(){},cn=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(Ge.b)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return h(t)[17]}(e||this.locale)(t)){case nn.Zero:return"zero";case nn.One:return"one";case nn.Two:return"two";case nn.Few:return"few";case nn.Many:return"many";default:return"other"}},e}(ln),hn=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),pn=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(He.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+function(t){return t.name||typeof t}(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];for(t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new hn(null,e.ngForOf,-1,-1),i),a=new fn(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new fn(t,o),n.push(a))}),r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),fn=function(t,e){this.record=t,this.view=e},dn=function(){function t(t,e){this._viewContainer=t,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),gn=function(){this.$implicit=null,this.ngIf=null},yn=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[1];this._renderer.setStyle(this._ngEl.nativeElement,n[0],e=null!=e&&r?""+e+r:e)},t}(),mn={},vn=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_n=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),bn=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,Milliseconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.Milliseconds]="Milliseconds",t[t.Day]="Day",t}(),wn=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}(),En=0,Cn=4,Sn={},Tn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,In=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;"string"==typeof e&&(e=e.trim());var o;if(w(e))o=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var a=e.split("-").map(function(t){return+t}),s=a[0],u=a[1],l=a[2];o=new Date(s,u-1,l)}else o=new Date(e);else o=new Date(parseFloat(e));if(!w(o)){var c=void 0;if("string"!=typeof e||!(c=e.match(Tn)))throw b(t,e);o=function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=+(t[9]+t[10]),r=+(t[9]+t[11])),(t[8]?e.setUTCFullYear:e.setFullYear).call(e,+t[1],+t[2]-1,+t[3]);var o=+(t[4]||"0")-n,a=+(t[5]||"0")-r,s=+(t[6]||"0"),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,o,a,s,u),e}(c)}return function(t,e,n,r){e=p(n,e)||e;for(var i,o=[];e;){if(!(i=vn.exec(e))){o.push(e);break}var a=(o=o.concat(i.slice(1))).pop();if(!a)break;e=a}var s=t.getTimezoneOffset();r&&(s=_(r,s),t=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(_(e,r)-r))}(t,r));var u="";return o.forEach(function(e){var r=function(t){if(Sn[t])return Sn[t];var e;switch(t){case"G":case"GG":case"GGG":e=y(wn.Eras,on.Abbreviated);break;case"GGGG":e=y(wn.Eras,on.Wide);break;case"GGGGG":e=y(wn.Eras,on.Narrow);break;case"y":e=g(bn.FullYear,1,0,!1,!0);break;case"yy":e=g(bn.FullYear,2,0,!0,!0);break;case"yyy":e=g(bn.FullYear,3,0,!1,!0);break;case"yyyy":e=g(bn.FullYear,4,0,!1,!0);break;case"M":case"L":e=g(bn.Month,1,1);break;case"MM":case"LL":e=g(bn.Month,2,1);break;case"MMM":e=y(wn.Months,on.Abbreviated);break;case"MMMM":e=y(wn.Months,on.Wide);break;case"MMMMM":e=y(wn.Months,on.Narrow);break;case"LLL":e=y(wn.Months,on.Abbreviated,rn.Standalone);break;case"LLLL":e=y(wn.Months,on.Wide,rn.Standalone);break;case"LLLLL":e=y(wn.Months,on.Narrow,rn.Standalone);break;case"w":e=v(1);break;case"ww":e=v(2);break;case"W":e=v(1,!0);break;case"d":e=g(bn.Date,1);break;case"dd":e=g(bn.Date,2);break;case"E":case"EE":case"EEE":e=y(wn.Days,on.Abbreviated);break;case"EEEE":e=y(wn.Days,on.Wide);break;case"EEEEE":e=y(wn.Days,on.Narrow);break;case"EEEEEE":e=y(wn.Days,on.Short);break;case"a":case"aa":case"aaa":e=y(wn.DayPeriods,on.Abbreviated);break;case"aaaa":e=y(wn.DayPeriods,on.Wide);break;case"aaaaa":e=y(wn.DayPeriods,on.Narrow);break;case"b":case"bb":case"bbb":e=y(wn.DayPeriods,on.Abbreviated,rn.Standalone,!0);break;case"bbbb":e=y(wn.DayPeriods,on.Wide,rn.Standalone,!0);break;case"bbbbb":e=y(wn.DayPeriods,on.Narrow,rn.Standalone,!0);break;case"B":case"BB":case"BBB":e=y(wn.DayPeriods,on.Abbreviated,rn.Format,!0);break;case"BBBB":e=y(wn.DayPeriods,on.Wide,rn.Format,!0);break;case"BBBBB":e=y(wn.DayPeriods,on.Narrow,rn.Format,!0);break;case"h":e=g(bn.Hours,1,-12);break;case"hh":e=g(bn.Hours,2,-12);break;case"H":e=g(bn.Hours,1);break;case"HH":e=g(bn.Hours,2);break;case"m":e=g(bn.Minutes,1);break;case"mm":e=g(bn.Minutes,2);break;case"s":e=g(bn.Seconds,1);break;case"ss":e=g(bn.Seconds,2);break;case"S":e=g(bn.Milliseconds,1);break;case"SS":e=g(bn.Milliseconds,2);break;case"SSS":e=g(bn.Milliseconds,3);break;case"Z":case"ZZ":case"ZZZ":e=m(_n.Short);break;case"ZZZZZ":e=m(_n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=m(_n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=m(_n.Long);break;default:return null}return Sn[t]=e,e}(e);u+=r?r(t,n,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(o,n,i||this.locale,r)},t}(),On=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Nn=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),An=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Pn=new Nn,kn=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,He.O.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(He._9)(e))return An;if(Object(He._8)(e))return Pn;throw b(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),Rn=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(function(t){return null==t||""===t||t!=t}(e))return null;var i=function(t,e,n,r,i){void 0===i&&(i=null);var o,a={str:null},u=function(t,e){return h(t)[14][e]}(e,n);if("string"!=typeof t||isNaN(+t-parseFloat(t))){if("number"!=typeof t)return a.error=t+" is not a number",a;o=t}else o=+t;n===en.Percent&&(o*=100);var l=Math.abs(o)+"",c=function(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var l=0;l<u.length;l++){var c=u.charAt(l);"0"===c?n.minFrac=n.maxFrac=l+1:"#"===c?n.maxFrac=l+1:n.posSuf+=c}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var p=i.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+p).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(u,s(e,sn.MinusSign)),p="",f=!1;if(isFinite(o)){var d=function(t){var e,n,r,i,o,a=0;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;"0"===t.charAt(r);r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;"0"===t.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(l),g=c.minInt,y=c.minFrac,m=c.maxFrac;if(r){var v=r.match(On);if(null===v)return a.error=r+" is not a valid digit info",a;var _=v[1],b=v[3],w=v[5];null!=_&&(g=E(_)),null!=b&&(y=E(b)),null!=w?m=E(w):null!=b&&y>m&&(m=y)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=r.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.integerLen++)}(d,y,m);var C=d.digits,S=d.integerLen,T=d.exponent,I=[];for(f=C.every(function(t){return!t});S<g;S++)C.unshift(0);for(;S<0;S++)C.unshift(0);S>0?I=C.splice(S,C.length):(I=C,C=[0]);var O=[];for(C.length>=c.lgSize&&O.unshift(C.splice(-c.lgSize,C.length).join(""));C.length>c.gSize;)O.unshift(C.splice(-c.gSize,C.length).join(""));C.length&&O.unshift(C.join("")),p=O.join(s(e,i?sn.CurrencyGroup:sn.Group)),I.length&&(p+=s(e,i?sn.CurrencyDecimal:sn.Decimal)+I.join("")),T&&(p+=s(e,sn.Exponential)+"+"+T)}else p=s(e,sn.Infinity);return p=o<0&&!f?c.negPre+p+c.negSuf:c.posPre+p+c.posSuf,n===en.Currency&&null!==i?(a.str=p.replace("\xa4",i).replace("\xa4",""),a):n===en.Percent?(a.str=p.replace(new RegExp("%","g"),s(e,sn.PercentSign)),a):(a.str=p,a)}(e,r=r||this._locale,en.Decimal,n),o=i.str,a=i.error;if(a)throw b(t,a);return o},t}(),Dn=function(){},xn=new He.o("DocumentToken"),Mn=null,Ln={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Fn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Un={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};He._5.Node&&(We=He._5.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var Vn,jn,Bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){!function(t){Mn||(Mn=t)}(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){(r=t)[e].apply(r,n);var r},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Ln},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return We.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Un.hasOwnProperty(e)&&(e=Un[e]))}return Fn[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=qn||(qn=document.querySelector("base"))?qn.getAttribute("href"):null;return null==e?null:function(t){return Vn||(Vn=document.createElement("a")),Vn.setAttribute("href",t),"/"===Vn.pathname.charAt(0)?Vn.pathname:"/"+Vn.pathname}(e)},e.prototype.resetBaseElement=function(){qn=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===e)return decodeURIComponent(s)}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(Ge.b)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),qn=null,Wn=xn,Hn=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(Ge.b)(e,t),e.prototype._init=function(){this.location=C().getLocation(),this._history=C().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return C().getBaseHref(this._doc)},e.prototype.onPopState=function(t){C().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){C().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){S()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){S()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:He.n,args:[Wn]}]}]},e}(Ke),Gn=function(){function t(t){this._doc=t,this._dom=C()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]")||null:null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),Kn=new He.o("TRANSITION_ID"),Qn=[{provide:He.d,useFactory:function(t,e,n){return function(){n.get(He.e).donePromise.then(function(){var n=C();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Kn,Wn,He.p],multi:!0}],zn=function(){function t(){}return t.init=function(){Object(He.V)(new t)},t.prototype.addToWindow=function(t){He._5.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},He._5.getAllAngularTestabilities=function(){return t.getAllTestabilities()},He._5.getAllAngularRootElements=function(){return t.getAllRootElements()},He._5.frameworkStabilizers||(He._5.frameworkStabilizers=[]),He._5.frameworkStabilizers.push(function(t){var e=He._5.getAllAngularTestabilities(),n=e.length,r=!1;e.forEach(function(e){e.whenStable(function(e){r=r||e,0==--n&&t(r)})})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?C().isShadowRoot(e)?this.findTestabilityInTree(t,C().getHost(e),!0):this.findTestabilityInTree(t,C().parentElement(e),!0):null},t}(),Jn=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return C().getTitle(this._doc)},t.prototype.setTitle=function(t){C().setTitle(this._doc,t)},t}(),Xn={ApplicationRef:He.g,NgZone:He.x},Yn=new He.o("EventManagerPlugins"),Zn=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),$n=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=C().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),tr=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),er=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(Ge.b)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return C().remove(t)})},e}(tr),nr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rr=/%COMP%/g,ir="_nghost-%COMP%",or="_ngcontent-%COMP%",ar=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new sr(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case He.N.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new lr(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case He.N.Native:return new cr(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=O(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),sr=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(nr[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=nr[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=nr[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&He.D.DashCase?t.style.setProperty(e,n,r&He.D.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&He.D.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){A(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return A(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,N(n)):this.eventManager.addEventListener(t,e,N(n))},t}(),ur="@".charCodeAt(0),lr=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=O(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=or.replace(rr,r.id),i.hostAttr=ir.replace(rr,r.id),i}return Object(Ge.b)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(sr),cr=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=O(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return Object(Ge.b)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(sr),hr="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return t},pr=hr("addEventListener"),fr=hr("removeEventListener"),dr={};"undefined"!=typeof Zone&&Zone[hr("BLACK_LISTED_EVENTS")]&&(jn={});var gr=function(t){return!!jn&&jn.hasOwnProperty(t)},yr=function(t){var e=dr[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length;o++){var a=i[o];a.zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},mr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r}return Object(Ge.b)(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[pr]||He.x.isInAngularZone()&&!gr(e))t.addEventListener(e,i,!1);else{var o=dr[e];o||(o=dr[e]=hr("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var u=gr(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===i){l=!0;break}l||a.push({zone:u,handler:i})}s||t[pr](e,yr,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[fr];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=dr[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=0;a<o.length;a++)if(o[a].handler===n){o.splice(a,1);break}0===o.length&&r.apply(t,[e,yr,!1])},e}($n),vr={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},_r=new He.o("HammerGestureConfig"),br=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),wr=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(Ge.b)(e,t),e.prototype.supports=function(t){if(!vr.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}($n),Er=["alt","control","meta","shift"],Cr={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Sr=function(t){function e(e){return t.call(this,e)||this}return Object(Ge.b)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return C().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(Er.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=C().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Er.forEach(function(r){r!=n&&(0,Cr[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}($n),Tr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Or=null,Nr=null,Ar=k("area,br,col,hr,img,wbr"),Pr=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kr=k("rp,rt"),Rr=R(kr,Pr),Dr=R(Ar,R(Pr,k("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(kr,k("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rr),xr=k("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mr=k("srcset"),Lr=R(xr,Mr,k("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Fr=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(Nr.isElementNode(e)?this.startElement(e):Nr.isTextNode(e)?this.chars(Nr.nodeValue(e)):this.sanitizedSomething=!0,Nr.firstChild(e))e=Nr.firstChild(e);else for(;e;){Nr.isElementNode(e)&&this.endElement(e);var n=D(e,Nr.nextSibling(e));if(n){e=n;break}e=D(e,Nr.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=Nr.nodeName(t).toLowerCase();Dr.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),Nr.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();Lr.hasOwnProperty(r)?(xr[r]&&(t=P(t)),Mr[r]&&(t=function(t){return(t=String(t)).split(",").map(function(t){return P(t.trim())}).join(", ")}(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(x(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=Nr.nodeName(t).toLowerCase();Dr.hasOwnProperty(e)&&!Ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(x(t))},t}(),Ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vr=/([^\#-~ |!])/g,jr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Br=/^url\(([^)]+)\)$/,qr=function(){},Wr=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(Ge.b)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case He.F.NONE:return e;case He.F.HTML:return e instanceof Gr?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){try{var n=function(){if(Or)return Or;var t=(Nr=C()).createElement("template");if("content"in t)return t;var e=Nr.createHtmlDocument();if(null==(Or=Nr.querySelector(e,"body"))){var n=Nr.createElement("html",e);Or=Nr.createElement("body",e),Nr.appendChild(n,Or),Nr.appendChild(e,n)}return Or}(),r=e?String(e):"",i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,Nr.setInnerHTML(n,r=o),t.documentMode&&M(n),o=Nr.getInnerHTML(n)}while(r!==o);for(var a=new Fr,s=a.sanitizeChildren(Nr.getTemplateContent(n)||n),u=Nr.getTemplateContent(n)||n,l=0,c=Nr.childNodesAsList(u);l<c.length;l++)Nr.removeChild(u,c[l]);return Object(He.T)()&&a.sanitizedSomething&&Nr.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}catch(t){throw Or=null,t}}(this._doc,String(e)));case He.F.STYLE:return e instanceof Kr?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Br);return e&&P(e[1])===e[1]||t.match(jr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(He.T)()&&C().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case He.F.SCRIPT:if(e instanceof Qr)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case He.F.URL:return e instanceof Jr||e instanceof zr?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),P(String(e)));case He.F.RESOURCE_URL:if(e instanceof Jr)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Hr)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Gr(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Kr(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Qr(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new zr(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Jr(t)},e}(qr),Hr=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Hr),Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Hr),Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Hr),zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Hr),Jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Hr),Xr=[{provide:He.z,useValue:"browser"},{provide:He.A,useValue:function(){Bn.makeCurrent(),zn.init()},multi:!0},{provide:Ke,useClass:Hn,deps:[Wn]},{provide:Wn,useFactory:function(){return document},deps:[]}],Yr=Object(He.P)(He.U,"browser",Xr),Zr=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:He.c,useValue:e.appId},{provide:Kn,useExisting:He.c},Qn]}},t}(),$r=("undefined"!=typeof window&&window,n("AP4T")),ti=n("Ecq+"),ei=n("1j/l"),ni=n("qgI0"),ri=n("lI6h"),ii=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return Object(Ge.b)(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new ti.a;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(ei.a)(t[0])&&(t=t[0]),0===t.length?new ti.a:new e(t,r)},e.prototype._subscribe=function(t){return new oi(t,this.sources,this.resultSelector)},e}($r.a),oi=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],s=Object(ni.a)(this,a,null,o);s&&(s.outerIndex=o,this.add(s))}}return Object(Ge.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.resultSelector,i=this.values,o=i.length;if(t._hasValue){if(this.completed++,this.completed===o){if(n===o){var a=r?r.apply(this,i):i;e.next(a)}e.complete()}}else e.complete()},e}(ri.a),ai=ii.create,si=n("xIGM"),ui=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return Object(Ge.b)(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){si.a.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return r.schedule(L,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(r.schedule(L,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(r.schedule(function(t){var e=t.subscriber;e.closed||e.error(t.err)},0,{err:e,subscriber:t}))}).then(null,function(t){si.a.setTimeout(function(){throw t})})},e}($r.a),li=ui.create,ci=n("E9/g"),hi=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new pi(t,this.project,this.thisArg))},t}(),pi=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return Object(Ge.b)(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(ci.a),fi=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(fi),gi=new He.o("NgValidators"),yi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,mi=function(){function t(){}return t.min=function(t){return function(e){if(U(e.value)||U(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(U(e.value)||U(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return U(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return yi.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(U(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,r;return"string"==typeof e?(r="^"+e+"$",n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(U(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(V);return 0==e.length?null:function(t){return B(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(V);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(j);return F.call(ai(n),B)}},t}(),vi=new He.o("NgValueAccessor"),_i=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),bi=new He.o("CompositionEventMode"),wi=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){var t=C()?C().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}(),Ei=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Ci=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(Ge.b)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return q()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return q()},enumerable:!0,configurable:!0}),e}(fi),Si=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),Ti=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(Ci),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),Ii=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Oi=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=He._12}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=W(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),Ni=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(W(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),Ai=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=He._12}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),Pi=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(H(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(H(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),ki=[_i,Ii,Ei,Oi,Ai,Ti],Ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return G(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return J(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return X(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(di),Di=function(t){function e(e){return t.call(this,e)||this}return Object(Ge.b)(e,t),e}(function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}()),xi=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=Y(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Z(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=j(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Li?t.controls[e]||null:t instanceof Fi?t.at(e)||null:null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new He.m,this.statusChanges=new He.m},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){$(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),Mi=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,Y(n),Z(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(Ge.b)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e)},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return"submit"===this.updateOn&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!0)},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(xi),Li=function(t){function e(e,n,r){var i=t.call(this,Y(n),Z(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(Ge.b)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Mi?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(xi),Fi=function(t){function e(e,n,r){var i=t.call(this,Y(n),Z(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(Ge.b)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof Mi?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++)if(e[t].enabled)return!1;return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(xi),Ui=Promise.resolve(null),Vi=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new He.m,r.form=new Li({},J(e),X(n)),r}return Object(Ge.b)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Ui.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),K(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Ui.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),function(e,n){var r=e.indexOf(t);r>-1&&e.splice(r,1)}(e._directives)})},e.prototype.addFormGroup=function(t){var e=this;Ui.then(function(){var n=e._findContainer(t.path),r=new Li({});(function(t,e){null==t&&z(e,"Cannot find control with"),t.validator=mi.compose([t.validator,e.validator]),t.asyncValidator=mi.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Ui.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Ui.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&t.viewToModelUpdate(e._pendingValue)})}(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(di),ji={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},Bi=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+ji.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+ji.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+ji.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+ji.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+ji.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+ji.ngModelGroup)},t}(),qi=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(Ge.b)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Vi||Bi.modelGroupParentException()},e}(Ri),Wi=Promise.resolve(null),Hi=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new Mi,o._registered=!1,o.update=new He.m,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(t,e){if(!e)return null;var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){e.constructor===wi?n=e:function(t){return ki.some(function(e){return t.constructor===e})}(e)?(r&&z(t,"More than one built-in value accessor matches form control with"),r=e):(i&&z(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(z(t,"No valid value accessor for form control with"),null)}(o,i),o}return Object(Ge.b)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(He._12)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?G(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return J(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return X(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){K(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof qi)&&this._parent instanceof Ri?Bi.formGroupNameException():this._parent instanceof qi||this._parent instanceof Vi||Bi.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Bi.missingNameException()},e.prototype._updateValue=function(t){var e=this;Wi.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Wi.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(Ci),Gi=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?mi.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Ki=function(){},Qi=function(){},zi=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),Ji=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),Xi=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),Yi=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),Zi=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}(),$i=function(){function t(e){var n=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var i=[];n.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),to=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,r=t.headers,i=t.statusText,o=t.type,a=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=o?o:null,this.url=null!=a?a:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),eo=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:Xi.Default,headers:new $i})||this}return Object(Ge.b)(e,t),e}(to),no=function(){},ro=function(t){return t>=200&&t<300},io=function(){function t(){}return t.prototype.encodeKey=function(t){return et(t)},t.prototype.encodeValue=function(t){return et(t)},t}(),oo=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new io),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t="");var e=new Map;return t.length>0&&t.split("&").forEach(function(t){var n=t.indexOf("="),r=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],i=r[0],o=r[1],a=e.get(i)||[];a.push(o),e.set(i,a)}),e}(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),ao=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof oo)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),so=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(ao),uo=/^\)\]\}',?\n/,lo=function(){function t(t,e,n){var r=this;this.request=t,this.response=new $r.a(function(i){var o=e.build();o.open(Ji[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(o.withCredentials=t.withCredentials);var a=function(){var e=1223===o.status?204:o.status,r=null;204!==e&&"string"==typeof(r=void 0===o.response?o.responseText:o.response)&&(r=r.replace(uo,"")),0===e&&(e=r?200:0);var a=$i.fromResponseHeaderString(o.getAllResponseHeaders()),s=function(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||t.url,u=new to({body:r,status:e,headers:a,statusText:o.statusText||"OK",url:s});null!=n&&(u=n.merge(u));var l=new so(u);if(l.ok=ro(e),l.ok)return i.next(l),void i.complete();i.error(l)},s=function(t){var e=new to({body:t,type:Xi.Error,status:o.status,statusText:o.statusText});null!=n&&(e=n.merge(e)),i.error(new so(e))};if(r.setDetectedContentType(t,o),null==t.headers&&(t.headers=new $i),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return o.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=o.responseType)switch(t.responseType){case Zi.ArrayBuffer:o.responseType="arraybuffer";break;case Zi.Json:o.responseType="json";break;case Zi.Text:o.responseType="text";break;case Zi.Blob:o.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return o.addEventListener("load",a),o.addEventListener("error",s),o.send(r.request.getBody()),function(){o.removeEventListener("load",a),o.removeEventListener("error",s),o.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case Yi.NONE:break;case Yi.JSON:e.setRequestHeader("content-type","application/json");break;case Yi.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case Yi.TEXT:e.setRequestHeader("content-type","text/plain");break;case Yi.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),co=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=C().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),ho=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new lo(t,this._browserXHR,this._baseResponseOptions)},t}(),po=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,r=t.body,i=t.url,o=t.search,a=t.params,s=t.withCredentials,u=t.responseType;this.method=null!=e?tt(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(a||o),this.withCredentials=null!=s?s:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new $i(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof oo?t.clone():"string"==typeof t?new oo(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new oo;return Object.keys(t).forEach(function(r){var i=t[r];Array.isArray(i)?i.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,i,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),fo=function(t){function e(){return t.call(this,{method:Ji.Get,headers:new $i})||this}return Object(Ge.b)(e,t),e}(po),go=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var i=e.params||e.search;if(i){var o=void 0;if((o="object"!=typeof i||i instanceof oo?i.toString():function(t){var e=new oo;return Object.keys(t).forEach(function(n){var r=t[n];r&&Array.isArray(r)?r.forEach(function(t){return e.append(n,t.toString())}):e.append(n,r.toString())}),e}(i).toString()).length>0){var a="?";-1!=n.url.indexOf("?")&&(a="&"==n.url[n.url.length-1]?"":"&"),n.url=r+a+o}}return n._body=e.body,n.method=tt(e.method),n.headers=new $i(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return Object(Ge.b)(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return Yi.JSON;case"application/x-www-form-urlencoded":return Yi.FORM;case"multipart/form-data":return Yi.FORM_DATA;case"text/plain":case"text/html":return Yi.TEXT;case"application/octet-stream":return this._body instanceof bo?Yi.ARRAY_BUFFER:Yi.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?Yi.NONE:this._body instanceof oo?Yi.FORM:this._body instanceof vo?Yi.FORM_DATA:this._body instanceof _o?Yi.BLOB:this._body instanceof bo?Yi.ARRAY_BUFFER:this._body&&"object"==typeof this._body?Yi.JSON:Yi.TEXT},e.prototype.getBody=function(){switch(this.contentType){case Yi.JSON:case Yi.FORM:return this.text();case Yi.FORM_DATA:return this._body;case Yi.TEXT:return this.text();case Yi.BLOB:return this.blob();case Yi.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(ao),yo=function(){},mo="object"==typeof window?window:yo,vo=mo.FormData||yo,_o=mo.Blob||yo,bo=mo.ArrayBuffer||yo,wo=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=nt(this._backend,new go(rt(this._defaultOptions,e,Ji.Get,t)));else{if(!(t instanceof go))throw new Error("First argument must be a url string or Request instance.");n=nt(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new go(rt(this._defaultOptions,e,Ji.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new go(rt(this._defaultOptions.merge(new po({body:e})),n,Ji.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new go(rt(this._defaultOptions.merge(new po({body:e})),n,Ji.Put,t)))},t.prototype.delete=function(t,e){return this.request(new go(rt(this._defaultOptions,e,Ji.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new go(rt(this._defaultOptions.merge(new po({body:e})),n,Ji.Patch,t)))},t.prototype.head=function(t,e){return this.request(new go(rt(this._defaultOptions,e,Ji.Head,t)))},t.prototype.options=function(t,e){return this.request(new go(rt(this._defaultOptions,e,Ji.Options,t)))},t}(),Eo=function(){},Co=n("kUdC"),So=new He.o("FirebaseAppConfigToken"),To=function(){},Io=n("qLnt"),Oo=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return Object(Ge.b)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),si.a.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:si.a.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){t.call(this)}return Object(Ge.b)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Io.a)),No=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return Object(Ge.b)(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(Oo),Ao=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return Object(Ge.b)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}()),Po=new(function(t){function e(){t.apply(this,arguments)}return Object(Ge.b)(e,t),e}(Ao))(No),ko=new He.o("FirebaseAppName"),Ro=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:So,useValue:e},{provide:ko,useValue:n}]}},t}(),Do=function(){function t(t){this.zone=t}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.run(function(){return Po.schedule.apply(Po,t)})},t}(),xo=(n("Dvgu"),function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return $r.a.of(this.value);case"E":return $r.a.throw(this.error);case"C":return $r.a.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()),Mo=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new Lo(t,this.scheduler,this.delay))},t}(),Lo=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return Object(Ge.b)(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new Fo(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(xo.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(xo.createError(t))},e.prototype._complete=function(){this.scheduleMessage(xo.createComplete())},e}(ci.a),Fo=function(t,e){this.notification=t,this.destination=e};$r.a.prototype.map=F;var Uo=new Ao(Oo),Vo=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new jo(t,this.delay,this.scheduler))},t}(),jo=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return Object(Ge.b)(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new Bo(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(xo.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(xo.createComplete())},e}(ci.a),Bo=function(t,e){this.time=t,this.notification=e};$r.a.prototype.delay=function(t,e){return void 0===e&&(e=Uo),function(t,e){void 0===e&&(e=Uo);var n=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new Vo(n,e))}}(t,e)(this)};var qo=n("URbD");$r.a.prototype.share=qo.a;var Wo=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Ho(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ho=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return Object(Ge.b)(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(ci.a);$r.a.prototype.scan=function(t,e){return arguments.length>=2?ct(t,e)(this):ct(t)(this)};var Go=n("2kLc");$r.a.merge=Go.a;var Ko=n("Oryw"),Qo=Ko.a.of;$r.a.of=Qo;var zo=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Jo(t,this.project,this.resultSelector))},t}(),Jo=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return Object(Ge.b)(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Object(ni.a)(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(ri.a);$r.a.prototype.switchMap=function(t,e){return function(t,e){return function(n){return n.lift(new zo(t,e))}}(t,e)(this)};var Xo=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Yo(t,this.predicate,this.thisArg))},t}(),Yo=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return Object(Ge.b)(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(ci.a);$r.a.prototype.filter=ht;var Zo=n("8ofh"),$o=n("NePw"),ta=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ea(t,this.compare,this.keySelector))},t}(),ea=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return Object(Ge.b)(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object(Zo.a)(this.keySelector)(t))===$o.a)return this.destination.error($o.a.e);var n=!1;if(this.hasKey){if((n=Object(Zo.a)(this.compare)(this.key,e))===$o.a)return this.destination.error($o.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(ci.a);$r.a.prototype.distinctUntilChanged=function(t,e){return function(t,e){return function(n){return n.lift(new ta(t,e))}}(t,e)(this)};var na=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new ra(t,this.predicate))},t}(),ra=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return Object(Ge.b)(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(ci.a);$r.a.prototype.skipWhile=function(t){return function(t){return function(e){return e.lift(new na(t))}}(t)(this)};var ia=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new oa(t,this.observables,this.project))},t}(),oa=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;for(this.values=new Array(i),o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var a=n[o];this.add(Object(ni.a)(this,a,a,o))}}return Object(Ge.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(ri.a);$r.a.prototype.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new ia(t,n))}}.apply(void 0,t)(this)};var aa=function(){function t(t){this.app=t,this.database=t.database()}return t.prototype.list=function(t,e){var n=at(this.app,t),r=n;return e&&(r=e(n)),function(t){return{query:t,update:yt(t.ref,"update"),set:yt(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:function(t){return function(e){return e?st(e,{stringCase:function(){return t.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):t.remove()}}(t.ref),snapshotChanges:function(e){return dt(t,e)},stateChanges:function(t){return function(e){return gt(t,e)}}(t),auditTrail:function(t){return function(e){return function(t,e){return function(t,e){return function(t){return lt(t,"value").map(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}})}(t).withLatestFrom(e).map(function(t){var e=t[1];return{actions:e,lastKeyToLoad:t[0].lastKeyToLoad,loadedKeys:e.map(function(t){return t.key})}}).skipWhile(function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)}).map(function(t){return t.actions})}(t,gt(t,e).scan(function(t,e){return t.concat([e])},[]))}(t,e)}}(t),valueChanges:function(e){return dt(t,e).map(function(t){return t.map(function(t){return t.payload.val()})})}}}(r)},t.prototype.object=function(t){return function(t){return{query:t,snapshotChanges:mt(t),update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return mt(t)().map(function(t){return t.payload.exists()?t.payload.val():null})}}}(at(this.app,t))},t.prototype.createPushId=function(){return this.database.ref().push().key},t}(),sa=function(){},ua=(n("/9hx"),n("kQVV")),la=n("mHG6"),ca=n("X3fp"),ha=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=vt(e)}return Object(Ge.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.iterator,r=t.subscriber;if(t.hasError)r.error(t.error);else{var i=n.next();i.done?r.complete():(r.next(i.value),t.index=e+1,r.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}($r.a),pa=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[ca.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),fa=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=function(e){var n=+t.length;return isNaN(n)?0:0!==n&&function(t){return"number"==typeof t&&si.a.isFinite(t)}(n)?(n=function(t){var e=+n;return 0===e?e:isNaN(e)?e:e<0?-1:1}()*Math.floor(Math.abs(n)))<=0?0:n>da?da:n:n}()),this.arr=t,this.idx=e,this.len=n}return t.prototype[ca.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),da=Math.pow(2,53)-1,ga=n("8Ut3"),ya=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(Ge.b)(e,t),e.create=function(t,n){var r=t.length;return 0===r?new ti.a:1===r?new ga.a(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.subscriber;r.closed||(n>=t.length?r.complete():(r.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,r=this.scheduler,i=n.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}($r.a),ma=n("mz3w"),va=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return Object(Ge.b)(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[ma.a])return t instanceof $r.a&&!n?t:new e(t,n);if(Object(ei.a)(t))return new Ko.a(t,n);if(Object(la.a)(t))return new ui(t,n);if("function"==typeof t[ca.a]||"string"==typeof t)return new ha(t,n);if(Object(ua.a)(t))return new ya(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[ma.a]().subscribe(t):e[ma.a]().subscribe(new Lo(t,n,0))},e}($r.a).create,_a=function(){function t(t,e){this.ref=t,this.query=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?wt(this.query).map(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}).filter(function(t){return t.length>0}):wt(this.query)},t.prototype.auditTrail=function(t){return this.stateChanges(t).scan(function(t,e){return t.concat(e)},[])},t.prototype.snapshotChanges=function(t){return t=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),function(t,e){return bt(t).map(function(t){return t.payload.docChanges}).scan(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]).map(function(t){return t.map(function(t){return{type:t.type,payload:t}})})}(this.query,t)},t.prototype.valueChanges=function(t){return bt(this.query).map(function(t){return t.payload.docs.map(function(t){return t.data()})})},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new ba(this.ref.doc(t))},t}(),ba=function(){function t(t){this.ref=t}return t.prototype.set=function(t){return this.ref.set(t)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=Et(this.ref.collection(t),e);return new _a(n.ref,n.query)},t.prototype.snapshotChanges=function(){return function(t){return _t(t).map(function(t){return{payload:t,type:"value"}})}(this.ref)},t.prototype.valueChanges=function(){return this.snapshotChanges().map(function(t){return t.payload.exists?t.payload.data():null})},t}(),wa=function(){function t(t,e){this.app=t,this.firestore=t.firestore(),this.persistenceEnabled$=va(e?t.firestore().enablePersistence().then(function(){return!0}):new Promise(function(t,e){t(!1)}))}return t.prototype.collection=function(t,e){var n=Et(this.firestore.collection(t),e);return new _a(n.ref,n.query)},t.prototype.doc=function(t){var e=this.firestore.doc(t);return new ba(e)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),Ea=new He.o("EnablePersistenceToken");n("Rv9P"),$r.a.fromPromise=li;var Ca=function(){return function(t){var e=this;this.app=t,this.auth=t.auth();var n=new $r.a(function(t){return{unsubscribe:e.auth.onAuthStateChanged(t)}});this.authState=ut.call(n,new Do(Zone.current));var r=new $r.a(function(t){return{unsubscribe:e.auth.onIdTokenChanged(t)}}).switchMap(function(t){return t?$r.a.fromPromise(t.getIdToken()):$r.a.of(null)});this.idToken=ut.call(r,new Do(Zone.current))}}(),Sa=n("TO51"),Ta=n("Upor"),Ia=function(t){function e(e){t.call(this),this._value=e}return Object(Ge.b)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ta.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Sa.a),Oa=n("wP3s"),Na=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Aa(t,this.selector,this.caught))},t}(),Aa=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return Object(Ge.b)(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(ni.a)(this,n))}},e}(ri.a),Pa=n("bywS"),ka=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return Object(Ge.b)(e,t),e}(Error),Ra=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new Da(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),Da=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return Object(Ge.b)(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new ka):(t.next(this.defaultValue),t.complete())},e}(ci.a),xa=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Ma(t,this.predicate,this.thisArg,this.source))},t}(),Ma=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return Object(Ge.b)(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ci.a),La=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new Fa(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),Fa=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return Object(Ge.b)(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new ka)},e}(ci.a),Ua=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return Object(Ge.b)(e,t),e}(Error),Va=function(){function t(t){if(this.total=t,this.total<0)throw new Ua}return t.prototype.call=function(t,e){return e.subscribe(new ja(t,this.total))},t}(),ja=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return Object(Ge.b)(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(ci.a),Ba=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new qa(t,this.defaultValue))},t}(),qa=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return Object(Ge.b)(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ci.a),Wa=n("ExCY"),Ha=function(t,e){this.id=t,this.url=e},Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Ha),Ka=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Ha),Qa=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Ha),za=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Ha),Ja=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ha),Xa=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ha),Ya=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Ha),Za=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ha),$a=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(Ge.b)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ha),ts=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),es=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),ns=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),rs=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),is=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),os=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),as="primary",ss=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),us=function(t,e){this.routes=t,this.module=e},ls=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Dt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return ds.serialize(this)},t}(),cs=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Vt(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return zt(this)},t}(),hs=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Dt(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Zt(this)},t}(),ps=function(){},fs=function(){function t(){}return t.prototype.parse=function(t){var e=new vs(t);return new ls(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+Jt(t.root,!0)+function(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return Xt(e)+"="+Xt(t)}).join("&"):Xt(e)+"="+Xt(n)});return e.length?"?"+e.join("&"):""}(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),ds=new fs,gs=/^[^\/()?;=&#]+/,ys=/^[^=?&#]+/,ms=/^[^?&#]+/,vs=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cs([],{}):new cs([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[as]=new cs(t,e)),n},t.prototype.parseSegment=function(){var t=$t(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new hs(Yt(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=$t(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=$t(this.remaining);r&&this.capture(n=r)}t[Yt(e)]=Yt(n)}},t.prototype.parseQueryParam=function(t){var e=function(t){var e=t.match(ys);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(ms);return e?e[0]:""}(this.remaining);r&&this.capture(n=r)}var i=Yt(e),o=Yt(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(t[i]=a=[a]),a.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=$t(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=as);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[as]:new cs([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),_s=function(t){this.segmentGroup=t||null},bs=function(t){this.urlTree=t},ws=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(He.v)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,as),n=F.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Tt.call(n,function(e){if(e instanceof bs)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof _s)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,as),r=F.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Tt.call(r,function(t){if(t instanceof _s)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new cs([],(i={},i[as]=t,i)):t;return new ls(r,e,n);var i},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?F.call(this.expandChildren(t,e,n),function(t){return new cs([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Qo({});var o=[],a=[],s={};Vt(n,function(n,i){var u=F.call(r.expandSegmentGroup(t,e,n,i),function(t){return s[i]=t});i===as?o.push(u):a.push(u)});var u=It.call(Qo.apply(void 0,o.concat(a))),l=At.call(u);return F.call(l,function(){return s})}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this,s=Qo.apply(void 0,n),u=F.call(s,function(s){var u=a.expandSegmentAgainstRoute(t,e,n,s,r,i,o);return Tt.call(u,function(t){if(t instanceof _s)return Qo(null);throw t})}),l=It.call(u),c=Ot.call(l,function(t){return!!t});return Tt.call(c,function(t,n){if(t instanceof ka){if(a.noLeftoversInUrl(e,r,i))return Qo(new cs([],{}));throw new _s(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return oe(r)!==o?te(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):te(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ee(o):St.call(this.lineralizeSegments(n,o),function(n){var o=new cs(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=ne(e,r,i),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return te(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?ee(h):St.call(this.lineralizeSegments(r,h),function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?F.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new cs(r,{})}):Qo(new cs(r,{}));var o=ne(e,n,r),a=o.consumedSegments,s=o.lastChild;if(!o.matched)return te(e);var u=r.slice(s),l=this.getChildConfig(t,n);return St.call(l,function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(function(n){return ie(t,e,n)&&oe(n)!==as})}(t,n))return{segmentGroup:re(i=new cs(e,function(t,e){var n={};n[as]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&oe(o)!==as&&(n[oe(o)]=new cs([],{}))}return n}(r,new cs(n,t.children)))),slicedSegments:[]};if(0===n.length&&function(t,e,n){return r.some(function(n){return ie(t,e,n)})}(t,n)){var i=new cs(t.segments,function(t,e,n,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];ie(t,e,u)&&!i[oe(u)]&&(o[oe(u)]=new cs([],{}))}return Object(Ge.a)({},i,o)}(t,n,0,t.children));return{segmentGroup:re(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}(e,a,u,r),s=o.segmentGroup,l=o.slicedSegments;if(0===l.length&&s.hasChildren()){var c=i.expandChildren(n,r,s);return F.call(c,function(t){return new cs(a,t)})}if(0===r.length&&0===l.length)return Qo(new cs(a,{}));var h=i.expandSegment(n,s,r,l,as,!0);return F.call(h,function(t){return new cs(a.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Qo(new us(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Qo(e._loadedConfig):St.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?jt(F.call(va(n),function(n){var r=t.get(n);return Bt(r.canLoad?r.canLoad(e):r(e))})):Qo(!0)}(t.injector,e),function(r){return r?F.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):function(t){return new $r.a(function(e){return e.error(function(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)}):Qo(new us([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Qo(n);if(r.numberOfChildren>1||!r.children[as])return function(t){return new $r.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}(t.redirectTo);r=r.children[as]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new ls(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Vt(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Vt(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new cs(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),Es=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=ae(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=ae(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=se(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return se(t,this._root).map(function(t){return t.value})},t}(),Cs=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),Ss=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,he(r,e),r}return Object(Ge.b)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Es),Ts=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=F.call(this.params,function(t){return Dt(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=F.call(this.queryParams,function(t){return Dt(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),Is=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Dt(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Dt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Os=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,he(r,n),r}return Object(Ge.b)(e,t),e.prototype.toString=function(){return pe(this._root)},e}(Es),Ns=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&me(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Ut(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),As=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n},Ps=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),ks=function(t,e){this.component=t,this.route=e},Rs=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Qo(!0);var e=this.runCanDeactivateChecks();return St.call(e,function(e){return e?t.runCanActivateChecks():Qo(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Qo(null);var e=va(this.canActivateChecks),n=Ct.call(e,function(e){return t.runResolve(e.route)});return function(t,e){return arguments.length>=2?Rt(t,e)(this):Rt(t)(this)}.call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=ue(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),Vt(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new Ps(r)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?this.setupChildRouteGuards(t,e,a?a.children:null,r):this.setupChildRouteGuards(t,e,n,r),s&&this.canDeactivateChecks.push(new ks(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new Ps(r)),i.component?this.setupChildRouteGuards(t,null,a?a.children:null,r):this.setupChildRouteGuards(t,null,n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!de(t,e)||!Lt(t.queryParams,e.queryParams);case"paramsChange":default:return!de(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=ue(t),i=t.value;Vt(r,function(t,r){i.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(r)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),this.canDeactivateChecks.push(i.component&&e&&e.outlet&&e.outlet.isActivated?new ks(e.outlet.component,i):new ks(null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=va(this.canDeactivateChecks),n=St.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return Nt.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=va(this.canActivateChecks),n=Ct.call(e,function(e){return jt(va([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return Nt.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new is(t)),Qo(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new ns(t)),Qo(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?jt(F.call(va(n),function(n){var r,i=e.getToken(n,t);return r=Bt(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),Ot.call(r)})):Qo(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return jt(F.call(va(r),function(t){return jt(F.call(va(t.guards),function(r){var i,o=e.getToken(r,t.node);return i=Bt(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),Ot.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||0===r.length)return Qo(!0);var i=St.call(va(r),function(r){var i,o=n.getToken(r,e);return i=Bt(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)),Ot.call(i)});return Nt.call(i,function(t){return!0===t})},t.prototype.runResolve=function(t){return F.call(this.resolveNode(t._resolve,t),function(e){return t._resolvedData=e,t.data=Object(Ge.a)({},t.data,ce(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Qo({});if(1===r.length){var i=r[0];return F.call(this.getResolver(t[i],e),function(t){return e={},e[i]=t,e;var e})}var o={},a=St.call(va(r),function(r){return F.call(n.getResolver(t[r],e),function(t){return o[r]=t,t})});return F.call(At.call(a),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return Bt(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Ds=function(){},xs=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=Oe(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,as),n=new Is([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},as,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cs(n,e),i=new Os(this.url,r);return this.inheritParamsAndData(i._root),Qo(i)}catch(t){return new $r.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=ce(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=Qt(e,function(e,r){return n.processSegmentGroup(t,e,r)});return function(t){var e={};r.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}(),r.sort(function(t,e){return t.value.outlet===as?-1:e.value.outlet===as?1:t.value.outlet.localeCompare(e.value.outlet)}),r},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var a=o[i];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(t){if(!(t instanceof Ds))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ds},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Ds;if((t.outlet||as)!==r)throw new Ds;if("**"===t.path){var i=n.length>0?Ut(n).parameters:{},o=new Is(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Pe(t),r,t.component,t,Te(e),Ie(e)+n.length,ke(t));return[new Cs(o,[])]}var a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ds;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||xt)(n,t,e);if(!r)throw new Ds;var i={};Vt(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(Ge.a)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n),s=a.consumedSegments,u=a.parameters,l=n.slice(a.lastChild),c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=Oe(e,s,l,c),p=h.segmentGroup,f=h.slicedSegments,d=new Is(s,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Pe(t),r,t.component,t,Te(e),Ie(e)+s.length,ke(t));if(0===f.length&&p.hasChildren()){var g=this.processChildren(c,p);return[new Cs(d,g)]}if(0===c.length&&0===f.length)return[new Cs(d,[])];var y=this.processSegment(c,p,f,as);return[new Cs(d,y)]},t}(),Ms=function(){},Ls=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Fs=new He.o("ROUTES"),Us=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return F.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new us(Ft(i.injector.get(Fs)),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?li(this.loader.load(t)):St.call(Bt(t()),function(t){return t instanceof He.t?Qo(t):li(e.compiler.compileModuleAsync(t))})},t}(),Vs=function(){},js=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),Bs=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new Ia(null),this.navigationId=0,this.events=new Sa.a,this.errorHandler=function(t){throw t},this.navigated=!1,this.hooks={beforePreactivation:Re,afterPreactivation:Re},this.urlHandlingStrategy=new js,this.routeReuseStrategy=new Ls,this.ngModule=i.get(He.v),this.resetConfig(s),this.currentUrlTree=new ls(new cs([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Us(o,a,function(t){return u.triggerEvent(new ts(t))},function(t){return u.triggerEvent(new es(t))}),this.routerState=le(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Mt(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;Object(He.T)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i,c=null;if(a)switch(a){case"merge":c=Object(Ge.a)({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return function(t,e,n,r,i){if(0===n.length)return ve(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ns(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Vt(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new Ns(n,e,r)}(n);if(o.toRoot())return ve(e.root,new cs([],{}),e,r,i);var a=function(t,n,r){if(t.isAbsolute)return new As(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new As(r.snapshot._urlSegment,!0,0);var i=me(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new As(a,!1,s-u)}()}(o,0,t),s=a.processChildren?Ee(a.segmentGroup,a.index,o.commands):we(a.segmentGroup,a.index,o.commands);return ve(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,c,l)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof ls?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof ls)return qt(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return qt(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;Ct.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Qo(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,o=null,a=new Promise(function(t,e){i=t,o=e}),s=++this.navigationId;return this.navigations.next({id:s,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=this.urlHandlingStrategy.extract(r),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new Ga(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Ga(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!1,!1,n,le(s,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var a=this;return i!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.events.next(new Qa(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(s,u){var l;if(o)l=Qo({appliedUrl:t,snapshot:o});else{var c=new ws(a.ngModule.injector,a.configLoader,a.urlSerializer,t,a.config).apply();l=St.call(c,function(e){return F.call(function(t,e,n,r){return new xs(t,e,n,r).recognize()}(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(n){return a.events.next(new Ja(i,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,p,f=St.call(l,function(t){return F.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),d=F.call(f,function(t){var e=t.appliedUrl,n=t.snapshot;return(h=new Rs(n,a.routerState.snapshot,a.ngModule.injector,function(t){return a.triggerEvent(t)})).initialize(a.rootContexts),{appliedUrl:e,snapshot:n}}),g=St.call(d,function(e){var n=e.appliedUrl,r=e.snapshot;return a.navigationId!==i?Qo(!1):(a.triggerEvent(new Xa(i,a.serializeUrl(t),n,r)),F.call(h.checkGuards(),function(e){return a.triggerEvent(new Ya(i,a.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),y=St.call(g,function(e){return a.navigationId!==i?Qo(!1):e.shouldActivate&&h.isActivating()?(a.triggerEvent(new Za(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),F.call(h.resolveData(),function(){return a.triggerEvent(new $a(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Qo(e)}),m=St.call(y,function(t){return F.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),v=F.call(m,function(t){var e=t.appliedUrl,n=t.shouldActivate;return n?{appliedUrl:e,state:function(t,e,n){var r=ge(a.routeReuseStrategy,e._root,n?n._root:void 0);return new Ss(r,e)}(0,t.snapshot,a.routerState),shouldActivate:n}:{appliedUrl:e,state:null,shouldActivate:n}}),_=a.routerState,b=a.currentUrlTree;v.forEach(function(t){var o=t.state;if(t.shouldActivate&&i===a.navigationId){if(a.currentUrlTree=t.appliedUrl,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.routerState=o,!n){var s=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(s)||r?a.location.replaceState(s):a.location.go(s)}new qs(a.routeReuseStrategy,o,_,function(t){return a.triggerEvent(t)}).activate(a.rootContexts),p=!0}else p=!1}).then(function(){p?(a.navigated=!0,a.events.next(new Ka(i,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),s(!0)):(a.resetUrlToCurrentUrlTree(),a.events.next(new Qa(i,a.serializeUrl(t),"")),s(!1))},function(n){if(function(t){return t&&t.ngNavigationCancelingError}(n))a.resetUrlToCurrentUrlTree(),a.navigated=!0,a.events.next(new Qa(i,a.serializeUrl(t),n.message)),s(!1);else{a.events.next(new za(i,a.serializeUrl(t),n));try{s(a.errorHandler(n))}catch(t){u(t)}}a.routerState=_,a.currentUrlTree=b,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.location.replaceState(a.serializeUrl(a.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),qs=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),fe(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=ue(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Vt(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=ue(t),o=t.value.component?r.children:e;Vt(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=ue(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new os(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rs(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(fe(r),r===i)r.component?(o=n.getOrCreateContext(r.outlet),this.activateChildRoutes(t,e,o.children)):this.activateChildRoutes(t,e,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),De(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}(),Ws=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(He.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:xe(this.skipLocationChange),replaceUrl:xe(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:xe(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:xe(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),Hs=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Ka&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(He.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:xe(this.skipLocationChange),replaceUrl:xe(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:xe(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:xe(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),Gs=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Ka&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}(),Ks=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qs,this.attachRef=null}}(),Qs=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Ks,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),zs=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new He.m,this.deactivateEvents=new He.m,this.name=r||as,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Js(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Js=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Ts?this.route:t===Qs?this.childContexts:this.parent.get(t,e)},t}(),Xs=function(){},Ys=function(){function t(){}return t.prototype.preload=function(t,e){return Tt.call(e(),function(){return Qo(null)})},t}(),Zs=function(){function t(){}return t.prototype.preload=function(t,e){return Qo(null)},t}(),$s=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Us(e,n,function(e){return t.triggerEvent(new ts(e))},function(e){return t.triggerEvent(new es(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=ht.call(this.router.events,function(t){return t instanceof Ka});this.subscription=Ct.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(He.v);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return Pt.call(va(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return St.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),tu=new He.o("ROUTER_CONFIGURATION"),eu=new He.o("ROUTER_FORROOT_GUARD"),nu=[Xe,{provide:ps,useClass:fs},{provide:Bs,useFactory:Ve,deps:[He.g,ps,Qs,Xe,He.p,He.u,He.i,Fs,tu,[Vs,new He.y],[Ms,new He.y]]},Qs,{provide:Ts,useFactory:je,deps:[Bs]},{provide:He.u,useClass:He.H},$s,Zs,Ys,{provide:tu,useValue:{enableTracing:!1}}],ru=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[nu,Ue(e),{provide:eu,useFactory:Fe,deps:[[Bs,new He.y,new He.G]]},{provide:tu,useValue:n||{}},{provide:ze,useFactory:Le,deps:[Ke,[new He.n(Je),new He.y],tu]},{provide:Xs,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Zs},{provide:He.w,multi:!0,useFactory:Me},[iu,{provide:He.d,multi:!0,useFactory:Be,deps:[iu]},{provide:ou,useFactory:qe,deps:[iu]},{provide:He.b,multi:!0,useExisting:ou}]]}},t.forChild=function(e){return{ngModule:t,providers:[Ue(e)]}},t}(),iu=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Sa.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Qe,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Bs),i=t.injector.get(tu);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Qo(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(tu),n=this.injector.get($s),r=this.injector.get(Bs),i=this.injector.get(He.g);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}(),ou=new He.o("Router Initializer"),au={max:50},su={name:"pt_br",e1:"Item e quantidade s\xe3o obrigat\xf3rios",e2:"M\xe1ximo de "+au.max+" itens",e3:"E-mail e senham devem ser informados",e4:"E-mail ou senha inv\xe1lidos",e5:"Senha \xe9 muito pequena",e6:"Nome da lista deve ser informado",e7:"Exclua os itens primeiro",e8:"E-mail inv\xe1lido, n\xe3o cadastrado ou j\xe1 incluso",e9:"Acesso j\xe1 criado",e10:"Lista deve ter pelo menos 1 dono",e11:"Lista deve estar vazia",e12:"Voc\xea est\xe1 offline, tente novamente mais tarde",e13:"E-mail \xe9 inv\xe1lido",e14:"Todos os campos s\xe3o obrigat\xf3rios",t1:"Nome",t2:"Quantidade",t3:"Incluir",t4:"Novo Item",t5:"Lista",t6:"Senha",t7:"Entrar",t8:"Registrar",t9:"Voltar",t10:"Nova Lista",t11:"Item",t12:"In\xedcio",t13:"Acesso",t14:"Conta",t15:"Nova Conta",t16:"Pagador",t17:"Data",t18:"Valor",t19:"Beneficiados",t20:"Gerenciador de Listas",t21:"Gerenciador de Contas",t22:"Membros",t23:"Saldo",t24:"Aten\xe7\xe3o",t25:"Local",t26:"Natureza",t27:"Transporte",t28:"Hospedagem",t29:"Taxas",t30:"Passeios",t31:"Alimenta\xe7\xe3o",t32:"Diversos",t33:"Selecione",t34:"Respons\xe1vel",t35:"Multiplicador",t36:"Calculado",t37:"Excluir",t38:"Editar",t39:"Salvar",m1:"Selecione uma lista",m2:"Esqueci minha senha",m3:"E-mail para resetar senha enviado",m4:"Nenhuma lista dispon\xedvel",m5:"Nenhum item foi adicionado",m6:"Saldo negativo? Voc\xea deve dinheiro.",m7:"Confirma exclus\xe3o?",m8:"Somente o respons\xe1vel pode excluir.",m9:"Somente o respons\xe1vel pode alterar."},uu={name:"en_us",e1:"Item name and amount are required",e2:"Max of "+au.max+" items",e3:"E-mail and password must be provided",e4:"E-mail or password is wrong",e5:"Passowrd must be at least 6 characters",e6:"List name are required",e7:"Itens must be removed first",e8:"E-mail invalid, not registered or already included",e9:"Access already exists",e10:"List must have at least one owner",e11:"List must be empty",e12:"You are offline, try again later",e13:"E-mail is invalid",e14:"All fields are required",t1:"Name",t2:"Amount",t3:"Include",t4:"New Item",t5:"List",t6:"Password",t7:"Sign in",t8:"Sign up",t9:"Back to login",t10:"New List",t11:"Item",t12:"Home",t13:"Access",t14:"Bill",t15:"New Bill",t16:"Payer",t17:"Date",t18:"Value",t19:"Benefited",t20:"List Mananger",t21:"Bill Mananger",t22:"Members",t23:"Balance",t24:"Attention",t25:"Place",t26:"Type",t27:"Transportation",t28:"Hosting",t29:"Taxes",t30:"Recreation",t31:"Food",t32:"Others",t33:"Select",t34:"Owner",t35:"Multiplier",t36:"Calculated",t37:"Remove",t38:"Edit",t39:"Save",m1:"Select a list to continue",m2:"Forgot my password",m3:"Reset password mail sent",m4:"There is no list to display",m5:"There is no item to display",m6:"Negative balance? You owe money.",m7:"Are you sure to delete?",m8:"Only the owner is alowed to remove.",m9:"Only the owner is alowed to edit."},lu=n("B1iP"),cu=Object.prototype.toString;$r.a.fromEvent=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}return Object(Ge.b)(e,t),e.create=function(t,n,r,i){return Object(lu.a)(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,r,i,o){var a;if(function(t){return!!t&&"[object NodeList]"===cu.call(t)}(t)||function(t){return!!t&&"[object HTMLCollection]"===cu.call(t)}(t))for(var s=0,u=t.length;s<u;s++)e.setupSubscription(t[s],n,r,i,o);else if(function(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var l=t;t.addEventListener(n,r,o),a=function(){return l.removeEventListener(n,r)}}else if(function(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var c=t;t.on(n,r),a=function(){return c.off(n,r)}}else{if(!function(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t))throw new TypeError("Invalid event target");var h=t;t.addListener(n,r),a=function(){return h.removeListener(n,r)}}i.add(new Io.a(a))},e.prototype._subscribe=function(t){var n=this.selector;e.setupSubscription(this.sourceObj,this.eventName,n?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var i=Object(Zo.a)(n).apply(void 0,e);i===$o.a?t.error($o.a.e):t.next(i)}:function(e){return t.next(e)},t,this.options)},e}($r.a).create;var hu=function(){function t(t,e,n,r){var i=this;this.afs=t,this.router=e,this.route=n,this.afAuth=r,this.returnUrl="/menu",this.lists=["list-detail","list-form","list-access","list-item"],this.bills=["bill-detail","bill-form","bill-access","bill-item"],localStorage.getItem("lang")?this.language="ptbr"==localStorage.getItem("lang")?su:uu:(localStorage.setItem("lang","ptbr"),this.language=su),this.isConnected=$r.a.merge($r.a.of(navigator.onLine),$r.a.fromEvent(window,"online").map(function(){return!0}),$r.a.fromEvent(window,"offline").map(function(){return!1})),this.afAuth.auth.onAuthStateChanged(function(t){t?(i.user=t,i.isSignin=$r.a.of(!0),i.router.navigate([i.returnUrl])):(i.user=void 0,i.isSignin=$r.a.of(!1),i.router.navigate(["/login"]))})}return t.prototype.language_set=function(t){1==t?(localStorage.setItem("lang","ptbr"),this.language=su):(localStorage.setItem("lang","en"),this.language=uu)},t}(),pu=function(){},fu=n("iEW0"),du=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gu=function(){function t(t){this.appService=t}return t.prototype.ngOnInit=function(){var t=this;this.lists=this.appService.afs.collection("lists",function(e){return e.where("access."+t.appService.user.email.replace(".","`"),"==",!0)}).snapshotChanges().map(function(e){return t.len=e.length,e.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=[],n=t.payload.doc.data();for(var r in n.items)e.push({itemkey:r,itemname:n.items[r].itemname,amount:n.items[r].amount});return n.items=e.sort(function(t,e){return t.itemname.localeCompare(e.itemname)}),du({id:t.payload.doc.id},n)})})},t.prototype.onSelect=function(t,e){this.appService.afs.collection("lists").doc(t.id).update((n={},n["items."+e]=fu.firestore.FieldValue.delete(),n));var n},t}(),yu=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mu=function(){function t(t,e){this.appService=t,this.router=e}return t.prototype.ngOnInit=function(){var t=this;this.lists=this.appService.afs.collection("lists",function(e){return e.where("access."+t.appService.user.email.replace(".","`"),"==",!0)}).snapshotChanges().map(function(t){return t.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=t.payload.doc.data();return yu({id:t.payload.doc.id},e)})})},t.prototype.Include=function(){var t=new Date,e=t.getFullYear()+""+t.getMonth()+t.getDay()+t.getHours()+t.getMinutes()+t.getSeconds()+(Math.floor(9e4*Math.random())+1e4),n=this.listname;this.listname="",this.erro="",""==n?(this.erro=this.appService.language.e6,navigator.vibrate([500])):this.appService.afs.collection("lists").doc(e).set({listname:n,access:(r={},r[this.appService.user.email.replace(".","`")]=!0,r)});var r},t.prototype.onSelect=function(t,e){e&&0!=Object.keys(e).length?this.erro=this.appService.language.e7:this.appService.afs.collection("lists").doc(t).delete()},t}(),vu=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_u=function(){function t(t,e){this.appService=t,this.afAuth=e}return t.prototype.ngOnInit=function(){var t=this;this.lists=this.appService.afs.collection("lists",function(e){return e.where("access."+t.appService.user.email.replace(".","`"),"==",!0)}).snapshotChanges().map(function(t){return t.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=t.payload.doc.data();return vu({id:t.payload.doc.id},e)})})},t.prototype.onSelectList=function(t){var e=this;this.selected=!0,this.erro="",this.listname=t.listname,this.listkey=t.id,this.appService.afs.collection("lists").doc(this.listkey).snapshotChanges().forEach(function(t){var n=[];for(var r in t.payload.data().access)n.push({email:r.replace("`",".")});e.members=n})},t.prototype.Include=function(){var t=this,e=this.email;navigator.onLine?""==e?(this.erro=this.appService.language.e8,navigator.vibrate([500])):this.afAuth.auth.fetchProvidersForEmail(e).then(function(n){0==n.length?t.erro=t.appService.language.e8:(t.appService.afs.collection("lists").doc(t.listkey).update((r={},r["access."+e.replace(".","`")]=!0,r)),t.erro="",t.email="");var r}):this.erro=this.appService.language.e12},t.prototype.onRemove=function(t){navigator.onLine?this.members.length>1?this.appService.afs.collection("lists").doc(this.listkey).update((e={},e["access."+t.email.replace(".","`")]=fu.firestore.FieldValue.delete(),e)):this.erro=this.appService.language.e10:this.erro=this.appService.language.e12;var e},t}(),bu=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wu=function(){function t(t,e){this.appService=t,this.router=e}return t.prototype.ngOnInit=function(){var t=this;this.lists=this.appService.afs.collection("lists",function(e){return e.where("access."+t.appService.user.email.replace(".","`"),"==",!0)}).snapshotChanges().map(function(t){return t.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=t.payload.doc.data();return bu({id:t.payload.doc.id},e)})}),this.erro=this.appService.language.m1},t.prototype.onSelect=function(t){this.selected=!0,this.erro="",this.listname=t.listname,this.listkey=t.id},t.prototype.Include=function(){var t=this.itemname,e=this.amount;if(t&&""!=t.trim()&&e&&""!=e.trim()){this.itemname="",this.amount="";var n=new Date,r=n.getFullYear()+""+n.getMonth()+n.getDay()+n.getHours()+n.getMinutes()+n.getSeconds()+(Math.floor(9e4*Math.random())+1e4);this.appService.afs.collection("lists").doc(this.listkey).update((i={},i["items."+r]={itemname:t,amount:e},i)),this.erro="",this.router.navigate(["/list-detail"])}else this.erro=this.appService.language.e1,navigator.vibrate([500]);var i},t}(),Eu=function(){function t(t){this.appservice=t}return t.prototype.transform=function(t,e){if(t)return this.appservice.language[t]},t}(),Cu=function(){},Su=function(){},Tu=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Iu=function(){function t(t,e){this.appService=t,this.router=e}return t.prototype.ngOnInit=function(){var t=this;this.bills=this.appService.afs.collection("bills",function(e){return e.where("access."+t.appService.user.email.replace(/\./g,"\xb4"),"==",!0)}).snapshotChanges().map(function(t){return t.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=t.payload.doc.data();return Tu({id:t.payload.doc.id},e)})})},t.prototype.Include=function(){var t=new Date,e=t.getFullYear()+""+t.getMonth()+t.getDay()+t.getHours()+t.getMinutes()+t.getSeconds()+(Math.floor(9e4*Math.random())+1e4),n=this.billname;this.billname="",this.erro="",""==n?(this.erro=this.appService.language.e6,navigator.vibrate([500])):this.appService.afs.collection("bills").doc(e).set({billname:n,access:(r={},r[this.appService.user.email.replace(/\./g,"\xb4")]=!0,r)});var r},t.prototype.onSelect=function(t,e){e&&0!=Object.keys(e).length?this.erro=this.appService.language.e7:this.appService.afs.collection("bills").doc(t).delete()},t}(),Ou=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nu=function(){function t(t,e){this.appService=t,this.afAuth=e}return t.prototype.ngOnInit=function(){var t=this;this.bills=this.appService.afs.collection("bills",function(e){return e.where("access."+t.appService.user.email.replace(/\./g,"\xb4"),"==",!0)}).snapshotChanges().map(function(t){return t.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=t.payload.doc.data();return Ou({id:t.payload.doc.id},e)})})},t.prototype.onSelectList=function(t){var e=this;this.selected=!0,this.erro="",this.billname=t.billname,this.billkey=t.id,this.appService.afs.collection("bills").doc(this.billkey).snapshotChanges().forEach(function(t){var n=[];for(var r in t.payload.data().access)n.push({email:r.replace(/\xb4/g,".")});e.members=n})},t.prototype.Include=function(){var t=this,e=this.email;navigator.onLine?""==e?(this.erro=this.appService.language.e8,navigator.vibrate([500])):this.afAuth.auth.fetchProvidersForEmail(e).then(function(n){0==n.length?t.erro=t.appService.language.e8:(t.appService.afs.collection("bills").doc(t.billkey).update((r={},r["access."+e.replace(/\./g,"\xb4")]=!0,r)),t.erro="",t.email="");var r}):this.erro=this.appService.language.e12},t.prototype.onRemove=function(t){navigator.onLine?this.members.length>1?this.appService.afs.collection("bills").doc(this.billkey).update((e={},e["access."+t.email.replace(/\./g,"\xb4")]=fu.firestore.FieldValue.delete(),e)):this.erro=this.appService.language.e10:this.erro=this.appService.language.e12;var e},t}(),Au=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pu=function(){function t(t,e,n,r){this.appService=t,this.billService=e,this.router=n,this.route=r,this.multiplier="1"}return t.prototype.ngOnInit=function(){var t=this,e=this.route.snapshot.paramMap.get("data");if(e&&"edit"==e&&void 0!=this.billService.item)this.onEdit(this.billService.item),this.editmode=!0;else{this.editmode=!1;var n=new Date;this.date=n.getFullYear()+"-"+(n.getMonth()+1<10?"0":"")+(n.getMonth()+1)+"-"+(n.getDate()<10?"0":"")+n.getDate(),this.type=""}this.bills=this.appService.afs.collection("bills",function(e){return e.where("access."+t.appService.user.email.replace(/\./g,"\xb4"),"==",!0)}).snapshotChanges().map(function(t){return t.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=t.payload.doc.data();return Au({id:t.payload.doc.id},e)})})},t.prototype.onEdit=function(t){this.selected_member=!0,this.payer=t.payer,this.place=t.place,this.type=t.type;var e=t.date;this.date=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),console.log(t.date,this.date),this.description=t.description,this.value=t.value+"",this.multiplier=t.multiplier+"",this.calculated=t.calculated,this.onSelectBill({billname:t.billname,id:t.billkey}),this.benefited=t.benefited,this.itemkey=t.itemkey},t.prototype.onSelectMember=function(t){this.selected_member=!0,this.payer=t.email},t.prototype.onSelectBill=function(t){var e=this;this.selected_bill=!0,this.erro="",this.billname=t.billname,this.billkey=t.id,this.appService.afs.collection("bills").doc(this.billkey).snapshotChanges().forEach(function(t){var n=[];for(var r in t.payload.data().access)n.push({email:r.replace(/\xb4/g,".")});e.members=n})},t.prototype.onChange=function(){this.calculated=Number(this.value.replace(",","."))*Number(this.multiplier.replace(",","."))},t.prototype.Include=function(){if(!this.date||!this.description||""==this.description.trim()||!this.value||NaN==Number(this.value)||Number(this.value)<=0||!this.benefited||0==this.benefited.length||!this.place||!this.type||""==this.type||""==this.multiplier||Number(this.multiplier)<=0)this.erro=this.appService.language.e14,navigator.vibrate([500]);else{var t=this.date,e=this.description,n=this.value.replace(",","."),r=this.multiplier.replace(",","."),i=this.payer,o=this.benefited,a=this.place,s=this.type,u=new Date;this.date=u.getFullYear()+"-"+(u.getMonth()+1)+"-"+u.getDate(),this.description="",this.value="",this.multiplier="",this.payer="",this.benefited="",this.place="",this.type="";var l=this.editmode?this.itemkey:u.getFullYear()+""+u.getMonth()+u.getDate()+u.getHours()+u.getMinutes()+u.getSeconds()+(Math.floor(9e4*Math.random())+1e4);this.appService.afs.collection("bills").doc(this.billkey).update((c={},c["items."+l]={payer:i,benefited:o,date:new Date(Number(t.substring(0,4)),Number(t.substring(5,7))-1,Number(t.substring(8,10))),description:e,value:Number(n),multiplier:Number(r),place:a,type:s,owner:this.appService.user.email},c)),this.erro="",this.router.navigate(["/bill-detail/"+this.billkey+"/"+this.billname])}var c},t}(),ku=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ru=function(){function t(t,e,n,r){this.appService=t,this.billService=e,this.route=n,this.router=r}return t.prototype.ngOnInit=function(){var t=this,e={id:this.route.snapshot.paramMap.get("id1"),billname:this.route.snapshot.paramMap.get("id2")};e.id&&e.billname&&this.onSelectBill(e),this.bills=this.appService.afs.collection("bills",function(e){return e.where("access."+t.appService.user.email.replace(/\./g,"\xb4"),"==",!0)}).snapshotChanges().map(function(t){return t.sort(function(t,e){return t.payload.doc.data().listname.localeCompare(e.payload.doc.data().listname)}).map(function(t){var e=t.payload.doc.data();return ku({id:t.payload.doc.id},e)})})},t.prototype.onSelectBill=function(t){var e=this;this.billname=t.billname,this.billkey=t.id,this.appService.afs.collection("bills").doc(t.id).snapshotChanges().forEach(function(t){var n=[],r=[];if(0==Object.keys(t.payload.data().items).length)e.erro=e.appService.language.m5;else{for(var i in t.payload.data().access)if(i.replace(/\xb4/g,".")!=e.appService.user.email){var o=i.replace(/\xb4/g,".").split("@");o[0].length>20&&(o[0]=o[0].substr(0,7)+"..."+o[0].substr(o[0].length-7,7)),r.push({email:i.replace(/\xb4/g,"."),emailf:o[0]+"@"+o[1],value:0})}var a=t.payload.data();for(var i in a.items)!function(t){var i=!1;a.items[t].benefited.forEach(function(n){var o=a.items[t].payer==e.appService.user.email&&n!=e.appService.user.email,s=a.items[t].payer!=e.appService.user.email&&n==e.appService.user.email;(o||s||a.items[t].owner==e.appService.user.email||a.items[t].payer==e.appService.user.email&&n==e.appService.user.email)&&(i=!0,(o||s)&&r.forEach(function(e){if(e.email==(o?n:a.items[t].payer)){var r=a.items[t].value*(void 0!=a.items[t].multiplier?a.items[t].multiplier:1)/a.items[t].benefited.length;o?e.value+=r:e.value-=r}}))}),i&&n.push({benefited:a.items[t].benefited,date:new Date(a.items[t].date),description:a.items[t].description,value:a.items[t].value,multiplier:void 0!=a.items[t].multiplier?a.items[t].multiplier:1,calculated:a.items[t].value*(void 0!=a.items[t].multiplier?a.items[t].multiplier:1),payer:a.items[t].payer,place:a.items[t].place,type:"en_us"==e.appService.language.name?a.items[t].type.replace("Diversos","Others").replace("Transporte","Transportation").replace("Hospedagem","Hosting").replace("Passeios","Recreation").replace("Taxas","Taxes").replace("Alimenta\xe7\xe3o","Food"):a.items[t].type.replace("Others","Diversos").replace("Transportation","Transporte").replace("Hosting","Hospedagem").replace("Recreation","Passeios").replace("Taxes","Taxas").replace("Food","Alimenta\xe7\xe3o"),owner:a.items[t].owner,itemkey:t})}(i)}e.members=$r.a.of(r),e.items=$r.a.of(n.sort(function(t,e){return t.date<e.date?1:t.date>e.date?-1:0}))})},t.prototype.onRemove=function(t){t.owner!=this.appService.user.email?alert(this.appService.language.m8):confirm(this.appService.language.m7)&&this.appService.afs.collection("bills").doc(this.billkey).update((e={},e["items."+t.itemkey]=fu.firestore.FieldValue.delete(),e));var e},t.prototype.onEdit=function(t){t.owner!=this.appService.user.email?alert(this.appService.language.m9):(this.billService.item={billkey:this.billkey,billname:this.billname,itemkey:t.itemkey,payer:t.payer,date:t.date,place:t.place,description:t.description,type:t.type,value:t.value,multiplier:t.multiplier,calculated:t.calculated,benefited:t.benefited},this.router.navigate(["/bill-item/edit"]))},t.prototype.backup=function(){this.items.subscribe(function(t){var e=new Date,n=new Blob([JSON.stringify(t)],{type:"text/plain"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","backup_realtimeapp_"+e.getFullYear()+e.getMonth()+e.getDate()+".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r)})},t}(),Du=function(){},xu=function(){function t(t,e,n){this.afAuth=t,this.appService=e,this.router=n,this.isLoggingIn=!0}return t.prototype.ngOnInit=function(){},t.prototype.toggleDisplay=function(){this.isLoggingIn=!this.isLoggingIn,this.erro=""},t.prototype.login=function(){var t=this;this.email&&this.password?this.isLoggingIn?this.afAuth.auth.signInWithEmailAndPassword(this.email,this.password).then(function(t){}).catch(function(e){t.erro=t.appService.language.e4}):this.afAuth.auth.createUserWithEmailAndPassword(this.email,this.password).then(function(t){}).catch(function(e){t.erro=t.appService.language.e4}):(this.erro=this.appService.language.e3,navigator.vibrate([500]))},t.prototype.forgot=function(){var t=this;this.email?this.afAuth.auth.sendPasswordResetEmail(this.email).then(function(){t.erro=t.appService.language.m3}).catch(function(e){t.erro=t.appService.language.e13}):(this.erro=this.appService.language.e3,navigator.vibrate([500]))},t}(),Mu=function(){},Lu=function(){},Fu=function(){function t(t,e,n){this.appService=t,this.router=e,this.route=n}return t.prototype.canActivate=function(t,e){return this.appService.returnUrl=e.url,!!this.appService.isSignin||(this.router.navigate(["/login"]),!1)},t}(),Uu=function(){},Vu=function(){function t(t,e,n){this.appService=t,this.afAuth=e,this.router=n,this.title="realtimeapp",this.version="v6.1",this.isConnected=this.appService.isConnected}return t.prototype.logout=function(){this.afAuth.auth.signOut()},t.prototype.language=function(t){this.appService.language_set(t)},t.prototype.menu=function(){this.router.navigate(["/menu"])},t}(),ju=function(){},Bu=He._1({encapsulation:0,styles:[[".email[_ngcontent-%COMP%]{text-transform:lowercase}"]],data:{}}),qu=He.Z("app-login-form",xu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-login-form",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n  "])),(t()(),He._3(2,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),He._24(-1,null,["Email:"])),(t()(),He._24(-1,null,["\n  "])),(t()(),He._3(5,0,null,null,7,"input",[["class","form-control email"],["name","email"],["placeholder","Email"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,6)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.email=n)&&r),r},null,null)),He._2(6,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._2(7,16384,null,0,Gi,[],{required:[0,"required"]},null),He._21(1024,null,gi,function(t){return[t]},[Gi]),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(10,671744,null,0,Hi,[[8,null],[2,gi],[8,null],[2,vi]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(12,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(15,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n  "])),(t()(),He._3(17,0,null,null,2,"label",[["for","password"]],null,null,null,null,null)),(t()(),He._24(18,null,["",":"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n  "])),(t()(),He._3(21,0,null,null,8,"input",[["class","form-control email"],["name","password"],["required",""],["type","password"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,22)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.password=n)&&r),r},null,null)),He._2(22,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._2(23,16384,null,0,Gi,[],{required:[0,"required"]},null),He._21(1024,null,gi,function(t){return[t]},[Gi]),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(26,671744,null,0,Hi,[[8,null],[2,gi],[8,null],[2,vi]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(28,16384,null,0,Di,[Ci],null,null),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["  \n"])),(t()(),He._3(32,0,null,null,3,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r},null,null)),(t()(),He._24(33,null,["",""])),He._18(0,Eu,[hu]),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(37,0,null,null,3,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleDisplay()&&r),r},null,null)),(t()(),He._24(38,null,["",""])),He._18(0,Eu,[hu]),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(42,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(43,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(45,0,null,null,2,"a",[["href","javascript:void(0);"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.forgot()&&r),r},null,null)),(t()(),He._24(46,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(50,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n    ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(53,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,7,0,""),t(e,10,0,"email",n.email),t(e,23,0,""),t(e,26,0,"password",n.password),t(e,53,0,n.erro)},function(t,e){var n=e.component;t(e,5,0,He._16(e,7).required?"":null,He._16(e,12).ngClassUntouched,He._16(e,12).ngClassTouched,He._16(e,12).ngClassPristine,He._16(e,12).ngClassDirty,He._16(e,12).ngClassValid,He._16(e,12).ngClassInvalid,He._16(e,12).ngClassPending),t(e,18,0,He._25(e,18,0,He._16(e,19).transform("t6"))),t(e,21,0,He._6(1,"",He._25(e,21,0,He._16(e,29).transform("t6")),""),He._16(e,23).required?"":null,He._16(e,28).ngClassUntouched,He._16(e,28).ngClassTouched,He._16(e,28).ngClassPristine,He._16(e,28).ngClassDirty,He._16(e,28).ngClassValid,He._16(e,28).ngClassInvalid,He._16(e,28).ngClassPending),t(e,33,0,n.isLoggingIn?He._25(e,33,0,He._16(e,34).transform("t7")):He._25(e,33,0,He._16(e,35).transform("t8"))),t(e,38,0,n.isLoggingIn?He._25(e,38,0,He._16(e,39).transform("t8")):He._25(e,38,0,He._16(e,40).transform("t9"))),t(e,46,0,He._25(e,46,0,He._16(e,47).transform("m2")))})},Bu)),He._2(1,114688,null,0,xu,[Ca,hu,Bs],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Wu=He._1({encapsulation:0,styles:[[".btn[_ngcontent-%COMP%]{margin:15px auto;display:block;width:100%}"]],data:{}}),Hu=He.Z("app-menu",Lu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-menu",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,1).onClick()&&r),r},null,null)),He._2(1,16384,null,0,Ws,[Bs,Ts,[8,null],He.B,He.k],{routerLink:[0,"routerLink"]},null),He._17(2,1),(t()(),He._24(3,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(6,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,7).onClick()&&r),r},null,null)),He._2(7,16384,null,0,Ws,[Bs,Ts,[8,null],He.B,He.k],{routerLink:[0,"routerLink"]},null),He._17(8,1),(t()(),He._24(9,null,["",""])),He._18(0,Eu,[hu])],function(t,e){t(e,1,0,t(e,2,0,"/list-detail")),t(e,7,0,t(e,8,0,"/bill-detail"))},function(t,e){t(e,3,0,He._25(e,3,0,He._16(e,4).transform("t20"))),t(e,9,0,He._25(e,9,0,He._16(e,10).transform("t21")))})},Wu)),He._2(1,49152,null,0,Lu,[],null,null)],null,null)},{},{},[]),Gu=He._1({encapsulation:0,styles:[[".selected[_ngcontent-%COMP%]{background-color:#cfd8dc!important;color:#fff}.items[_ngcontent-%COMP%], .lists[_ngcontent-%COMP%]{list-style-type:none;padding:0}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:0;border-radius:4px}.lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#eee;margin:10px 0;padding:10px 10px 6px 10px}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#aabadb;margin:10px;padding:8px 0 8px 10px}.items[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc!important;color:#fff}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.items[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.items[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:#115288;position:relative;margin-left:.8em;border-radius:0 4px 4px 0;float:right;padding:12px 16px;top:-8px}"]],data:{}}),Ku=He.Z("app-list-detail",gu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-list-detail",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,5,"ul",[["class","lists"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,7,"li",[],null,null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n      "])),(t()(),He._3(2,0,null,null,4,"ul",[["class","items"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),He._24(1,null,["\n            ","\n            "])),(t()(),He._3(2,0,null,null,1,"span",[["class","badge"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelect(t.parent.context.$implicit,t.context.$implicit.itemkey)&&r),r},null,null)),(t()(),He._24(-1,null,["X"])),(t()(),He._24(-1,null,["    \n        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.itemname+" - "+e.context.$implicit.amount)})})),He._2(5,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),(t()(),He._24(-1,null,["\n      "])),(t()(),He._24(-1,null,["\n    "]))],function(t,e){t(e,5,0,e.context.$implicit.items)},function(t,e){t(e,1,0,e.context.$implicit.listname)})})),He._2(3,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n    ","\n"])),He._18(0,Eu,[hu])],null,function(t,e){t(e,1,0,He._25(e,1,0,He._16(e,2).transform("m4")))})})),He._2(8,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),(t()(),He._24(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,3,0,He._25(e,3,0,He._16(e,4).transform(n.lists))),t(e,8,0,0==n.len)},null)},Gu)),He._2(1,114688,null,0,gu,[hu],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Qu=He._1({encapsulation:0,styles:[[".selected[_ngcontent-%COMP%]{background-color:#cfd8dc!important;color:#fff}.items[_ngcontent-%COMP%]{list-style-type:none;padding:0}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:0;border-radius:4px;background-color:#aabadb;margin:5px 0;padding:8px 0 8px 10px}.items[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc!important;color:#fff}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.items[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.items[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:#115288;position:relative;margin-left:.8em;border-radius:0 4px 4px 0;float:right;padding:12px 16px;top:-8px}"]],data:{}}),zu=He.Z("app-list-form",mu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-list-form",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(2,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(4,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(5,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(8,0,null,null,5,"input",[["class","form-control"],["name","listname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,9)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,9).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,9)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,9)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.listname=n)&&r),r},null,null)),He._2(9,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(11,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(13,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(16,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Include()&&r),r},null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(18,0,null,null,0,"span",[["class","glyphicon glyphicon-floppy-disk"]],null,null,null,null,null)),(t()(),He._24(19,null,[" ","\n"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["       \n"])),(t()(),He._3(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(25,0,null,null,5,"ul",[["class","items"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n        "])),(t()(),He._3(2,0,null,null,1,"span",[["class","badge"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelect(t.context.$implicit.id,t.context.$implicit.items)&&r),r},null,null)),(t()(),He._24(-1,null,["X"])),(t()(),He._24(-1,null,["    \n    "]))],null,function(t,e){t(e,1,0,e.context.$implicit.listname)})})),He._2(28,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["  \n"])),(t()(),He._3(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["   \n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(35,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),(t()(),He._24(-1,null,["      "]))],function(t,e){var n=e.component;t(e,11,0,"listname",n.listname),t(e,28,0,He._25(e,28,0,He._16(e,29).transform(n.lists))),t(e,35,0,n.erro)},function(t,e){t(e,5,0,He._25(e,5,0,He._16(e,6).transform("t5"))),t(e,8,0,He._16(e,13).ngClassUntouched,He._16(e,13).ngClassTouched,He._16(e,13).ngClassPristine,He._16(e,13).ngClassDirty,He._16(e,13).ngClassValid,He._16(e,13).ngClassInvalid,He._16(e,13).ngClassPending),t(e,19,0,He._25(e,19,0,He._16(e,20).transform("t3")))})},Qu)),He._2(1,114688,null,0,mu,[hu,Bs],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ju=He._1({encapsulation:0,styles:[[".dropdown[_ngcontent-%COMP%]{display:inline-block}.dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#337ab7}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;border-color:#2e6da4;color:#fff;padding:10px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#607d8b;left:.1em}.selected[_ngcontent-%COMP%]{background-color:#cfd8dc!important;color:#fff}.items[_ngcontent-%COMP%]{list-style-type:none;padding:0}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:0;border-radius:4px;background-color:#aabadb;margin:5px 0;padding:8px 0 8px 10px}.items[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc!important;color:#fff}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.items[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.items[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:#115288;position:relative;margin-left:.8em;border-radius:0 4px 4px 0;float:right;padding:12px 16px;top:-8px}.email[_ngcontent-%COMP%]{text-transform:lowercase}"]],data:{}}),Xu=He.Z("app-list-access",_u,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-list-access",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(2,0,null,null,13,"div",[["class","dropdown"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(4,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(t()(),He._24(5,null,["","\n    "])),He._18(0,Eu,[hu]),(t()(),He._3(7,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(9,0,null,null,5,"ul",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"li",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelectList(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(1,null,["\n            ","\n        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.listname)})})),He._2(12,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["    \n"])),(t()(),He._3(17,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(18,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["   \n"])),(t()(),He._3(20,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(22,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(23,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(26,0,null,null,5,"input",[["class","form-control"],["name","listname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,27)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,27).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,27)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,27)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.listname=n)&&r),r},null,null)),He._2(27,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(29,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(31,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(34,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(36,0,null,null,1,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(-1,null,["E-mail"])),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(39,0,null,null,5,"input",[["class","form-control email"],["name","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,40)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,40).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,40)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,40)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.email=n)&&r),r},null,null)),He._2(40,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(42,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(44,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(47,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Include()&&r),r},null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(49,0,null,null,0,"span",[["class","glyphicon glyphicon-floppy-disk"]],null,null,null,null,null)),(t()(),He._24(50,null,[" ","\n"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["       \n"])),(t()(),He._3(53,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(54,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n    ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(57,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),(t()(),He._24(-1,null,[" \n"])),(t()(),He._3(59,0,null,null,4,"ul",[["class","items"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n        "])),(t()(),He._3(2,0,null,null,1,"span",[["class","badge"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onRemove(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(-1,null,["X"])),(t()(),He._24(-1,null,["    \n    "]))],null,function(t,e){t(e,1,0,e.context.$implicit.email)})})),He._2(62,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["        \n "]))],function(t,e){var n=e.component;t(e,12,0,He._25(e,12,0,He._16(e,13).transform(n.lists))),t(e,29,0,"listname",!0,n.listname),t(e,42,0,"email",!n.selected,n.email),t(e,57,0,n.erro),t(e,62,0,n.members)},function(t,e){var n=e.component;t(e,5,0,He._25(e,5,0,He._16(e,6).transform("t5"))),t(e,23,0,He._25(e,23,0,He._16(e,24).transform("t5"))),t(e,26,0,He._16(e,31).ngClassUntouched,He._16(e,31).ngClassTouched,He._16(e,31).ngClassPristine,He._16(e,31).ngClassDirty,He._16(e,31).ngClassValid,He._16(e,31).ngClassInvalid,He._16(e,31).ngClassPending),t(e,39,0,He._16(e,44).ngClassUntouched,He._16(e,44).ngClassTouched,He._16(e,44).ngClassPristine,He._16(e,44).ngClassDirty,He._16(e,44).ngClassValid,He._16(e,44).ngClassInvalid,He._16(e,44).ngClassPending),t(e,47,0,!n.selected),t(e,50,0,He._25(e,50,0,He._16(e,51).transform("t3")))})},Ju)),He._2(1,114688,null,0,_u,[hu,Ca],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Yu=He._1({encapsulation:0,styles:[[".form-control[_ngcontent-%COMP%]{max-width:200px}.dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#337ab7}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;border-color:#2e6da4;color:#fff;padding:10px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#607d8b;left:.1em}"]],data:{}}),Zu=He.Z("app-list-item",wu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-list-item",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(2,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["    \n    "])),(t()(),He._3(4,0,null,null,13,"div",[["class","dropdown"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(6,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(t()(),He._24(7,null,["","\n        "])),He._18(0,Eu,[hu]),(t()(),He._3(9,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(11,0,null,null,5,"ul",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n            "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"li",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelect(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(1,null,["\n                ","\n            "]))],null,function(t,e){t(e,1,0,e.context.$implicit.listname)})})),He._2(14,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["    \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(20,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(22,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(23,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(26,0,null,null,5,"input",[["class","form-control"],["name","listname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,27)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,27).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,27)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,27)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.listname=n)&&r),r},null,null)),He._2(27,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(29,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(31,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(34,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(36,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(37,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(40,0,null,null,5,"input",[["class","form-control"],["name","itemname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,41)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,41).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,41)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,41)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.itemname=n)&&r),r},null,null)),He._2(41,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(43,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(45,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(48,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(50,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(51,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["    \n    "])),(t()(),He._3(54,0,null,null,5,"input",[["class","form-control"],["name","amount"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,55)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,55).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,55)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,55)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.amount=n)&&r),r},null,null)),He._2(55,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(57,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(59,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(62,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Include()&&r),r},null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(64,0,null,null,0,"span",[["class","glyphicon glyphicon-floppy-disk"]],null,null,null,null,null)),(t()(),He._24(65,null,[" ","\n"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["       \n"])),(t()(),He._3(68,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(69,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n    ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(72,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,14,0,He._25(e,14,0,He._16(e,15).transform(n.lists))),t(e,29,0,"listname",!0,n.listname),t(e,43,0,"itemname",!n.selected,n.itemname),t(e,57,0,"amount",!n.selected,n.amount),t(e,72,0,n.erro)},function(t,e){var n=e.component;t(e,7,0,He._25(e,7,0,He._16(e,8).transform("t5"))),t(e,23,0,He._25(e,23,0,He._16(e,24).transform("t5"))),t(e,26,0,He._16(e,31).ngClassUntouched,He._16(e,31).ngClassTouched,He._16(e,31).ngClassPristine,He._16(e,31).ngClassDirty,He._16(e,31).ngClassValid,He._16(e,31).ngClassInvalid,He._16(e,31).ngClassPending),t(e,37,0,He._25(e,37,0,He._16(e,38).transform("t1"))),t(e,40,0,He._16(e,45).ngClassUntouched,He._16(e,45).ngClassTouched,He._16(e,45).ngClassPristine,He._16(e,45).ngClassDirty,He._16(e,45).ngClassValid,He._16(e,45).ngClassInvalid,He._16(e,45).ngClassPending),t(e,51,0,He._25(e,51,0,He._16(e,52).transform("t2"))),t(e,54,0,He._16(e,59).ngClassUntouched,He._16(e,59).ngClassTouched,He._16(e,59).ngClassPristine,He._16(e,59).ngClassDirty,He._16(e,59).ngClassValid,He._16(e,59).ngClassInvalid,He._16(e,59).ngClassPending),t(e,62,0,!n.selected),t(e,65,0,He._25(e,65,0,He._16(e,66).transform("t3")))})},Yu)),He._2(1,114688,null,0,wu,[hu,Bs],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),$u=He._1({encapsulation:0,styles:[[".selected[_ngcontent-%COMP%]{background-color:#cfd8dc!important;color:#fff}.items[_ngcontent-%COMP%]{list-style-type:none;padding:0}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:0;border-radius:4px;background-color:#aabadb;margin:5px 0;padding:8px 0 8px 10px}.items[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc!important;color:#fff}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.items[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.items[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:#115288;position:relative;margin-left:.8em;border-radius:0 4px 4px 0;float:right;padding:12px 16px;top:-8px}"]],data:{}}),tl=He.Z("app-bill-form",Iu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-bill-form",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(2,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(4,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(5,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(8,0,null,null,5,"input",[["class","form-control"],["name","billname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,9)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,9).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,9)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,9)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.billname=n)&&r),r},null,null)),He._2(9,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(11,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(13,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(16,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Include()&&r),r},null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(18,0,null,null,0,"span",[["class","glyphicon glyphicon-floppy-disk"]],null,null,null,null,null)),(t()(),He._24(19,null,[" ","\n"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["       \n"])),(t()(),He._3(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(25,0,null,null,5,"ul",[["class","items"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n        "])),(t()(),He._3(2,0,null,null,1,"span",[["class","badge"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelect(t.context.$implicit.id,t.context.$implicit.items)&&r),r},null,null)),(t()(),He._24(-1,null,["X"])),(t()(),He._24(-1,null,["    \n    "]))],null,function(t,e){t(e,1,0,e.context.$implicit.billname)})})),He._2(28,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["  \n"])),(t()(),He._3(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["   \n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(35,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),(t()(),He._24(-1,null,["  "]))],function(t,e){var n=e.component;t(e,11,0,"billname",n.billname),t(e,28,0,He._25(e,28,0,He._16(e,29).transform(n.bills))),t(e,35,0,n.erro)},function(t,e){t(e,5,0,He._25(e,5,0,He._16(e,6).transform("t14"))),t(e,8,0,He._16(e,13).ngClassUntouched,He._16(e,13).ngClassTouched,He._16(e,13).ngClassPristine,He._16(e,13).ngClassDirty,He._16(e,13).ngClassValid,He._16(e,13).ngClassInvalid,He._16(e,13).ngClassPending),t(e,19,0,He._25(e,19,0,He._16(e,20).transform("t3")))})},$u)),He._2(1,114688,null,0,Iu,[hu,Bs],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),el=He._1({encapsulation:0,styles:[[".dropdown[_ngcontent-%COMP%]{display:inline-block}.dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#337ab7}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;border-color:#2e6da4;color:#fff;padding:10px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#607d8b;left:.1em}.selected[_ngcontent-%COMP%]{background-color:#cfd8dc!important;color:#fff}.items[_ngcontent-%COMP%]{list-style-type:none;padding:0}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:0;border-radius:4px;background-color:#aabadb;margin:5px 0;padding:8px 0 8px 10px}.items[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc!important;color:#fff}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.items[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.items[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{cursor:pointer;color:#fff;background-color:#115288;position:relative;margin-left:.8em;border-radius:0 4px 4px 0;float:right;padding:12px 16px;top:-8px}.email[_ngcontent-%COMP%]{text-transform:lowercase}"]],data:{}}),nl=He.Z("app-bill-access",Nu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-bill-access",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(2,0,null,null,13,"div",[["class","dropdown"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(4,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(t()(),He._24(5,null,["","\n    "])),He._18(0,Eu,[hu]),(t()(),He._3(7,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(9,0,null,null,5,"ul",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"li",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelectList(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(1,null,["\n            ","\n        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.billname)})})),He._2(12,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["    \n"])),(t()(),He._3(17,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(18,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["   \n"])),(t()(),He._3(20,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(22,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(23,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(26,0,null,null,5,"input",[["class","form-control"],["name","billname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,27)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,27).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,27)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,27)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.billname=n)&&r),r},null,null)),He._2(27,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(29,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(31,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(34,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(36,0,null,null,1,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(-1,null,["E-mail"])),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(39,0,null,null,5,"input",[["class","form-control email"],["name","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,40)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,40).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,40)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,40)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.email=n)&&r),r},null,null)),He._2(40,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(42,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(44,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(47,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Include()&&r),r},null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(49,0,null,null,0,"span",[["class","glyphicon glyphicon-floppy-disk"]],null,null,null,null,null)),(t()(),He._24(50,null,[" ","\n"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["       \n"])),(t()(),He._3(53,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(54,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n    ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(57,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),(t()(),He._24(-1,null,[" \n"])),(t()(),He._3(59,0,null,null,4,"ul",[["class","items"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n        "])),(t()(),He._3(2,0,null,null,1,"span",[["class","badge"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onRemove(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(-1,null,["X"])),(t()(),He._24(-1,null,["    \n    "]))],null,function(t,e){t(e,1,0,e.context.$implicit.email)})})),He._2(62,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["        \n "]))],function(t,e){var n=e.component;t(e,12,0,He._25(e,12,0,He._16(e,13).transform(n.bills))),t(e,29,0,"billname",!0,n.billname),t(e,42,0,"email",!n.selected,n.email),t(e,57,0,n.erro),t(e,62,0,n.members)},function(t,e){var n=e.component;t(e,5,0,He._25(e,5,0,He._16(e,6).transform("t14"))),t(e,23,0,He._25(e,23,0,He._16(e,24).transform("t14"))),t(e,26,0,He._16(e,31).ngClassUntouched,He._16(e,31).ngClassTouched,He._16(e,31).ngClassPristine,He._16(e,31).ngClassDirty,He._16(e,31).ngClassValid,He._16(e,31).ngClassInvalid,He._16(e,31).ngClassPending),t(e,39,0,He._16(e,44).ngClassUntouched,He._16(e,44).ngClassTouched,He._16(e,44).ngClassPristine,He._16(e,44).ngClassDirty,He._16(e,44).ngClassValid,He._16(e,44).ngClassInvalid,He._16(e,44).ngClassPending),t(e,47,0,!n.selected),t(e,50,0,He._25(e,50,0,He._16(e,51).transform("t3")))})},el)),He._2(1,114688,null,0,Nu,[hu,Ca],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),rl=He._1({encapsulation:0,styles:[[".dropdown[_ngcontent-%COMP%]{display:inline-block;margin-bottom:15px}.dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#337ab7}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;border-color:#2e6da4;color:#fff;padding:10px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#607d8b;left:.1em}"]],data:{}}),il=He.Z("app-bill-item",Pu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-bill-item",[],null,null,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(2,0,null,null,13,"div",[["class","dropdown"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(4,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(t()(),He._24(5,null,["","\n    "])),He._18(0,Eu,[hu]),(t()(),He._3(7,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(9,0,null,null,5,"ul",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"li",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelectBill(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(1,null,["\n            ","\n        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.billname)})})),He._2(12,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["  \n"])),(t()(),He._3(17,0,null,null,12,"div",[["class","dropdown"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(19,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(t()(),He._24(20,null,["","\n    "])),He._18(0,Eu,[hu]),(t()(),He._3(22,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(24,0,null,null,4,"ul",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"li",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelectMember(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(1,null,["\n            ","\n        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.email)})})),He._2(27,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(31,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(33,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(34,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(37,0,null,null,5,"input",[["class","form-control"],["name","billname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,38)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,38).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,38)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,38)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.billname=n)&&r),r},null,null)),He._2(38,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(40,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(42,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(45,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(47,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(48,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(51,0,null,null,5,"input",[["class","form-control"],["name","payer"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,52)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,52).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,52)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,52)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.payer=n)&&r),r},null,null)),He._2(52,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(54,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(56,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(59,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(61,0,null,null,2,"label",[["for","date"]],null,null,null,null,null)),(t()(),He._24(62,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(65,0,null,null,5,"input",[["class","form-control"],["name","date"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,66)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,66).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,66)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,66)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.date=n)&&r),r},null,null)),He._2(66,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(68,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(70,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(73,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(75,0,null,null,2,"label",[["for","description"]],null,null,null,null,null)),(t()(),He._24(76,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(79,0,null,null,5,"input",[["class","form-control"],["name","place"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,80)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,80).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,80)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,80)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.place=n)&&r),r},null,null)),He._2(80,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(82,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(84,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(87,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(89,0,null,null,2,"label",[["for","description"]],null,null,null,null,null)),(t()(),He._24(90,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(93,0,null,null,5,"input",[["class","form-control"],["name","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,94)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,94).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,94)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,94)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.description=n)&&r),r},null,null)),He._2(94,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(96,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(98,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(101,0,null,null,55,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(103,0,null,null,2,"label",[["for","type"]],null,null,null,null,null)),(t()(),He._24(104,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(107,0,null,null,48,"select",[["class","form-control"],["name","type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==He._16(t,108).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,108).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.type=n)&&r),r},null,null)),He._2(108,16384,null,0,Oi,[He.B,He.k],null,null),He._21(1024,null,vi,function(t){return[t]},[Oi]),He._2(110,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(112,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(114,0,null,null,4,"option",[["value",""]],null,null,null,null,null)),He._2(115,147456,null,0,Ni,[He.k,He.B,[2,Oi]],{value:[0,"value"]},null),He._2(116,147456,null,0,Pi,[He.k,He.B,[8,null]],{value:[0,"value"]},null),(t()(),He._24(117,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(120,0,null,null,4,"option",[],null,null,null,null,null)),He._2(121,147456,null,0,Ni,[He.k,He.B,[2,Oi]],null,null),He._2(122,147456,null,0,Pi,[He.k,He.B,[8,null]],null,null),(t()(),He._24(123,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(126,0,null,null,4,"option",[],null,null,null,null,null)),He._2(127,147456,null,0,Ni,[He.k,He.B,[2,Oi]],null,null),He._2(128,147456,null,0,Pi,[He.k,He.B,[8,null]],null,null),(t()(),He._24(129,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(132,0,null,null,4,"option",[],null,null,null,null,null)),He._2(133,147456,null,0,Ni,[He.k,He.B,[2,Oi]],null,null),He._2(134,147456,null,0,Pi,[He.k,He.B,[8,null]],null,null),(t()(),He._24(135,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(138,0,null,null,4,"option",[],null,null,null,null,null)),He._2(139,147456,null,0,Ni,[He.k,He.B,[2,Oi]],null,null),He._2(140,147456,null,0,Pi,[He.k,He.B,[8,null]],null,null),(t()(),He._24(141,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(144,0,null,null,4,"option",[],null,null,null,null,null)),He._2(145,147456,null,0,Ni,[He.k,He.B,[2,Oi]],null,null),He._2(146,147456,null,0,Pi,[He.k,He.B,[8,null]],null,null),(t()(),He._24(147,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(150,0,null,null,4,"option",[],null,null,null,null,null)),He._2(151,147456,null,0,Ni,[He.k,He.B,[2,Oi]],null,null),He._2(152,147456,null,0,Pi,[He.k,He.B,[8,null]],null,null),(t()(),He._24(153,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n      "])),(t()(),He._24(-1,null,["          \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(158,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(160,0,null,null,2,"label",[["for","value"]],null,null,null,null,null)),(t()(),He._24(161,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(164,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(166,0,null,null,5,"input",[["class","form-control"],["name","value"],["placeholder","0,00"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,167)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,167).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,167)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,167)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.value=n)&&r),"ngModelChange"===e&&(r=!1!==i.onChange()&&r),r},null,null)),He._2(167,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(169,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(171,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["    \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(175,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(177,0,null,null,2,"label",[["for","value"]],null,null,null,null,null)),(t()(),He._24(178,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(181,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(183,0,null,null,5,"input",[["class","form-control"],["name","multiplier"],["placeholder","0,00"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,184)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,184).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,184)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,184)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.multiplier=n)&&r),"ngModelChange"===e&&(r=!1!==i.onChange()&&r),r},null,null)),He._2(184,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(186,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(188,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["    \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(192,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(194,0,null,null,2,"label",[["for","value"]],null,null,null,null,null)),(t()(),He._24(195,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(198,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(200,0,null,null,5,"input",[["class","form-control"],["disabled","disabled"],["name","calculated"],["placeholder","0,00"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,201)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,201).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,201)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,201)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.calculated=n)&&r),r},null,null)),He._2(201,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(203,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(205,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["    \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(209,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(211,0,null,null,2,"label",[["for","sel1"]],null,null,null,null,null)),(t()(),He._24(212,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(215,0,null,null,9,"select",[["class","form-control"],["id","sel1"],["multiple",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==He._16(t,216).onChange(n.target)&&r),"blur"===e&&(r=!1!==He._16(t,216).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(i.benefited=n)&&r),r},null,null)),He._2(216,16384,null,0,Ai,[He.B,He.k],null,null),He._21(1024,null,vi,function(t){return[t]},[Ai]),He._2(218,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(220,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["\n        "])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,3,"option",[],null,null,null,null,null)),He._2(1,147456,null,0,Ni,[He.k,He.B,[8,null]],{value:[0,"value"]},null),He._2(2,147456,null,0,Pi,[He.k,He.B,[2,Ai]],{value:[0,"value"]},null),(t()(),He._24(3,null,["\n            ","\n        "]))],function(t,e){t(e,1,0,e.context.$implicit.email),t(e,2,0,e.context.$implicit.email)},function(t,e){t(e,3,0,e.context.$implicit.email)})})),He._2(223,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),(t()(),He._24(-1,null,["      \n    "])),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(227,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Include()&&r),r},null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(229,0,null,null,0,"span",[["class","glyphicon glyphicon-floppy-disk"]],null,null,null,null,null)),(t()(),He._24(230,null,[" ","\n"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,[" \n"])),(t()(),He._3(233,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._3(234,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n    ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(237,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,12,0,He._25(e,12,0,He._16(e,13).transform(n.bills))),t(e,27,0,n.members),t(e,40,0,"billname",!0,n.billname),t(e,54,0,"payer",!0,n.payer),t(e,68,0,"date",!n.selected_member,n.date),t(e,82,0,"place",!n.selected_member,n.place),t(e,96,0,"description",!n.selected_member,n.description),t(e,110,0,"type",!n.selected_member,n.type),t(e,115,0,""),t(e,116,0,""),t(e,169,0,"value",!n.selected_member,n.value),t(e,186,0,"multiplier",!n.selected_member,n.multiplier),t(e,203,0,"calculated","disabled",n.calculated),t(e,218,0,!n.selected_member,n.benefited),t(e,223,0,n.members),t(e,237,0,n.erro)},function(t,e){var n=e.component;t(e,5,0,He._25(e,5,0,He._16(e,6).transform("t14"))),t(e,19,0,!n.selected_bill),t(e,20,0,He._25(e,20,0,He._16(e,21).transform("t16"))),t(e,34,0,He._25(e,34,0,He._16(e,35).transform("t14"))),t(e,37,0,He._16(e,42).ngClassUntouched,He._16(e,42).ngClassTouched,He._16(e,42).ngClassPristine,He._16(e,42).ngClassDirty,He._16(e,42).ngClassValid,He._16(e,42).ngClassInvalid,He._16(e,42).ngClassPending),t(e,48,0,He._25(e,48,0,He._16(e,49).transform("t16"))),t(e,51,0,He._16(e,56).ngClassUntouched,He._16(e,56).ngClassTouched,He._16(e,56).ngClassPristine,He._16(e,56).ngClassDirty,He._16(e,56).ngClassValid,He._16(e,56).ngClassInvalid,He._16(e,56).ngClassPending),t(e,62,0,He._25(e,62,0,He._16(e,63).transform("t17"))),t(e,65,0,He._16(e,70).ngClassUntouched,He._16(e,70).ngClassTouched,He._16(e,70).ngClassPristine,He._16(e,70).ngClassDirty,He._16(e,70).ngClassValid,He._16(e,70).ngClassInvalid,He._16(e,70).ngClassPending),t(e,76,0,He._25(e,76,0,He._16(e,77).transform("t25"))),t(e,79,0,He._16(e,84).ngClassUntouched,He._16(e,84).ngClassTouched,He._16(e,84).ngClassPristine,He._16(e,84).ngClassDirty,He._16(e,84).ngClassValid,He._16(e,84).ngClassInvalid,He._16(e,84).ngClassPending),t(e,90,0,He._25(e,90,0,He._16(e,91).transform("t11"))),t(e,93,0,He._16(e,98).ngClassUntouched,He._16(e,98).ngClassTouched,He._16(e,98).ngClassPristine,He._16(e,98).ngClassDirty,He._16(e,98).ngClassValid,He._16(e,98).ngClassInvalid,He._16(e,98).ngClassPending),t(e,104,0,He._25(e,104,0,He._16(e,105).transform("t26"))),t(e,107,0,He._16(e,112).ngClassUntouched,He._16(e,112).ngClassTouched,He._16(e,112).ngClassPristine,He._16(e,112).ngClassDirty,He._16(e,112).ngClassValid,He._16(e,112).ngClassInvalid,He._16(e,112).ngClassPending),t(e,117,0,He._25(e,117,0,He._16(e,118).transform("t33"))),t(e,123,0,He._25(e,123,0,He._16(e,124).transform("t27"))),t(e,129,0,He._25(e,129,0,He._16(e,130).transform("t28"))),t(e,135,0,He._25(e,135,0,He._16(e,136).transform("t29"))),t(e,141,0,He._25(e,141,0,He._16(e,142).transform("t30"))),t(e,147,0,He._25(e,147,0,He._16(e,148).transform("t31"))),t(e,153,0,He._25(e,153,0,He._16(e,154).transform("t32"))),t(e,161,0,He._25(e,161,0,He._16(e,162).transform("t18"))),t(e,166,0,He._16(e,171).ngClassUntouched,He._16(e,171).ngClassTouched,He._16(e,171).ngClassPristine,He._16(e,171).ngClassDirty,He._16(e,171).ngClassValid,He._16(e,171).ngClassInvalid,He._16(e,171).ngClassPending),t(e,178,0,He._25(e,178,0,He._16(e,179).transform("t35"))),t(e,183,0,He._16(e,188).ngClassUntouched,He._16(e,188).ngClassTouched,He._16(e,188).ngClassPristine,He._16(e,188).ngClassDirty,He._16(e,188).ngClassValid,He._16(e,188).ngClassInvalid,He._16(e,188).ngClassPending),t(e,195,0,He._25(e,195,0,He._16(e,196).transform("t36"))),t(e,200,0,He._16(e,205).ngClassUntouched,He._16(e,205).ngClassTouched,He._16(e,205).ngClassPristine,He._16(e,205).ngClassDirty,He._16(e,205).ngClassValid,He._16(e,205).ngClassInvalid,He._16(e,205).ngClassPending),t(e,212,0,He._25(e,212,0,He._16(e,213).transform("t19"))),t(e,215,0,He._16(e,220).ngClassUntouched,He._16(e,220).ngClassTouched,He._16(e,220).ngClassPristine,He._16(e,220).ngClassDirty,He._16(e,220).ngClassValid,He._16(e,220).ngClassInvalid,He._16(e,220).ngClassPending),t(e,227,0,!n.selected_member),t(e,230,0,He._25(e,230,0,He._16(e,231).transform(n.editmode?"t39":"t3")))})},rl)),He._2(1,114688,null,0,Pu,[hu,pu,Bs,Ts],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),ol=He._1({encapsulation:0,styles:[[".dropdown[_ngcontent-%COMP%]{display:inline-block;margin-bottom:15px}.dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#337ab7}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;border-color:#2e6da4;color:#fff;padding:10px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#607d8b;left:.1em}.items[_ngcontent-%COMP%]{list-style-type:none;padding:0}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:0;border-radius:4px;background-color:#aabadb;margin:5px 0;padding:8px 0 8px 10px}.items[_ngcontent-%COMP%]   li[aria-expanded=false][_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.items[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc!important;color:#fff}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.items[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;top:-3px}.alert[_ngcontent-%COMP%]{margin-top:20px}.right[_ngcontent-%COMP%]{text-align:right}"]],data:{}}),al=He.Z("app-bill-detail",Ru,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-bill-detail",[],null,null,null,function(t){return He._26(0,[He._18(0,Rn,[He.s]),He._18(0,In,[He.s]),(t()(),He._3(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(4,0,null,null,13,"div",[["class","dropdown"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(6,0,null,null,3,"button",[["class","btn btn-primary dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(t()(),He._24(7,null,["","\n    "])),He._18(0,Eu,[hu]),(t()(),He._3(9,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(11,0,null,null,5,"ul",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"li",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onSelectBill(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(1,null,["\n            ","\n        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.billname)})})),He._2(14,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,[" \n"])),(t()(),He._3(19,0,null,null,3,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.backup()&&r),r},null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(21,0,null,null,0,"span",[["class","glyphicon glyphicon-floppy-disk"]],null,null,null,null,null)),(t()(),He._24(-1,null,[" Backup\n"])),(t()(),He._24(-1,null,["   \n"])),(t()(),He._3(24,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(26,0,null,null,2,"label",[["for","pwd"]],null,null,null,null,null)),(t()(),He._24(27,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["  \n    "])),(t()(),He._3(30,0,null,null,5,"input",[["class","form-control"],["name","billname"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==He._16(t,31)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==He._16(t,31).onTouched()&&r),"compositionstart"===e&&(r=!1!==He._16(t,31)._compositionStart()&&r),"compositionend"===e&&(r=!1!==He._16(t,31)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.billname=n)&&r),r},null,null)),He._2(31,16384,null,0,wi,[He.B,He.k,[2,bi]],null,null),He._21(1024,null,vi,function(t){return[t]},[wi]),He._2(33,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,vi]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),He._21(2048,null,Ci,null,[Hi]),He._2(35,16384,null,0,Di,[Ci],null,null),(t()(),He._24(-1,null,["        \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),He._24(1,null,["\n    ","\n"]))],null,function(t,e){t(e,1,0,e.component.erro)})})),He._2(39,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(41,0,null,null,22,"table",[["class","table"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(43,0,null,null,12,"thead",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(45,0,null,null,9,"tr",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(47,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),He._24(48,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(51,0,null,null,2,"th",[["class","right"]],null,null,null,null,null)),(t()(),He._24(52,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(57,0,null,null,5,"tbody",[],null,null,null,null,null)),(t()(),He._24(-1,null,["     \n        "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,8,"tr",[],[[8,"className",0]],null,null,null,null)),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),He._24(3,null,["",""])),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(5,0,null,null,2,"td",[["class","right"]],null,null,null,null,null)),(t()(),He._24(6,null,["",""])),He._20(7,2),(t()(),He._24(-1,null,["\n        "]))],null,function(t,e){t(e,0,0,He._6(1,"",e.context.$implicit.value>0?"info":e.context.$implicit.value<0?"danger":"success","")),t(e,3,0,e.context.$implicit.emailf),t(e,6,0,He._25(e,6,0,t(e,7,0,He._16(e.parent,0),e.context.$implicit.value,"1.2-2")))})})),He._2(60,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(65,0,null,null,6,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(67,0,null,null,2,"strong",[],null,null,null,null,null)),(t()(),He._24(68,null,["",":"])),He._18(0,Eu,[hu]),(t()(),He._24(70,null,[" ","\n"])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(73,0,null,null,5,"ul",[["class","items"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,52,"li",[["aria-expanded","false"],["data-toggle","collapse"]],[[1,"data-target",0]],null,null,null,null)),(t()(),He._24(1,null,["\n        ","\n        "])),He._20(2,2),(t()(),He._3(3,0,null,null,48,"div",[["class","collapse"]],[[8,"id",0]],null,null,null,null)),(t()(),He._24(4,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),He._20(6,2),(t()(),He._3(7,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(8,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),(t()(),He._3(10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(11,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),(t()(),He._3(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(14,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),(t()(),He._3(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(17,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),(t()(),He._3(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(20,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),He._20(22,2),(t()(),He._3(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(24,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),He._20(26,2),(t()(),He._3(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(28,null,["\n            ",": ",""])),He._18(0,Eu,[hu]),He._20(30,2),(t()(),He._3(31,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(32,null,["\n            ",":"])),He._18(0,Eu,[hu]),(t()(),He._3(34,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n            "])),(t()(),He.Y(16777216,null,null,1,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),He._24(1,null,["\n                ",""])),(t()(),He._3(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n            "]))],null,function(t,e){t(e,1,0,e.context.$implicit)})})),He._2(37,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),(t()(),He._3(38,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(40,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onRemove(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(-1,null,["\n                "])),(t()(),He._3(42,0,null,null,0,"span",[["class","glyphicon glyphicon-trash"]],null,null,null,null,null)),(t()(),He._24(43,null,[" ","\n            "])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(46,0,null,null,4,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onEdit(t.context.$implicit)&&r),r},null,null)),(t()(),He._24(-1,null,["\n                "])),(t()(),He._3(48,0,null,null,0,"span",[["class","glyphicon glyphicon-pencil"]],null,null,null,null,null)),(t()(),He._24(49,null,[" ","\n            "])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["                     \n        "])),(t()(),He._24(-1,null,["        \n    "]))],function(t,e){t(e,37,0,e.context.$implicit.benefited)},function(t,e){t(e,0,0,He._6(1,"#",e.context.$implicit.itemkey,"")),t(e,1,0,He._25(e,1,0,t(e,2,0,He._16(e.parent,1),e.context.$implicit.date,"dd/MM"))+" - "+e.context.$implicit.description),t(e,3,0,He._6(1,"",e.context.$implicit.itemkey,"")),t(e,4,0,He._25(e,4,0,He._16(e,5).transform("t17")),He._25(e,4,1,t(e,6,0,He._16(e.parent,1),e.context.$implicit.date,"dd/MM/yyyy"))),t(e,8,0,He._25(e,8,0,He._16(e,9).transform("t34")),e.context.$implicit.owner),t(e,11,0,He._25(e,11,0,He._16(e,12).transform("t16")),e.context.$implicit.payer),t(e,14,0,He._25(e,14,0,He._16(e,15).transform("t25")),e.context.$implicit.place),t(e,17,0,He._25(e,17,0,He._16(e,18).transform("t26")),e.context.$implicit.type),t(e,20,0,He._25(e,20,0,He._16(e,21).transform("t18")),He._25(e,20,1,t(e,22,0,He._16(e.parent,0),e.context.$implicit.value,"1.2-2"))),t(e,24,0,He._25(e,24,0,He._16(e,25).transform("t35")),He._25(e,24,1,t(e,26,0,He._16(e.parent,0),e.context.$implicit.multiplier,"1.3-3"))),t(e,28,0,He._25(e,28,0,He._16(e,29).transform("t36")),He._25(e,28,1,t(e,30,0,He._16(e.parent,0),e.context.$implicit.calculated,"1.2-2"))),t(e,32,0,He._25(e,32,0,He._16(e,33).transform("t19"))),t(e,43,0,He._25(e,43,0,He._16(e,44).transform("t37"))),t(e,49,0,He._25(e,49,0,He._16(e,50).transform("t38")))})})),He._2(76,802816,null,0,pn,[He.M,He.J,He.q],{ngForOf:[0,"ngForOf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["    \n"])),(t()(),He._24(-1,null,["    "]))],function(t,e){var n=e.component;t(e,14,0,He._25(e,14,0,He._16(e,15).transform(n.bills))),t(e,33,0,"billname",!0,n.billname),t(e,39,0,n.erro),t(e,60,0,He._25(e,60,0,He._16(e,61).transform(n.members))),t(e,76,0,He._25(e,76,0,He._16(e,77).transform(n.items)))},function(t,e){var n=e.component;t(e,7,0,He._25(e,7,0,He._16(e,8).transform("t14"))),t(e,19,0,!n.billname),t(e,27,0,He._25(e,27,0,He._16(e,28).transform("t14"))),t(e,30,0,He._16(e,35).ngClassUntouched,He._16(e,35).ngClassTouched,He._16(e,35).ngClassPristine,He._16(e,35).ngClassDirty,He._16(e,35).ngClassValid,He._16(e,35).ngClassInvalid,He._16(e,35).ngClassPending),t(e,48,0,He._25(e,48,0,He._16(e,49).transform("t22"))),t(e,52,0,He._25(e,52,0,He._16(e,53).transform("t23"))),t(e,68,0,He._25(e,68,0,He._16(e,69).transform("t24"))),t(e,70,0,He._25(e,70,0,He._16(e,71).transform("m6")))})},ol)),He._2(1,114688,null,0,Ru,[hu,pu,Ts,Bs],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),sl=He._1({encapsulation:0,styles:[[".icone[_ngcontent-%COMP%], .version[_ngcontent-%COMP%]{float:right}.icone[_ngcontent-%COMP%]{margin:10px;cursor:pointer}.flag[_ngcontent-%COMP%]{float:left;margin:10px 0 0 10px}.home[_ngcontent-%COMP%]{float:left;width:20px;height:20px}"]],data:{}}),ul=He.Z("app-root",Vu,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,1,"app-root",[],null,null,null,function(t){return He._26(0,[(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,6,"div",[["class","icone"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(2,0,null,null,3,"span",[["class","glyphicon glyphicon-off"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout()&&r),r},null,null)),He._2(3,278528,null,0,yn,[He.r,He.k,He.B],{ngStyle:[0,"ngStyle"]},null),He._18(131072,kn,[He.h]),He._19(5,{color:0}),(t()(),He._24(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,3,0,t(e,5,0,He._25(e,3,0,He._16(e,4).transform(n.appService.isConnected))?"green":"red"))},null)})),He._2(1,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(4,0,null,null,0,"img",[["class","flag"],["src","/assets/images/flagBR.png"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.language(1)&&r),r},null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(6,0,null,null,0,"img",[["class","flag"],["src","/assets/images/flagUS.png"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.language(2)&&r),r},null,null)),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(8,0,null,null,11,"div",[["class","jumbotron text-center"]],null,null,null,null,null)),(t()(),He._24(-1,null,["    \n    "])),(t()(),He._3(10,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),He._24(11,null,["",""])),(t()(),He._24(-1,null,["    \n    "])),(t()(),He._3(13,0,null,null,1,"div",[["class","version"]],null,null,null,null,null)),(t()(),He._24(14,null,["",""])),(t()(),He._24(-1,null,["        \n    "])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,0,"img",[["class","home"],["src","/assets/images/home.png"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.menu()&&r),r},null,null))],null,null)})),He._2(17,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["    \n"])),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,40,"div",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n    "])),(t()(),He._3(2,0,null,null,37,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(4,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(5,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,1,{links:1}),He._22(603979776,2,{linksWithHrefs:1}),(t()(),He._3(8,0,null,null,3,"a",[["routerLink","/list-detail"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(9,671744,[[2,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(10,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(13,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(14,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,3,{links:1}),He._22(603979776,4,{linksWithHrefs:1}),(t()(),He._3(17,0,null,null,3,"a",[["routerLink","/list-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(18,671744,[[4,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(19,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(22,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(23,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,5,{links:1}),He._22(603979776,6,{linksWithHrefs:1}),(t()(),He._3(26,0,null,null,3,"a",[["routerLink","/list-form"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(27,671744,[[6,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(28,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(31,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(32,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,7,{links:1}),He._22(603979776,8,{linksWithHrefs:1}),(t()(),He._3(35,0,null,null,3,"a",[["routerLink","/list-access"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(36,671744,[[8,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(37,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n    "])),(t()(),He._24(-1,null,["\n"]))],function(t,e){t(e,5,0,"active"),t(e,9,0,"/list-detail"),t(e,14,0,"active"),t(e,18,0,"/list-item"),t(e,23,0,"active"),t(e,27,0,"/list-form"),t(e,32,0,"active"),t(e,36,0,"/list-access")},function(t,e){t(e,8,0,He._16(e,9).target,He._16(e,9).href),t(e,10,0,He._25(e,10,0,He._16(e,11).transform("t12"))),t(e,17,0,He._16(e,18).target,He._16(e,18).href),t(e,19,0,He._25(e,19,0,He._16(e,20).transform("t11"))),t(e,26,0,He._16(e,27).target,He._16(e,27).href),t(e,28,0,He._25(e,28,0,He._16(e,29).transform("t10"))),t(e,35,0,He._16(e,36).target,He._16(e,36).href),t(e,37,0,He._25(e,37,0,He._16(e,38).transform("t13")))})})),He._2(22,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n"])),(t()(),He.Y(16777216,null,null,2,null,function(t){return He._26(0,[(t()(),He._3(0,0,null,null,40,"div",[],null,null,null,null,null)),(t()(),He._24(-1,null,["\n        "])),(t()(),He._3(2,0,null,null,37,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(4,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(5,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,9,{links:1}),He._22(603979776,10,{linksWithHrefs:1}),(t()(),He._3(8,0,null,null,3,"a",[["routerLink","/bill-detail"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(9,671744,[[10,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(10,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(13,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(14,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,11,{links:1}),He._22(603979776,12,{linksWithHrefs:1}),(t()(),He._3(17,0,null,null,3,"a",[["routerLink","/bill-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(18,671744,[[12,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(19,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(22,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(23,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,13,{links:1}),He._22(603979776,14,{linksWithHrefs:1}),(t()(),He._3(26,0,null,null,3,"a",[["routerLink","/bill-form"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(27,671744,[[14,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(28,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n            "])),(t()(),He._3(31,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),He._2(32,1720320,null,2,Gs,[Bs,He.k,He.B,He.h],{routerLinkActive:[0,"routerLinkActive"]},null),He._22(603979776,15,{links:1}),He._22(603979776,16,{linksWithHrefs:1}),(t()(),He._3(35,0,null,null,3,"a",[["routerLink","/bill-access"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==He._16(t,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),He._2(36,671744,[[16,4]],0,Hs,[Bs,Ts,ze],{routerLink:[0,"routerLink"]},null),(t()(),He._24(37,null,["",""])),He._18(0,Eu,[hu]),(t()(),He._24(-1,null,["\n        "])),(t()(),He._24(-1,null,["\n    "]))],function(t,e){t(e,5,0,"active"),t(e,9,0,"/bill-detail"),t(e,14,0,"active"),t(e,18,0,"/bill-item"),t(e,23,0,"active"),t(e,27,0,"/bill-form"),t(e,32,0,"active"),t(e,36,0,"/bill-access")},function(t,e){t(e,8,0,He._16(e,9).target,He._16(e,9).href),t(e,10,0,He._25(e,10,0,He._16(e,11).transform("t12"))),t(e,17,0,He._16(e,18).target,He._16(e,18).href),t(e,19,0,He._25(e,19,0,He._16(e,20).transform("t11"))),t(e,26,0,He._16(e,27).target,He._16(e,27).href),t(e,28,0,He._25(e,28,0,He._16(e,29).transform("t15"))),t(e,35,0,He._16(e,36).target,He._16(e,36).href),t(e,37,0,He._25(e,37,0,He._16(e,38).transform("t13")))})})),He._2(26,16384,null,0,dn,[He.M,He.J],{ngIf:[0,"ngIf"]},null),He._18(131072,kn,[He.h]),(t()(),He._24(-1,null,["\n"])),(t()(),He._3(29,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),He._2(30,212992,null,0,zs,[Qs,He.M,He.j,[8,null],He.h],null,null)],function(t,e){var n=e.component;t(e,1,0,He._25(e,1,0,He._16(e,2).transform(n.appService.isSignin))),t(e,17,0,He._25(e,17,0,He._16(e,18).transform("/menu"!=n.router.url&&n.appService.isSignin))),t(e,22,0,He._25(e,22,0,He._16(e,23).transform(n.appService.lists.indexOf(n.router.url.split("/")[1])>=0&&n.appService.isSignin))),t(e,26,0,He._25(e,26,0,He._16(e,27).transform(n.appService.bills.indexOf(n.router.url.split("/")[1])>=0&&n.appService.isSignin))),t(e,30,0)},function(t,e){var n=e.component;t(e,11,0,n.title),t(e,14,0,n.version)})},sl)),He._2(1,49152,null,0,Vu,[hu,Ca,Bs],null,null)],null,null)},{},{},[]),ll=He._0(ju,[Vu],function(t){return He._14([He._15(512,He.j,He.W,[[8,[qu,Hu,Ku,zu,Xu,Zu,tl,nl,il,al,ul]],[3,He.j],He.v]),He._15(5120,He.s,He._13,[[3,He.s]]),He._15(4608,ln,cn,[He.s,[2,un]]),He._15(5120,He.c,He._4,[]),He._15(5120,He.q,He._10,[]),He._15(5120,He.r,He._11,[]),He._15(4608,qr,Wr,[xn]),He._15(6144,He.E,null,[qr]),He._15(4608,_r,br,[]),He._15(5120,Yn,function(t,e,n,r,i){return[new mr(t,e),new Sr(n),new wr(r,i)]},[xn,He.x,xn,xn,_r]),He._15(4608,Zn,Zn,[Yn,He.x]),He._15(135680,er,er,[xn]),He._15(4608,ar,ar,[Zn,er]),He._15(6144,He.C,null,[ar]),He._15(6144,tr,null,[er]),He._15(4608,He.K,He.K,[He.x]),He._15(4608,Gn,Gn,[xn]),He._15(4608,Jn,Jn,[xn]),He._15(4608,Si,Si,[]),He._15(4608,zi,zi,[]),He._15(4608,to,eo,[]),He._15(5120,no,function(){return new co},[]),He._15(4608,ho,ho,[zi,to,no]),He._15(4608,po,fo,[]),He._15(5120,wo,function(t,e){return new wo(t,e)},[ho,po]),He._15(5120,To,function(t,e){try{return e?Co.initializeApp(t,e):Co.initializeApp(t)}catch(t){return Co.app("app/duplicate-app"===t.code?t.name:null)}},[So,ko]),He._15(4608,Ca,Ca,[To]),He._15(5120,Ts,je,[Bs]),He._15(4608,Zs,Zs,[]),He._15(6144,Xs,null,[Zs]),He._15(135680,$s,$s,[Bs,He.u,He.i,He.p,Xs]),He._15(4608,Ys,Ys,[]),He._15(5120,ou,qe,[iu]),He._15(5120,He.b,function(t){return[t]},[ou]),He._15(5120,wa,function(t,e){return new wa(t,e)},[To,Ea]),He._15(4608,hu,hu,[wa,Bs,Ts,Ca]),He._15(4608,Fu,Fu,[hu,Bs,Ts]),He._15(5120,aa,function(t){return new aa(t)},[To]),He._15(4608,pu,pu,[]),He._15(512,Dn,Dn,[]),He._15(1024,He.l,function(){return new He.l},[]),He._15(1024,He.w,function(){return[Me()]},[]),He._15(512,iu,iu,[He.p]),He._15(1024,He.d,function(t,e){return[function(t){return T("probe",I),T("coreTokens",Object(Ge.a)({},Xn,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return I}}(t),Be(e)]},[[2,He.w],iu]),He._15(512,He.e,He.e,[[2,He.d]]),He._15(131584,He.g,He.g,[He.x,He.X,He.p,He.l,He.j,He.e]),He._15(512,He.f,He.f,[He.g]),He._15(512,Zr,Zr,[[3,Zr]]),He._15(512,Cu,Cu,[]),He._15(512,Ki,Ki,[]),He._15(512,Qi,Qi,[]),He._15(512,Eo,Eo,[]),He._15(512,Su,Su,[]),He._15(512,Du,Du,[]),He._15(512,Mu,Mu,[]),He._15(1024,eu,Fe,[[3,Bs]]),He._15(512,ps,fs,[]),He._15(512,Qs,Qs,[]),He._15(256,tu,{},[]),He._15(1024,ze,Le,[Ke,[2,Je],tu]),He._15(512,Xe,Xe,[ze]),He._15(512,He.i,He.i,[]),He._15(512,He.u,He.H,[He.i,[2,He.I]]),He._15(1024,Fs,function(){return[[{path:"",redirectTo:"/menu",pathMatch:"full"},{path:"login",component:xu},{path:"menu",component:Lu,canActivate:[Fu]},{path:"list-detail",component:gu,canActivate:[Fu]},{path:"list-form",component:mu,canActivate:[Fu]},{path:"list-access",component:_u,canActivate:[Fu]},{path:"list-item",component:wu,canActivate:[Fu]},{path:"bill-form",component:Iu,canActivate:[Fu]},{path:"bill-access",component:Nu,canActivate:[Fu]},{path:"bill-item",component:Pu,canActivate:[Fu]},{path:"bill-item/:data",component:Pu,canActivate:[Fu]},{path:"bill-detail",component:Ru,canActivate:[Fu]},{path:"bill-detail/:id1/:id2",component:Ru,canActivate:[Fu]}]]},[]),He._15(1024,Bs,Ve,[He.g,ps,Qs,Xe,He.p,He.u,He.i,Fs,tu,[2,Vs],[2,Ms]]),He._15(512,ru,ru,[[2,eu],[2,Bs]]),He._15(512,Uu,Uu,[]),He._15(512,Ro,Ro,[]),He._15(512,sa,sa,[]),He._15(512,ju,ju,[]),He._15(256,So,{apiKey:"AIzaSyAT0RaduvnW2j2B_wXq8wW7VN6I6Ju37hE",authDomain:"simplesapprealtime-60890.firebaseapp.com",databaseURL:"https://simplesapprealtime-60890.firebaseio.com",projectId:"simplesapprealtime-60890",storageBucket:"",messagingSenderId:"598037447832"},[]),He._15(256,ko,void 0,[]),He._15(256,Ea,!0,[])])});Object(He.Q)(),Yr().bootstrapModuleFactory(ll)},"ce4+":function(t,e,n){n("usOC")},cm6g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/HC2");e.StatsManager=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new r.StatsCollection),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}()},ctu8:function(t,e){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){if(t.call(r,e[i],i,e))return i;i++}return-1}})},dVae:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("isNy"),o=n("fvGz"),a=n("F1yO"),s=n("JEJ4"),u=function(){return r||(r=new i.SortedMap(a.stringCompare)),r};e.ImmutableTree=function(){function t(t,e){void 0===e&&(e=u()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return s.forEach(e,function(t,e){n=n.set(new o.Path(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:o.Path.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new o.Path(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(o.Path.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,o.Path.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,o.Path.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(o.Path.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}()},"e9+7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e=[],n=0,r=0;r<t.length;r++){for(var i=t.charCodeAt(r);i>255;)e[n++]=255&i,i>>=8;e[n++]=i}return e};e.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){if(t.length<8192)return String.fromCharCode.apply(null,t);for(var e="",n=0;n<t.length;n+=8192){var r=t.slice(n,n+8192);e+=String.fromCharCode.apply(null,r)}return e}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e.base64Encode=function(t){var n=r(t);return e.base64.encodeByteArray(n,!0)},e.base64Decode=function(t){try{return e.base64.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}},ertD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Change=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}()},fAJX:function(t,e,n){(function(t){var e=function(){if(void 0!==t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("unable to locate global object")}();"undefined"==typeof Promise&&(e.Promise=Promise=n("mNfF"))}).call(e,n("fRUx"))},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},fvGz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("JEJ4");e.Path=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),o=0;o<n.length&&o<i.length;o++){var a=r.nameCompare(n[o],i[o]);if(0!==a)return a}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),e.ValidationPath=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=i.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=i.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=i.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}()},gOHv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(e.OperationType||(e.OperationType={})),e.OperationSource=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,r.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}()},grVA:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},hFw6:function(t,e,n){"use strict";function r(){return Et}function i(t){Et=t}function o(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Et<=_t.DEBUG){var i=(new Date).toISOString(),o=n.map(s);console.log.apply(console,["Firestore ("+wt+") "+i+" ["+t+"]: "+e].concat(o))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Et<=_t.ERROR){var r=(new Date).toISOString(),i=e.map(s);console.error.apply(console,["Firestore ("+wt+") "+r+": "+t].concat(i))}}function s(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function u(t){var e="FIRESTORE ("+wt+") INTERNAL ASSERTION FAILED: "+t;throw a(e),new Error(e)}function l(t,e){t||u(e)}function c(){return Ct.getPlatform().emptyByteString}function h(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new It(Tt.INVALID_ARGUMENT,t)}n.prototype=t.prototype;for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=parseInt(n,10);isNaN(r)||e(r,t[n])}}function d(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g(t){l(null!=t&&"object"==typeof t,"isEmpty() expects object parameter.");for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function y(t){l(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function m(t,e,n){if(e.length!==n)throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() requires "+k(n,"argument")+", but was called with "+k(e.length,"argument")+".")}function v(t,e,n){if(e.length<n)throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() requires at least "+k(n,"argument")+", but was called with "+k(e.length,"argument")+".")}function _(t,e,n,r){if(e.length<n||e.length>r)throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+k(e.length,"argument")+".")}function b(t,e,n,r){S(t,e,P(n)+" argument",r)}function w(t,e,n,r){void 0!==r&&b(t,e,n,r)}function E(t,e,n,r){S(t,e,n+" option",r)}function C(t,e,n,r){void 0!==r&&E(t,e,n,r)}function S(t,e,n,r){if(typeof r!==e||"object"===e&&!T(r)){var i=I(r);throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function T(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function I(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":u("Unknown wrong type: "+typeof t)}function O(t,e,n){if(void 0===n)throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+P(e)+" argument, but it was undefined.")}function N(t,e,n){d(e,function(e,r){if(n.indexOf(e)<0)throw new It(Tt.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function A(t,e,n,r){var i=I(r);return new It(Tt.INVALID_ARGUMENT,"Function "+t+"() requires its "+P(n)+" argument to be a "+e+", but it was: "+i)}function P(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function k(t,e){return t+" "+e+(1===t?"":"s")}function R(t,e){return t<e?-1:t>e?1:0}function D(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}function x(){if("undefined"==typeof Uint8Array)throw new It(Tt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function M(){if(!Ct.getPlatform().base64Available)throw new It(Tt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function L(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function F(t){return null===t||void 0===t}function U(t){switch(t){case Tt.OK:return u("Treated status OK as error");case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0;default:return u("Unknown status code: "+t)}}function V(t){switch(t){case Pe.OK:return Tt.OK;case Pe.CANCELLED:return Tt.CANCELLED;case Pe.UNKNOWN:return Tt.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return Tt.INTERNAL;case Pe.UNAVAILABLE:return Tt.UNAVAILABLE;case Pe.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case Pe.NOT_FOUND:return Tt.NOT_FOUND;case Pe.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case Pe.ABORTED:return Tt.ABORTED;case Pe.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case Pe.DATA_LOSS:return Tt.DATA_LOSS;default:return u("Unknown status code: "+t)}}function j(){return je}function B(){return Be}function q(){return qe}function W(){return We}function H(t,e){e.length>0&&(t.resumeToken=e)}function G(t,e){l(!F(t),e+" is missing")}function K(t){return"number"==typeof t?t:"string"==typeof t?parseInt(t,10):u("can't parse "+t)}function Q(t,e,n){return e===n||!e&&n in t}function z(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=J(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=xn+Ln;break;case xn:n+=xn+Fn;break;default:n+=o}}return n}(t.get(n),e);return J(e)}function J(t){return t+xn+Mn}function X(t){var e=t.length;if(l(e>=2,"Invalid path "+t),2===e)return l(t.charAt(0)===xn&&t.charAt(1)===Mn,"Non-empty path "+t+" had length 2"),Mt.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(xn,o);switch((a<0||a>n)&&u('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case Mn:var s=t.substring(o,a),c=void 0;0===i.length?c=s:(c=i+=s,i=""),r.push(c);break;case Ln:i+=t.substring(o,a),i+="\0";break;case Fn:i+=t.substring(o,a+1);break;default:u('Invalid encoded resource path: "'+t+'"')}o=a+2}return new Mt(r)}function Y(t){return new _n(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}function Z(t){return l("string"==typeof t,"Persisting non-string stream token not supported."),t}function $(t){return nt(t,Bn.store)}function tt(t){return nt(t,qn.store)}function et(t){return nt(t,jn.store)}function nt(t,e){return t instanceof Xn?t.store(e):u("Invalid transaction object provided!")}function rt(t){return at(t,Hn.store)}function it(t){return at(t,Kn.store)}function ot(t){return at(t,Gn.store)}function at(t,e){return t instanceof Xn?t.store(e):u("Invalid transaction object provided!")}function st(t){return t instanceof Xn?t.store(Wn.store):u("Invalid transaction object provided!")}function ut(t){return t.path.toArray()}function lt(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t,["next","error","complete"])}function ct(t){switch(t){case yr.Set:case yr.MergeSet:case yr.Update:return!0;case yr.QueryValue:return!1;default:throw u("Unexpected case for UserDataSource: "+t)}}function ht(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof Nt||t instanceof Gr||t instanceof Fr)}function pt(t,e,n){if(!ht(n)||!T(n)){var r=I(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function ft(t,e){if(e instanceof ln)return e._internalPath;if("string"==typeof e)return dt(t,e);throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function dt(t,e){try{return function(t){if(t.search(cn)>=0)throw new It(Tt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ln.bind.apply(ln,[void 0].concat(t.split("."))))}catch(e){throw new It(Tt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=gt(e);throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function gt(t){return t instanceof Error?t.message:t.toString()}function yt(t,e){return void 0===e?{merge:!1}:(N(t,e,["merge"]),C(t,"boolean","merge",e.merge),e)}function mt(t,e,n){if(e instanceof ei){if(e.firestore!==n)throw new It(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw A(t,"DocumentReference",1,e)}function vt(t){t.INTERNAL.registerService("firestore",function(t){return new Zr(t)},y(di))}Object.defineProperty(e,"__esModule",{value:!0});var _t,bt=n("XtH8"),wt=bt.default.SDK_VERSION;!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(_t=_t||(_t={}));var Et=_t.ERROR,Ct=function(){function t(){}return t.setPlatform=function(e){t.platform&&u("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||u("Platform not set"),t.platform},t}(),St=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},It=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return St(e,t),e}(Error),Ot=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return l(20===e.length,"Invalid auto ID: "+e),e},t}(),Nt=function(){function t(t){M(),this._binaryString=t}return t.fromBase64String=function(e){m("Blob.fromBase64String",arguments,1),b("Blob.fromBase64String","string",1,e),M();try{return new t(Ct.getPlatform().atob(e))}catch(t){throw new It(Tt.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(m("Blob.fromUint8Array",arguments,1),x(),!(e instanceof Uint8Array))throw A("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return m("Blob.toBase64",arguments,0),M(),Ct.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){m("Blob.toUint8Array",arguments,0),x();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype._equals=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return R(this._binaryString,t._binaryString)},t}(),At=h(Nt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Pt=function(){function t(t,e){if(m("GeoPoint",arguments,2),b("GeoPoint","number",1,t),b("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new It(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new It(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype._equals=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return R(this._lat,t._lat)||R(this._long,t._long)},t}(),kt="(default)",Rt=function(){function t(t,e){this.projectId=t,this.database=e||kt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===kt},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return R(this.projectId,t.projectId)||R(this.database,t.database)},t}(),Dt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&u("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&u("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):u("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,l(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return l(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return l(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return l(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return l(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dt(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new It(Tt.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(xt),Lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dt(e,t),e.isValidIdentifier=function(t){return Lt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new It(Tt.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new It(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new It(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new It(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(xt),Ut=function(){function t(e){this.path=e,l(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.equals=function(t){return null!==t&&0===Mt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Mt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Mt(e.slice()))},t.fromPathString=function(e){return new t(Mt.fromString(e))},t.EMPTY=new t(new Mt([])),t}(),Vt=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.version.equals(e.version)&&this.data.equals(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return Ut.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):u("Trying to compare documents on fields that don't exist")},t}(),jt=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.equals=function(t){return t&&t.version.equals(this.version)&&t.key.equals(this.key)},t.compareByKey=function(t,e){return Ut.comparator(t.key,e.key)},t}(),Bt=function(){function t(t,e){this.comparator=t,this.root=e||Wt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e=this.root,n=null;!e.isEmpty();){var r=this.comparator(t,e.key);if(0===r){if(e.left.isEmpty())return n?n.key:null;for(e=e.left;!e.right.isEmpty();)e=e.right;return e.key}r<0?e=e.left:r>0&&(n=e,e=e.right)}throw u("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(t){return new qt(this.root,null,this.comparator,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new qt(this.root,t,this.comparator,!1,e)},t.prototype.getReverseIterator=function(t){return new qt(this.root,null,this.comparator,!0,t)},t.prototype.getReverseIteratorFrom=function(t,e){return new qt(this.root,t,this.comparator,!0,e)},t}(),qt=function(){function t(t,e,n,r,i){this.resultGenerator=i||null,this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){l(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t,e=this.nodeStack.pop();if(t=this.resultGenerator?this.resultGenerator(e.key,e.value):{key:e.key,value:e.value},this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return this.resultGenerator?this.resultGenerator(t.key,t.value):{key:t.key,value:t.value}},t}(),Wt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw u("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw u("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();Wt.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Wt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ht,Gt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(Ht=Ht||(Ht={}));var Kt,Qt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return l(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),R(this.typeOrder,t.typeOrder)},t}(),zt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Ht.NullValue,e.internalValue=null,e}return Gt(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Qt),Jt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.BooleanValue,n}return Gt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?R(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Qt),Xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.NumberValue,n}return Gt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?function(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Qt),Yt=function(t){function e(e){return t.call(this,e)||this}return Gt(e,t),e.prototype.equals=function(t){return t instanceof e&&L(this.internalValue,t.internalValue)},e}(Xt),Zt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return Gt(e,t),e.prototype.equals=function(t){return t instanceof e&&L(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Xt),$t=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.StringValue,n}return Gt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?R(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Qt),te=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.TimestampValue,n}return Gt(e,t),e.prototype.value=function(){return this.internalValue.toDate()},e.prototype.equals=function(t){return t instanceof e&&this.internalValue.equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof ee?-1:this.defaultCompareTo(t)},e}(Qt),ee=function(t){function e(e){var n=t.call(this)||this;return n.localWriteTime=e,n.typeOrder=Ht.TimestampValue,n}return Gt(e,t),e.prototype.value=function(){return null},e.prototype.equals=function(t){return t instanceof e&&this.localWriteTime.equals(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof te?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Qt),ne=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.BlobValue,n}return Gt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Qt),re=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Ht.RefValue,r}return Gt(e,t),e.prototype.value=function(){return this.key},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.databaseId.equals(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:Ut.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Qt),ie=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.GeoPointValue,n}return Gt(e,t),e.prototype.value=function(){return this.internalValue},e.prototype.equals=function(t){return t instanceof e&&this.internalValue._equals(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Qt),oe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.ObjectValue,n}return Gt(e,t),e.prototype.value=function(){var t={};return this.internalValue.inorderTraversal(function(e,n){t[e]=n.value()}),t},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.equals=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.equals(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=R(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return R(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(l(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(l(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){l(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t)||void 0:void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Bt(R)),e}(Qt),ae=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ht.ArrayValue,n}return Gt(e,t),e.prototype.value=function(){return this.internalValue.map(function(t){return t.value()})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.equals=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].equals(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return R(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(Qt),se=Number,ue=se.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),le=se.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ce=se.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},he=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[_e]:[new ve(t),_e];else{l(null===t||null!==e&&t.equals(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ye.ASCENDING)===ye.ASCENDING?_e:be)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){l(null==this.getInequalityFilterField()||!(e instanceof fe)||!e.isInequality()||e.field.equals(this.getInequalityFilterField()),"Query must only have one inequality field."),l(!Ut.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){l(!Ut.isDocumentKey(this.path),"No ordering allowed for document query"),l(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";F(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),F(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.equals=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].equals(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var e=0;e<this.filters.length;e++)if(!this.filters[e].equals(t.filters[e]))return!1;return!!this.path.equals(t.path)&&!(null!==this.startAt?!this.startAt.equals(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.equals(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return l(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!F(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof fe&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return Ut.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return Ut.isDocumentKey(this.path)?this.path.equals(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){l(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),pe=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return u("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.equals=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}(),fe=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){l(this.value instanceof re,"Comparing on key, but filter value not a RefValue");var e=Ut.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case pe.LESS_THAN:return t<0;case pe.LESS_THAN_OR_EQUAL:return t<=0;case pe.EQUAL:return 0===t;case pe.GREATER_THAN:return t>0;case pe.GREATER_THAN_OR_EQUAL:return t>=0;default:return u("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==pe.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.equals=function(e){return e instanceof t&&this.op.equals(e.op)&&this.field.equals(e.field)&&this.value.equals(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(),de=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),ge=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.equals=function(e){return e instanceof t&&this.field.equals(e.field)},t}(),ye=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),me=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){l(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())l(o instanceof re,"Bound has a non-key value where the key path is being used."),n=Ut.comparator(o.key,e.key);else{var a=e.field(i.field);l(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===ye.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.equals=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].equals(t.position[e]);return!0},t}(),ve=function(){function t(t,e){this.field=t,void 0===e&&(e=ye.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?Vt.compareByKey(t,e):Vt.compareByField(this.field,t,e);switch(this.dir){case ye.ASCENDING:return n;case ye.DESCENDING:return-1*n;default:return u("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.equals=function(t){return this.dir===t.dir&&this.field.equals(t.field)},t}(),_e=new ve(Ft.keyField(),ye.ASCENDING),be=new ve(Ft.keyField(),ye.DESCENDING),we=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Ee=function(){function t(t,e){this.seconds=t,this.nanos=e,l(e>=0,"timestamp nanoseconds out of range: "+e),l(e<1e9,"timestamp nanoseconds out of range"+e),l(t>=-62135596800,"timestamp seconds out of range: "+t),l(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.fromISOString=function(e){var n=0,r=we.exec(e);if(l(!!r,"invalid timestamp: "+e),r[1]){var i=r[1];i=(i+"000000000").substr(0,9),n=parseInt(i,10)}var o=new Date(e);return new t(Math.floor(o.getTime()/1e3),n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?R(this.nanos,t.nanos):R(this.seconds,t.seconds)},t.prototype.equals=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}(),Ce=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ee(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.equals=function(t){return this.timestamp.equals(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ee(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Kt=Kt||(Kt={}));var Se,Te=function(){function t(t,e,n,r,i){void 0===r&&(r=Ce.MIN),void 0===i&&(i=c()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.equals=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.equals(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.equals(t.query)},t}(),Ie=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=function(){function t(t){this.fields=t}return t.prototype.equals=function(t){return D(this.fields,t.fields)},t}(),Ne=function(){function t(){}return t.prototype.equals=function(e){return e instanceof t},t.instance=new t,t}(),Ae=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.equals=function(t){return this.field.equals(t.field)&&this.transform.equals(t.transform)},t}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(Se=Se||(Se={}));var Pe,ke=function(){function t(t,e){this.updateTime=t,this.exists=e,l(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof Vt&&t.version.equals(this.updateTime):void 0!==this.exists?this.exists?t instanceof Vt:null===t||t instanceof jt:(l(this.isNone,"Precondition should be empty"),!0)},t.prototype.equals=function(t){return function(t,e){return null!==t&&void 0!==t?!(!e||!t.equals(e)):t===e}(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),Re=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&l(t.key.equals(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof Vt?t.version:Ce.MIN},t}(),De=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Se.Set,i}return Ie(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),l(null==e.transformResults,"Transform results received by SetMutation.");var n=Re.getPostMutationVersion(t);return new Vt(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=Re.getPostMutationVersion(t);return new Vt(this.key,n,this.value,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.value.equals(t.value)&&this.precondition.equals(t.precondition)},e}(Re),xe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Se.Patch,o}return Ie(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),l(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=Re.getPostMutationVersion(t),r=this.patchDocument(t);return new Vt(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=Re.getPostMutationVersion(t),r=this.patchDocument(t);return new Vt(this.key,n,r,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.fieldMask.equals(t.fieldMask)&&this.precondition.equals(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof Vt?t.data:oe.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(Re),Me=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Se.Transform,r.precondition=ke.exists(!0),r}return Ie(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),l(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.transformObject(r.data,n);return new Vt(this.key,r.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.localTransformResults(e),i=this.transformObject(n.data,r);return new Vt(this.key,n.version,i,{hasLocalMutations:!0})},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&D(this.fieldTransforms,t.fieldTransforms)&&this.precondition.equals(t.precondition)},e.prototype.requireDocument=function(t){l(t instanceof Vt,"Unknown MaybeDocument type "+t);var e=t;return l(e.key.equals(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t){for(var e=[],n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n].transform;if(!(i instanceof Ne))return u("Encountered unknown transform: "+i);e.push(new ee(t))}return e},e.prototype.transformObject=function(t,e){l(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.transform,o=r.field;if(!(i instanceof Ne))return u("Encountered unknown transform: "+i);t=t.set(o,e[n])}return t},e}(Re),Le=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Se.Delete,r}return Ie(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),l(null==e.transformResults,"Transform results received by DeleteMutation."),new jt(this.key,Ce.MIN)},e.prototype.applyToLocalView=function(t,e){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&l(t.key.equals(this.key),"Can only apply mutation to document with same key"),new jt(this.key,Ce.forDeletedDoc())):t},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.precondition.equals(t.precondition)},e}(Re),Fe=function(){function t(t){this.count=t}return t.prototype.equals=function(t){return t&&t.count===this.count},t}();!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(Pe||(Pe={}));var Ue,Ve=function(){function t(t){this.comparator=t,this.data=new Bt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),je=new Bt(Ut.comparator),Be=new Bt(Ut.comparator),qe=new Bt(Ut.comparator),We=new Ve(Ut.comparator),He=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new Qe,snapshotVersion:Ce.MIN,currentStatusUpdate:Ue.MarkNotCurrent,resumeToken:c()}},t}();!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(Ue=Ue||(Ue={}));var Ge,Ke=W(),Qe=function(){function t(){this.docs=Ke}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.equals=function(t){return null!==t&&this.docs.equals(t.docs)},t}(),ze=function(){function t(){this.addedDocuments=Ke,this.removedDocuments=Ke}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.equals=function(t){return null!==t&&this.addedDocuments.equals(t.addedDocuments)&&this.removedDocuments.equals(t.removedDocuments)},t}(),Je=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Xe=function(t,e){this.targetId=t,this.existenceFilter=e};!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Ge=Ge||(Ge={}));var Ye=function(){return function(t,e,n,r){void 0===n&&(n=c()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Ze=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=j(),this.frozen=!1,this.pendingTargetResponses=y(n)}return t.prototype.add=function(t){l(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof Je?this.addDocumentChange(t):t instanceof Ye?this.addTargetChange(t):t instanceof Xe?this.addExistenceFilterChange(t):u("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;l(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return f(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new He(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:Ue.None,snapshotVersion:this.snapshotVersion,mapping:new ze,resumeToken:c()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!p(this.pendingTargetResponses,t)&&p(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,r=t.updatedTargetIds;n<r.length;n++)this.isActiveTarget(a=r[n])&&((s=this.ensureTargetChange(a)).mapping.add(t.key),e=!0);for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];if(this.isActiveTarget(a)){var s=this.ensureTargetChange(a);s.mapping.delete(t.key),e=!0}}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case Ge.NoChange:e.isActiveTarget(n)&&H(r,t.resumeToken);break;case Ge.Added:e.recordTargetResponse(n),p(e.pendingTargetResponses,n)||(r.mapping=new ze,r.currentStatusUpdate=Ue.None,delete e.existenceFilters[n]),H(r,t.resumeToken);break;case Ge.Removed:e.recordTargetResponse(n),l(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ge.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=Ue.MarkCurrent,H(r,t.resumeToken));break;case Ge.Reset:e.isActiveTarget(n)&&(r.mapping=new Qe,H(r,t.resumeToken));break;default:u("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}(),$e=function(){var t={};return t[ye.ASCENDING.name]="ASCENDING",t[ye.DESCENDING.name]="DESCENDING",t}(),tn=function(){var t={};return t[pe.LESS_THAN.name]="LESS_THAN",t[pe.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[pe.GREATER_THAN.name]="GREATER_THAN",t[pe.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[pe.EQUAL.name]="EQUAL",t}(),en=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?Tt.UNKNOWN:V(t.code);return new It(e,t.message||"")},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return Ee.fromISOString(t);l(!!t,"Cannot deserialize null or undefined timestamp.");var e=K(t.seconds||"0");return new Ee(e,t.nanos||0)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(l(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Nt.fromBase64String(t)):(l(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Nt.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return l(!!t,"Trying to deserialize version that isn't set"),Ce.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=Mt.fromString(t);return l(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return l(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),l(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new Ut(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?Mt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new Mt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new Mt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return l(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof zt)return{nullValue:"NULL_VALUE"};if(t instanceof Jt)return{booleanValue:t.value()};if(t instanceof Yt)return{integerValue:""+t.value()};if(t instanceof Zt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof $t?{stringValue:t.value()}:t instanceof oe?{mapValue:this.toMapValue(t)}:t instanceof ae?{arrayValue:this.toArrayValue(t)}:t instanceof te?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof ie?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof ne?{bytesValue:this.toBytes(t.value())}:t instanceof re?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:u("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Q(t,n,"nullValue"))return zt.INSTANCE;if(Q(t,n,"booleanValue"))return Jt.of(t.booleanValue);if(Q(t,n,"integerValue"))return new Yt(K(t.integerValue));if(Q(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Zt.NAN;if("Infinity"===t.doubleValue)return Zt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Zt.NEGATIVE_INFINITY}return new Zt(t.doubleValue)}if(Q(t,n,"stringValue"))return new $t(t.stringValue);if(Q(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Q(t,n,"arrayValue"))return G(t.arrayValue,"arrayValue"),new ae((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(Q(t,n,"timestampValue"))return G(t.timestampValue,"timestampValue"),new te(this.fromTimestamp(t.timestampValue));if(Q(t,n,"geoPointValue"))return G(t.geoPointValue,"geoPointValue"),new ie(new Pt(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(Q(t,n,"bytesValue")){G(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new ne(r)}if(Q(t,n,"referenceValue")){G(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new Rt(i.get(1),i.get(3)),a=new Ut(this.extractLocalPathFromResourceName(i));return new re(o,a)}return u("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return l(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new Vt(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=oe.EMPTY;return d(t,function(t,r){n=n.set(new Ft([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){l(!!t.found,"Tried to deserialize a found document from a missing document."),G(t.found.name,"doc.found.name"),G(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new Vt(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){l(!!t.missing,"Tried to deserialize a missing document from a found document."),l(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new jt(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result_type;return Q(t,e,"found")?this.fromFound(t):Q(t,e,"missing")?this.fromMissing(t):u("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ge.Added:return"ADD";case Ge.Current:return"CURRENT";case Ge.NoChange:return"NO_CHANGE";case Ge.Removed:return"REMOVE";case Ge.Reset:return"RESET";default:return u("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Xe)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Je){if(t.newDoc instanceof Vt)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof jt){var e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ye){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return Pe.OK;switch(t){case Tt.OK:return Pe.OK;case Tt.CANCELLED:return Pe.CANCELLED;case Tt.UNKNOWN:return Pe.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Pe.INTERNAL;case Tt.UNAVAILABLE:return Pe.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Pe.NOT_FOUND;case Tt.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Tt.ABORTED:return Pe.ABORTED;case Tt.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Tt.DATA_LOSS:return Pe.DATA_LOSS;default:return u("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return u("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.change_type;if(Q(t,n,"targetChange")){G(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Ye(r,i,o,s||null)}else if(Q(t,n,"documentChange")){G(t.documentChange,"documentChange"),G(t.documentChange.document,"documentChange.name"),G(t.documentChange.document.name,"documentChange.document.name"),G(t.documentChange.document.updateTime,"documentChange.document.updateTime");var l=t.documentChange,c=this.fromName(l.document.name),h=this.fromVersion(l.document.updateTime),p=this.fromFields(l.document.fields||{}),f=new Vt(c,h,p,{hasLocalMutations:!1});e=new Je(l.targetIds||[],y=l.removedTargetIds||[],f.key,f)}else if(Q(t,n,"documentDelete")){G(t.documentDelete,"documentDelete"),G(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete,c=this.fromName(d.document),h=d.readTime?this.fromVersion(d.readTime):Ce.forDeletedDoc(),f=new jt(c,h);e=new Je([],y=d.removedTargetIds||[],f.key,f)}else if(Q(t,n,"documentRemove")){G(t.documentRemove,"documentRemove"),G(t.documentRemove.document,"documentRemove");var g=t.documentRemove,c=this.fromName(g.document),y=g.removedTargetIds||[];e=new Je([],y,c,null)}else{if(!Q(t,n,"filter"))return u("Unknown change type "+JSON.stringify(t));G(t.filter,"filter"),G(t.filter.targetId,"filter.targetId");var m=t.filter,v=new Fe(m.count||0);e=new Xe(m.targetId,v)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ge.NoChange:"ADD"===t?Ge.Added:"REMOVE"===t?Ge.Removed:"CURRENT"===t?Ge.Current:"RESET"===t?Ge.Reset:u("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Q(t,t.response_type,"targetChange"))return Ce.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ce.MIN:e.readTime?this.fromVersion(e.readTime):Ce.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof De)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Le)e={delete:this.toName(t.key)};else if(t instanceof xe)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Me))return u("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ke.NONE;if(t.update){G(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new xe(r,i,o,n)}return new De(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Le(r,n);if(t.transform){var r=this.fromName(t.transform.document),a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return l(!0===n.exists,'Transforms only support precondition "exists == true"'),new Me(r,a)}return u("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return l(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ke.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ke.exists(t.exists):ke.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return l(t.transform instanceof Ne,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){l("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=Ft.fromServerFormat(t.fieldPath);return new Ae(e,Ne.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return l(1===e,"DocumentsTarget contained other than 1 document: "+e),he.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(Mt.EMPTY_PATH);else{var n=t.path;l(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toLimit(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(l(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var i=[];n.where&&(i=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=n.limit);var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new he(e,o,i,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Kt.Listen:return null;case Kt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Kt.LimboResolution:return"limbo-document";default:return u("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof fe?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):u("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toLimit=function(t){if(!F(t))return t},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new me(r,n)},t.prototype.toDirection=function(t){return $e[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return ye.ASCENDING;case"DESCENDING":return ye.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return tn[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return pe.EQUAL;case"GREATER_THAN":return pe.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return pe.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return pe.LESS_THAN;case"LESS_THAN_OR_EQUAL":return pe.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return u("Unspecified relation");default:return u("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return Ft.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new ve(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof fe?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new fe(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof ge?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof de?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new ge(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new de(n);case"OPERATOR_UNSPECIFIED":return u("Unspecified filter");default:return u("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return Ft.fromServerFormat(t)});return new Oe(e)},t}(),nn=n("P9wo"),rn=function(){function t(t){this.wrappedOnOpen=null,this.wrappedOnClose=null,this.wrappedOnMessage=null,this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){l(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){l(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){l(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){l(null!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){l(null!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){l(null!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),on="Connection",an="gl-js/ fire/"+wt,sn=function(){function t(t){this.databaseId=t.databaseId,this.pool=new nn.XhrIoPool,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=an,t["google-cloud-resource-prefix"]="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},t.prototype.invoke=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(s,l){r.pool.getObject(function(c){c.listenOnce(nn.EventType.COMPLETE,function(){try{switch(c.getLastErrorCode()){case nn.ErrorCode.NO_ERROR:var e=c.getResponseJson();o(on,"XHR received:",JSON.stringify(e)),s(e);break;case nn.ErrorCode.TIMEOUT:a('RPC "'+t+'" timed out, retrying.'),l(new It(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case nn.ErrorCode.HTTP_ERROR:var n=c.getStatus();a('RPC "'+t+'" failed with status:',n,"response text:",c.getResponseText()),n>0?l(new It(function(t){switch(t){case 200:return Tt.OK;case 400:return Tt.INVALID_ARGUMENT;case 401:return Tt.UNAUTHENTICATED;case 403:return Tt.PERMISSION_DENIED;case 404:return Tt.NOT_FOUND;case 409:return Tt.ABORTED;case 416:return Tt.OUT_OF_RANGE;case 429:return Tt.RESOURCE_EXHAUSTED;case 499:return Tt.CANCELLED;case 500:return Tt.UNKNOWN;case 501:return Tt.UNIMPLEMENTED;case 503:return Tt.UNAVAILABLE;case 504:return Tt.DEADLINE_EXCEEDED;default:return t>=200&&t<300?Tt.OK:t>=400&&t<500?Tt.FAILED_PRECONDITION:t>=500&&t<600?Tt.INTERNAL:Tt.UNKNOWN}}(n),"Server responded with status "+c.getStatusText())):(a(on,'RPC "'+t+'" failed, retrying.'),l(new It(Tt.UNAVAILABLE,"Connection failed.")));break;default:u('RPC "'+t+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{o(on,'RPC "'+t+'" completed.'),r.pool.releaseObject(c)}});var h=JSON.stringify(e);o(on,"XHR sending: ",i+" "+h);var p={"Content-Type":"text/plain"};r.modifyHeadersForRequest(p,n),c.send(i,"POST",h,p,15)})})},t.prototype.openStream=function(e,n){var r=t.RPC_STREAM_SERVICE_MAPPING[e],i=t.RPC_STREAM_NAME_MAPPING[e];r&&i||u("Unknown RPC name: "+e);var a=[this.baseUrl,"/",r,"/",i,"/channel"],s=Object(nn.createWebChannelTransport)(),c={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(c.initMessageHeaders,n);var h=a.join("");o(on,"Creating WebChannel: "+h+" "+c);var p=s.createWebChannel(h,c),f=!1,d=!1,g=new rn({sendFn:function(t){d?o(on,"Not sending because WebChannel is closed:",t):(f||(o(on,"Opening WebChannel transport."),p.open(),f=!0),o(on,"WebChannel sending:",t),p.send(t))},closeFn:function(){return p.close()}}),y=function(t,e){p.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return y(nn.WebChannel.EventType.OPEN,function(){d||o(on,"WebChannel transport opened.")}),y(nn.WebChannel.EventType.CLOSE,function(){d||(d=!0,o(on,"WebChannel transport closed"),g.callOnClose())}),y(nn.WebChannel.EventType.ERROR,function(t){d||(d=!0,o(on,"WebChannel transport errored:",t),g.callOnClose(new It(Tt.UNAVAILABLE,"The operation could not be completed")))}),y(nn.WebChannel.EventType.MESSAGE,function(t){if(!d){var e=t.data[0];l(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){o(on,"WebChannel received error:",n);var r=n.status,i=function(t){var e=Pe[r];if(void 0!==e)return V(e)}(),a=n.message;void 0===i&&(i=Tt.INTERNAL,a="Unknown error status: "+r+" with message "+n.message),d=!0,g.callOnClose(new It(i,a)),p.close()}else o(on,"WebChannel received:",e),g.callOnMessage(e)}}),setTimeout(function(){g.callOnOpen()},0),g},t.prototype.makeUrl=function(t){var e=[this.baseUrl,"/","v1beta1"];return e.push("/projects/"),e.push(this.databaseId.projectId),e.push("/databases/"),e.push(this.databaseId.database),e.push("/documents"),e.push(":"),e.push(t),e.join("")},t.RPC_STREAM_SERVICE_MAPPING={Write:"google.firestore.v1beta1.Firestore",Listen:"google.firestore.v1beta1.Firestore"},t.RPC_STREAM_NAME_MAPPING={Write:"Write",Listen:"Listen"},t}();Ct.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new sn(t))},t.prototype.newSerializer=function(t){return new en(t,{useProto3Json:!0})},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var un,ln=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new It(Tt.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+k(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(b("FieldPath","string",n,t[n]),0===t[n].length)throw new It(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}return t.documentId=function(){return t._DOCUMENT_ID},t._DOCUMENT_ID=new t(Ft.keyField().canonicalString()),t}(),cn=new RegExp("[~\\*/\\[\\]]");!function(t){t[t.Unknown=0]="Unknown",t[t.Healthy=1]="Healthy",t[t.Failed=2]="Failed"}(un=un||(un={}));var hn;!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(hn=hn||(hn={}));var pn;!function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(pn=pn||(pn={}));var fn,dn=function(){function t(){this.changeMap=new Bt(Ut.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==hn.Added&&n.type===hn.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===hn.Metadata&&n.type!==hn.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===hn.Modified&&n.type===hn.Modified?this.changeMap=this.changeMap.insert(e,{type:hn.Modified,doc:t.doc}):t.type===hn.Modified&&n.type===hn.Added?this.changeMap=this.changeMap.insert(e,{type:hn.Added,doc:t.doc}):t.type===hn.Removed&&n.type===hn.Added?this.changeMap=this.changeMap.remove(e):t.type===hn.Removed&&n.type===hn.Modified?this.changeMap=this.changeMap.insert(e,{type:hn.Removed,doc:n.doc}):t.type===hn.Added&&n.type===hn.Removed?this.changeMap=this.changeMap.insert(e,{type:hn.Modified,doc:t.doc}):u("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),gn=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ut.comparator(e.key,n.key)}:function(t,e){return Ut.comparator(t.key,e.key)},this.keyedMap=B(),this.sortedSet=new Bt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.prevDoc=function(t){l(this.has(t),"Trying to get a previous document to non-existing key: "+t);var e=this.keyedMap.get(t);return this.sortedSet.getPredecessorKey(e)},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.equals=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.equals(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),yn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].equals(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].equals(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].equals(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){d(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return g(this.inner)},t}(),mn=function(){function t(t){this.syncEngine=t,this.queries=new yn(function(t){return t.canonicalId()}),this.onlineState=un.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new function(){this.listeners=[]},this.queries.set(e,r)),r.listeners.push(t),t.onOnlineStateChanged(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){var e=t.query,n=!1,r=this.queries.get(e);if(r){var i=r.listeners.indexOf(t);i>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length)}return n?(this.queries.delete(e),this.syncEngine.unlisten(e)):Promise.resolve()},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].onOnlineStateChanged(t)})},t}(),vn=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=un.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(l(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==hn.Metadata&&e.push(i)}t={query:t.query,docs:t.docs,oldDocs:t.oldDocs,docChanges:e,fromCache:t.fromCache,hasPendingWrites:t.hasPendingWrites,syncStateChanged:t.syncStateChanged}}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.onOnlineStateChanged=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return l(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==un.Failed?(l(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===un.Failed)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeQueryMetadataChanges},t.prototype.raiseInitialEvent=function(e){l(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e={query:e.query,docs:e.docs,oldDocs:gn.emptySet(e.docs),docChanges:t.getInitialViewChanges(e),fromCache:e.fromCache,hasPendingWrites:e.hasPendingWrites,syncStateChanged:!0},this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:hn.Added,doc:t})}),e},t}(),_n=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=null,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&u("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],r=!0,i=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return r||n.push(t),r=!1,e})},i).next(function(t){return n.push(t),n})},t}(),bn=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=W()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=W();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),_n.resolve()}))}),this.potentialGarbage=W(),_n.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=_n.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?_n.resolve(!0):e()})},n)},t}(),wn=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=W(),r=W(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case hn.Added:n=n.add(a.doc.key);break;case hn.Removed:r=r.add(a.doc.key)}}return new t(e.query,n,r)},t}(),En=function(){function t(){this.refsByKey=new Ve(Cn.compareByKey),this.refsByTarget=new Ve(Cn.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Cn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Cn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=Ut.EMPTY,r=new Cn(n,t),i=new Cn(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=Ut.EMPTY,n=new Cn(e,t),r=new Cn(e,t+1),i=W();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new Cn(e,0),r=this.refsByKey.firstAfterOrEqual(n);return _n.resolve(null!==r&&e.equals(r.key))},t}(),Cn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return Ut.comparator(t.key,e.key)||R(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return R(t.targetOrBatchId,e.targetOrBatchId)||Ut.comparator(t.key,e.key)},t}(),Sn=1,Tn=function(){var t={};return t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine",t}(),In=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>Sn<<Sn;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<Sn)}return t.prototype.next=function(){return this.previousId+=1<<Sn,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(Tn.LocalStore,e)},t.forSyncEngine=function(){return new t(Tn.SyncEngine)},t}(),On=function(t){this.key=t},Nn=function(t){this.key=t},An=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=W(),this.mutatedKeys=W(),this.documentSet=new gn(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new dn,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),h=e instanceof Vt?e:null;if(h&&(l(t.equals(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null),h?(a=a.add(h),o=h.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),c&&h){var p=c.data.equals(h.data);p&&c.hasLocalMutations===h.hasLocalMutations||(r.track(p?{type:hn.Metadata,doc:h}:{type:hn.Modified,doc:h}),u&&n.query.docComparator(h,u)>0&&(s=!0))}else!c&&h?r.track({type:hn.Added,doc:h}):c&&!h&&(r.track({type:hn.Removed,doc:c}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),r.track({type:hn.Removed,doc:c})}return l(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;l(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case hn.Added:return 1;case hn.Modified:case hn.Metadata:return 2;case hn.Removed:return 0;default:return u("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)});var o=this.applyTargetChange(e),a=0===this.limboDocuments.size&&this.current?pn.Synced:pn.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:{query:this.query,docs:t.documentSet,oldDocs:r,docChanges:i,fromCache:a===pn.Local,syncStateChanged:s,hasPendingWrites:!t.mutatedKeys.isEmpty()},limboChanges:o}:{limboChanges:o}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;if(t){var n=t.mapping;switch(n instanceof Qe?this.syncedDocuments=n.documents:n instanceof ze&&(this.syncedDocuments=n.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case Ue.MarkCurrent:this.current=!0;break;case Ue.MarkNotCurrent:this.current=!1;break;case Ue.None:break;default:u("Unknown current status update: "+t.currentStatusUpdate)}}var r=this.limboDocuments;this.limboDocuments=W(),this.current&&this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var i=[];return r.forEach(function(t){e.limboDocuments.has(t)||i.push(new Nn(t))}),this.limboDocuments.forEach(function(t){r.has(t)||i.push(new On(t))}),i},t}(),Pn=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new yn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Bt(Ut.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new En,this.limboCollector=new bn,this.mutationUserCallbacks={},this.targetIdGenerator=In.forSyncEngine()}return t.prototype.subscribe=function(t,e){l(null!==t&&null!==e,"View and error handlers cannot be null"),l(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),l(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new An(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);l(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),l(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return l(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),l(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!F(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),f(t.targetChanges,function(n,r){var i=e.limboKeysByTarget[n];i&&r.currentStatusUpdate===Ue.MarkCurrent&&!t.documentUpdates.get(i)&&t.addDocumentUpdate(new jt(i,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var i=new Bt(Ut.comparator);i=i.insert(r,new jt(r,Ce.forDeletedDoc()));var o=new He(Ce.MIN,{},i);return this.applyRemoteEvent(o)}var a=this.queryViewsByTarget[t];return l(!!a,"Unknown targetId: "+t),this.localStore.releaseQuery(a.query).then(function(){return n.removeAndCleanupQuery(a).then(function(){n.errorHandler(a.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Bt(R)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(l(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof On?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof Nn?(o("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t)):u("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){o("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=he.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new Te(r,n,Kt.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=s.view.applyChanges(t,e&&e.targetChanges[s.targetId]);return n.updateTrackedLimbos(s.targetId,o.limboChanges).then(function(){if(o.snapshot){r.push(o.snapshot);var t=wn.fromSnapshot(o.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){l(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),kn=-1,Rn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&l(e.key.equals(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;l(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.equals(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&l(e.key.equals(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0;n<this.mutations.length;n++){var r=this.mutations[n];r.key.equals(t)&&(e=r.applyToLocalView(e,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=W(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.equals=function(t){return this.batchId===t.batchId&&D(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),Dn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){l(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=q(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),xn="\x01",Mn="\x01",Ln="\x10",Fn="\x11",Un=function(t,e){this.seconds=t,this.nanos=e},Vn=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),jn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Bn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),qn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,z(e)]},t.key=function(t,e,n){return[t,z(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Wn=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Hn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Gn=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Kn=function(){function t(t,e,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Qn=[jn.store,Bn.store,qn.store,Wn.store,Hn.store,Vn.store,Kn.store,Gn.store],zn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return l(t.isAvailable(),"IndexedDB not supported in current environment."),o("SimpleDb","Opening database:",e),new _n(function(i,a){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onerror=function(t){a(t.target.error)},s.onupgradeneeded=function(t){o("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r(t.target.result,t.oldVersion)}}).toPromise()},t.delete=function(t){return o("SimpleDb","Removing database:",t),Y(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=new Xn(this.db,t,e),i=n(r).catch(function(t){return r.abort(),_n.reject(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Jn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Y(this.dbCursor.delete())},t}(),Xn=function(){function t(t,e,n){var r=this;this.aborted=!1,this.transaction=t.transaction(n,e),this.completionPromise=new Promise(function(t,e){r.transaction.onabort=r.transaction.oncomplete=function(e){t()},r.transaction.onerror=function(t){e(t.target.error)}})}return t.prototype.abort=function(){this.aborted||(o("SimpleDb","Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return l(!!e,"Object store not part of transaction: "+t),new Yn(e)},t}(),Yn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(o("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(o("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Y(n)},t.prototype.get=function(t){var e=this;return Y(this.store.get(t)).next(function(n){return void 0===n&&(n=null),o("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return o("SimpleDb","DELETE",this.store.name,t),Y(this.store.delete(t))},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){o("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new _n(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Jn(i),a=e(i.primaryKey,i.value,o);a instanceof _n&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return _n.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(l(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),Zn=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return l(""!==e.uid,"UserID must not be an empty string."),new t(e.isUnauthenticated()?"":e.uid,n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,et(e).get(n.userId)}).next(function(t){return t||(t=new jn(n.userId,kn,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return l(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=kn,et(e).put(n.metadata)}):_n.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=kn;return $(t).iterate({reverse:!0},function(t,n,r){var i=t[0];if(t[1]>e&&(e=n.batchId),""===i)r.done();else{var o=function(t){var e=t.length-1;return 0===t.length?"":"\0"===t.charAt(e)?t.substring(0,e):t.substring(0,e)+String.fromCharCode(t.charCodeAt(e)-1)}(i);r.skip([o])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return $(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return _n.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return _n.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return l(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=Z(n),et(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return _n.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=Z(e),et(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new Rn(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return $(t).put(a).next(function(){for(var e=0,o=n;e<o.length;e++){var a=o[e],s=(z(a.key.path),qn.key(r.userId,a.key.path,i));tt(t).put(s,qn.PLACEHOLDER)}return _n.waitFor([])}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return $(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=IDBKeyRange.lowerBound(this.keyForBatchId(e+1)),i=null;return $(t).iterate({range:r},function(t,r,o){r.userId===n.userId&&(l(r.batchId>e,"Should have found mutation after "+e),i=n.serializer.fromDbMutationBatch(r)),o.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(kn),this.keyForBatchId(Number.POSITIVE_INFINITY));return $(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(kn),this.keyForBatchId(e));return $(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=qn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return tt(t).iterate({range:i},function(r,i,a){var s=r[0],l=r[2],c=X(r[1]);if(s===n.userId&&e.path.equals(c)){var h=n.keyForBatchId(l);return $(t).get(h).next(function(t){null===t&&u("Dangling document-mutation reference found: "+r+" which points to "+h),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;l(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=qn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ve(R);return tt(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],l=X(t[1]);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(u)):o.done()}).next(function(){var e=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push($(t).get(o).next(function(t){null===t&&u("Dangling document-mutation reference found, which points to "+o),e.push(n.serializer.fromDbMutationBatch(t))}))}),_n.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=$(t),r=tt(t),i=[],o=this,a=0,s=e;a<s.length;a++)!function(t){var e=IDBKeyRange.only(o.keyForBatchId(t.batchId)),a=0,s=n.iterate({range:e},function(t,e,n){return a++,n.delete()});i.push(s.next(function(){l(1===a,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,c=t.mutations;u<c.length;u++){var h=c[u],p=qn.key(o.userId,h.key.path,t.batchId);i.push(r.delete(p)),null!==o.garbageCollector&&o.garbageCollector.addPotentialGarbageKey(h.key)}}(s[a]);return _n.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return _n.resolve();var r=IDBKeyRange.lowerBound(qn.prefixForUser(e.userId)),i=[];return tt(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=X(t[1]);i.push(o)}else r.done()}).next(function(){l(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=qn.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return tt(t).iterate({range:o,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}(),$n=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Ce.MIN,this.metadata=new Kn(0,0,Ce.MIN.toTimestamp()),this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return it(t).get(Kn.key).next(function(t){if(null!==t){e.metadata=t;var n=t.lastRemoteSnapshotVersion;e.lastRemoteSnapshotVersion=Ce.fromTimestamp(new Ee(n.seconds,n.nanos))}return _n.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),it(t).put(Kn.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this,r=e.targetId,i=rt(t).put(this.serializer.toDbTarget(e));return r>this.metadata.highestTargetId?(this.metadata.highestTargetId=r,i.next(function(){return it(t).put(Kn.key,n.metadata)})):i},t.prototype.removeQueryData=function(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){rt(t).delete(e.targetId)})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return rt(t).iterate({range:i,index:Hn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.equals(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=ot(t);return e.forEach(function(t){var e=z(t.path);r.push(i.put(new Gn(n,e)))}),_n.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=ot(t);return e.forEach(function(t){var e=z(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),_n.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ot(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=ot(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=X(t[1]),o=new Ut(i);l(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):_n.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ot(t),i=W();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=X(t[1]),o=new Ut(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){l(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n=z(e.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return ot(t).iterate({index:Gn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){i++,n.done()}).next(function(){return i>0})},t}(),tr=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return st(t).put(ut(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return st(t).delete(ut(e))},t.prototype.getEntry=function(t,e){var n=this;return st(t).get(ut(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=B(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return st(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof Vt&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}(),er=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=Ut.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new Ee(n.seconds,n.nanos);return new jt(e,Ce.fromTimestamp(r))}return u("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof Vt){var e=this.remoteSerializer.toDocument(t);return new Wn(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new Un(r.seconds,r.nanos);return new Wn(new function(t,e){this.path=t,this.readTime=e}(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Bn(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=Ee.fromEpochMilliseconds(t.localWriteTimeMs);return new Rn(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new Ee(t.readTime.seconds,t.readTime.nanos),r=Ce.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Te(e,t.targetId,Kt.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){l(Kt.Listen===t.purpose,"Only queries with purpose "+Kt.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),r=new Un(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),l("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var i=t.resumeToken;return new Hn(t.targetId,t.query.canonicalId(),r,i,0,e)},t}(),nr="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",rr=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new er(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(l(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,zn.openOrCreate(this.dbName,1,function(t,e){l(0===e,"Unexpected upgrade from version "+e),t.createObjectStore(jn.store,{keyPath:jn.keyPath}),t.createObjectStore(Bn.store,{keyPath:Bn.keyPath}),t.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.documentTargetsIndex,Gn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.queryTargetsIndexName,Hn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(qn.store),t.createObjectStore(Wn.store),t.createObjectStore(Vn.store),t.createObjectStore(Kn.store)}).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new It(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return l(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return Zn.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new $n(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new tr(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(o("IndexedDbPersistence","Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Qn,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return zn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Vn.store],function(e){var n=e.store(Vn.store);return n.get("owner").next(function(e){if(t.validOwner(e))return o("IndexedDbPersistence","Valid owner already. Failing. Current owner:",e),t.persistenceError=new It(Tt.FAILED_PRECONDITION,nr),_n.reject(t.persistenceError);var r=new Vn(t.ownerId,Date.now());return o("IndexedDbPersistence","No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Vn.store],function(e){var n=e.store(Vn.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(o("IndexedDbPersistence","Releasing owner lease."),n.delete("owner")):_n.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(Vn.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new It(Tt.FAILED_PRECONDITION,nr),_n.reject(e.persistenceError)):_n.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(a("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(Vn.store).put("owner",new Vn(t.ownerId,Date.now()))}).catch(function(e){a(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return o("IndexedDbPersistence","Zombied ownerID from LocalStorage:",t),t}catch(t){return a("IndexedDbPersistence","Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){a("IndexedDbPersistence","Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return Ot.newId()},t.MAIN_DATABASE="main",t}(),ir=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],i=j();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new jt(e,Ce.forDeletedDoc())),i=i.insert(e,t)}))}),_n.waitFor(r).next(function(){return i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return Ut.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new Ut(e)).next(function(t){var e=B();return t instanceof Vt&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var i=W(),o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].mutations;s<u.length;s++){var l=u[s];n.get(l.key)||(i=i.add(l.key))}var c=[];return i.forEach(function(e){c.push(r.getDocument(t,e).next(function(t){t instanceof Vt&&(n=n.insert(t.key,t))}))}),_n.waitFor(c)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,i=t;r<i.length;r++)n=i[r].applyToLocalView(e,n);return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(i,o){r.push(n.computeLocalDocument(t,i,o).next(function(t){t instanceof Vt?e=e.insert(t.key,t):t instanceof jt?e=e.remove(t.key):u("Unknown MaybeDocument: "+t)}))}),_n.waitFor(r).next(function(){return e})},t}(),or=function(){function t(t){this.remoteDocumentCache=t,this.changes=j()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?_n.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,_n.waitFor(n)},t.prototype.assertChanges=function(){return l(null!==this.changes,"Changes have already been applied."),this.changes},t}(),ar=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new En,this.targetIds={},this.targetIdGenerator=In.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new ir(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new ir(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=W(),o=0,a=[r,t];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var l=0,c=u[s].mutations;l<c.length;l++)i=i.add(c[l].key);return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=In.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==kn?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):_n.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):_n.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=Ee.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=W(),_n.resolve();var i=new or(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return l(null!=i,"Attempt to reject nonexistent batch!"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return l(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new or(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[];f(t.targetChanges,function(t,n){var o=e.targetIds[t];if(o){var a=n.mapping;if(a)if(a instanceof Qe)i.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof ze))return u("Unknown mapping type: "+JSON.stringify(a));i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=o,i.push(e.queryCache.addQueryData(r,o)))}});var a=W();t.documentUpdates.forEach(function(t,s){a=a.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||s.version.equals(Ce.MIN)||s.version.compareTo(r.version)>=0?n.addEntry(s):o("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",s.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var s=e.queryCache.getLastRemoteSnapshotVersion(),c=t.snapshotVersion;c.equals(Ce.MIN)||(l(c.compareTo(s)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+s),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,c)));var h;return _n.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return h=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,a.unionWith(h))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],i=0,o=t;i<o.length;i++)!function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){l(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))}(o[i]);return _n.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=kn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,_n.resolve();var o=e.targetIdGenerator.next();return r=new Te(t,o,Kt.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return l(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return l(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):_n.resolve()}).next(function(){if(g(e.targetIds)){var t=new or(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return _n.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),_n.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?_n.resolve(W()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||g(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=_n.resolve(),o=0,a=e;o<a.length;o++)!function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})}(a[o]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=W(),r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++)n=n.add(a[o].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=_n.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);l(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):l(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),o},t}(),sr=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=kn,this.lastStreamToken=c(),this.garbageCollector=null,this.batchesByDocumentKey=new Ve(Cn.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=kn),l(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),_n.resolve()},t.prototype.checkEmpty=function(t){return _n.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return _n.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return _n.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;l(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return l(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),l(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,_n.resolve()},t.prototype.getLastStreamToken=function(t){return _n.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,_n.resolve()},t.prototype.addMutationBatch=function(t,e,n){l(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&l(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new Rn(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Cn(a[o].key,r));return _n.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return _n.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.mutationQueue.length;e=Math.max(e+1,this.highestAcknowledgedBatchId);for(var r=this.indexOfBatchId(e),i=r<0?0:r;i<n;i++){var o=this.mutationQueue[i];if(!o.isTombstone())return _n.resolve(o)}return _n.resolve(null)},t.prototype.getAllMutationBatches=function(t){return _n.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,_n.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Cn(e,0),i=new Cn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){l(e.equals(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);l(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),_n.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=r;Ut.isDocumentKey(o)||(o=o.child(""));var a=new Cn(new Ut(o),0),s=new Ve(R);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),_n.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;l(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");l(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;)(f=this.mutationQueue[s]).isTombstone()?s++:(l(f.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===o){for(;s<i&&(f=this.mutationQueue[s]).isTombstone();s++);this.mutationQueue.splice(o,s-o)}else for(var u=o;u<s;u++)this.mutationQueue[u]=this.mutationQueue[u].toTombstone();for(var c=this.batchesByDocumentKey,h=0,p=e;h<p.length;h++)for(var f=p[h],d=f.batchId,g=0,y=f.mutations;g<y.length;g++){var m=y[g].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(m);var v=new Cn(m,d);c=c.delete(v)}return this.batchesByDocumentKey=c,_n.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new Cn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return _n.resolve(e.equals(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&l(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),_n.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return l(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return l(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),ur=function(){function t(){this.queries=new yn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Ce.MIN,this.highestTargetId=0,this.references=new En}return t.prototype.start=function(t){return _n.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,_n.resolve()},t.prototype.addQueryData=function(t,e){this.queries.set(e.query,e);var n=e.targetId;return n>this.highestTargetId&&(this.highestTargetId=n),_n.resolve()},t.prototype.removeQueryData=function(t,e){return this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),_n.resolve()},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return _n.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),_n.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),_n.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),_n.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return _n.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),lr=function(){function t(){this.docs=j()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),_n.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),_n.resolve()},t.prototype.getEntry=function(t,e){return _n.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=B(),r=new Ut(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value;if(!e.path.isPrefixOf(o.key.path))break;a instanceof Vt&&e.matches(a)&&(n=n.insert(a.key,a))}return _n.resolve(n)},t}(),cr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new lr,this.queryCache=new ur,this.started=!1}return t.prototype.start=function(){return l(!this.started,"MemoryPersistence double-started!"),this.started=!0,Promise.resolve()},t.prototype.shutdown=function(){return l(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,Promise.resolve()},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new sr,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return o("MemoryPersistence","Starting transaction:",t),e(new hr).toPromise()},t}(),hr=function(){},pr=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return _n.resolve(W())},t}(),fr=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}(),dr=function(){function t(t,e,n){this.initialDelayMs=t,this.backoffFactor=e,this.maxDelayMs=n,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndWait=function(){var t=new fr,e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&o("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),setTimeout(function(){t.resolve()},e),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs),t.promise},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),gr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(fn||(fn={}));var yr,mr=1e3,vr=6e4,_r=1.5,br=function(){function t(t,e,n,r,i){this.queue=t,this.connection=e,this.credentialsProvider=n,this.stream=null,this.listener=null,this.backoff=new dr(i||mr,_r,vr),this.state=fn.Initial,this.listener=r}return t.prototype.isStarted=function(){return this.state===fn.Backoff||this.state===fn.Auth||this.state===fn.Open},t.prototype.isOpen=function(){return this.state===fn.Open},t.prototype.start=function(){this.state!==fn.Error?(l(this.state===fn.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){this.state=fn.Stopped,this.listener=null,null!==this.stream&&(this.stream.close(),this.stream=null)},t.prototype.inhibitBackoff=function(){l(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=fn.Initial,this.backoff.reset()},t.prototype.auth=function(){var t=this;l(this.state===fn.Initial,"Must be in initial state to auth"),this.state=fn.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.schedule(function(){if(t.state!==fn.Stopped){var n=new It(Tt.UNKNOWN,"Fetching auth token failed: "+e.message);return t.handleStreamClose(n)}return Promise.resolve()})})},t.prototype.startStream=function(t){var e=this;if(this.state!==fn.Stopped){l(this.state===fn.Auth,"Trying to start stream in a non-auth state");var n=function(t){e.queue.schedule(function(){return e.state!==fn.Stopped?t():Promise.resolve()})};null!==this.listener&&(this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return l(e.state===fn.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=fn.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})}))}},t.prototype.performBackoff=function(){var t=this;l(this.state===fn.Error,"Should only perform backoff in an error case"),this.state=fn.Backoff,this.backoff.backoffAndWait().then(function(){t.queue.schedule(function(){return t.state===fn.Stopped?Promise.resolve():(t.state=fn.Initial,t.start(),l(t.isStarted(),"PersistentStream should have started"),Promise.resolve())})})},t.prototype.handleStreamClose=function(t){return l(this.isStarted(),"Can't handle server close on non-started stream"),o("PersistentStream","close with error: "+t),this.stream=null,this.state=fn.Error,t&&t.code===Tt.RESOURCE_EXHAUSTED&&(o("PersistentStream","Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),this.listener.onClose(t)},t}(),wr=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,n,r,i,a,s)||this;return u.databaseInfo=e,u.serializer=o,u}return gr(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.stream.send(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.stream.send(e)},e}(br),Er=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,n,r,i,a,s)||this;return u.databaseInfo=e,u.serializer=o,u.handshakeComplete_=!1,u}return gr(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(l(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return l(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){l(this.isOpen(),"Writing handshake requires an opened stream"),l(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.stream.send(t)},e.prototype.writeMutations=function(t){var e=this;l(this.isOpen(),"Writing mutations requires an opened stream"),l(this.handshakeComplete_,"Handshake must be complete before writing mutations"),l(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.stream.send(n)},e}(br),Cr=function(){function t(t,e,n,r,i,o){this.databaseInfo=t,this.queue=e,this.connection=n,this.credentials=r,this.serializer=i,this.initialBackoffDelay=o}return t.prototype.newPersistentWriteStream=function(t){return new Er(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,t,this.initialBackoffDelay)},t.prototype.newPersistentWatchStream=function(t){return new wr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,t,this.initialBackoffDelay)},t.prototype.commit=function(t){var e=this,n={writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeRPC("batchGet",n).then(function(n){var r=j();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);l(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invoke(t,e,r)})},t}(),Sr=function(){function t(t){this.datastore=t,this.readVersions=q(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof jt&&(e=Ce.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.equals(n))throw new It(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new It(Tt.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ke.updateTime(e):ke.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.equals(Ce.forDeletedDoc()))throw new It(Tt.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ke.updateTime(e):ke.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new Le(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Ce.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),Tr=function(){function t(t,e,n,r,i){this.databaseInfo=t,this.asyncQueue=e,this.localStore=n,this.datastore=r,this.onlineStateHandler=i,this.pendingWrites=[],this.lastBatchSeen=kn,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.watchStreamOnlineState=un.Unknown,this.watchStreamFailures=0}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.setOnlineStateToHealthy=function(){this.updateAndBroadcastOnlineState(un.Healthy)},t.prototype.setOnlineStateToUnknown=function(){this.watchStreamFailures=0,this.updateAndBroadcastOnlineState(un.Unknown)},t.prototype.updateOnlineStateAfterFailure=function(){this.watchStreamOnlineState===un.Healthy?this.setOnlineStateToUnknown():(this.watchStreamFailures++,this.watchStreamFailures>=2&&this.updateAndBroadcastOnlineState(un.Failed))},t.prototype.updateAndBroadcastOnlineState=function(t){var e=this.watchStreamOnlineState!==t;this.watchStreamOnlineState=t,e&&this.onlineStateHandler(t)},t.prototype.isNetworkEnabled=function(){return l(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return l(null==this.watchStream,"enableNetwork() called with non-null watchStream."),l(null==this.writeStream,"enableNetwork() called with non-null writeStream."),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)}),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()&&t.startWatchStream(),t.updateAndBroadcastOnlineState(un.Unknown),t.fillWritePipeline()})},t.prototype.disableNetwork=function(){return this.updateAndBroadcastOnlineState(un.Failed),this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null,Promise.resolve()},t.prototype.shutdown=function(){return o("RemoteStore","RemoteStore shutting down."),this.disableNetwork(),Promise.resolve(void 0)},t.prototype.listen=function(t){l(!p(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){l(p(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendUnwatchRequest(t)},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){l(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!g(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){var t=this;return f(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),Promise.resolve()},t.prototype.onWatchStreamClose=function(t){return l(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.updateOnlineStateAfterFailure(),this.startWatchStream()):this.setOnlineStateToUnknown(),Promise.resolve()},t.prototype.onWatchStreamChange=function(t,e){if(this.setOnlineStateToHealthy(),t instanceof Ye&&t.state===Ge.Removed&&t.cause)return this.handleTargetError(t);if(this.accumulatedWatchChanges.push(t),!e.equals(Ce.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0){var n=this.accumulatedWatchChanges;return this.accumulatedWatchChanges=[],this.handleWatchChangeBatch(e,n)}return Promise.resolve()},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new Ze(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return f(r.existenceFilters,function(e,r){var a=n.listenTargets[e];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new Ut(s.path),c=new jt(u,t);i.addDocumentUpdate(c)}else l(1===r.count,"Single document existence filter with count: "+r.count);else{var h=n.localStore.remoteDocumentKeys(e).then(function(t){if(i.targetChanges[e]){var o=i.targetChanges[e].mapping;null!==o&&(o instanceof ze?t=o.applyToKeySet(t):(l(o instanceof Qe,"Expected either reset or update mapping but got something else: "+o),t=o.documents))}if(t.size!==r.count){i.handleExistenceFilterMismatch(e);var u=new Te(s,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var c=new Te(s,e,Kt.ExistenceFilterMismatch);n.sendWatchRequest(c)}});o.push(h)}}}),Promise.all(o).then(function(){return f(i.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(i)})},t.prototype.handleTargetError=function(t){var e=this;l(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return p(e.listenTargets,t)?(delete e.listenTargets[t],e.syncEngine.rejectListen(t,n)):Promise.resolve()})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=kn,this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){var t=this;return this.canWriteMutations()?this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){return null===e?Promise.resolve():(t.commit(e),t.fillWritePipeline())}):Promise.resolve()},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){l(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){l(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return this.writeStream.writeHandshake(),Promise.resolve()},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;l(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),i=Dn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){var e=this;return l(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),this.pendingWrites.length>0?(l(!!t,"We have pending writes, but the write stream closed without an error"),(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})):Promise.resolve()},t.prototype.handleHandshakeError=function(t){return U(t.code)||t.code===Tt.ABORTED?(o("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=c(),this.localStore.setLastStreamToken(c())):Promise.resolve()},t.prototype.handleWriteError=function(t){var e=this;if(U(t.code)){var n=this.pendingWrites.shift();return this.writeStream.inhibitBackoff(),this.syncEngine.rejectFailedWrite(n.batchId,t).then(function(){return e.fillWritePipeline()})}return Promise.resolve()},t.prototype.createTransaction=function(){return new Sr(this.datastore)},t.prototype.handleUserChange=function(t){return o("RemoteStore","RemoteStore changing users: uid=",t.uid),this.disableNetwork(),this.enableNetwork()},t}(),Ir=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new fr,r=new fr,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.schedule(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.schedule(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===Tt.FAILED_PRECONDITION||t.code===Tt.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new pr;var t=rr.buildStoragePrefix(this.databaseInfo),e=new en(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new rr(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new bn,this.persistence=new cr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new ar(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new Cr(e.databaseInfo,e.asyncQueue,n,e.credentials,r);return e.remoteStore=new Tr(e.databaseInfo,e.asyncQueue,e.localStore,i,function(t){e.eventMgr.onOnlineStateChanged(t)}),e.syncEngine=new Pn(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new mn(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),o("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.schedule(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.schedule(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var r=this,i=new vn(t,e,n);return this.asyncQueue.schedule(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.schedule(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new fr;return this.asyncQueue.schedule(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.schedule(function(){return Promise.resolve()}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Or=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Nr=function(){function t(){this.tail=Promise.resolve(),this.delayedOpCount=0,this.operationInProgress=!1}return t.prototype.schedule=function(t,e){var n=this;if(this.failure&&u("AsyncQueue is already failed: "+this.failure.message),(e||0)>0){this.delayedOpCount++;var r=new fr;return setTimeout(function(){n.scheduleInternal(function(){return t().then(function(t){r.resolve(t)})}),n.delayedOpCount--},e),r.promise}return this.scheduleInternal(t)},t.prototype.scheduleInternal=function(t){var e=this;return this.tail=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){throw e.failure=t,e.operationInProgress=!1,a("INTERNAL UNHANDLED ERROR: ",t.stack||t.message),t}).then(function(){e.operationInProgress=!1})}),this.tail},t.prototype.verifyOperationInProgress=function(){l(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return l(0===this.delayedOpCount,"draining doesn't handle delayed ops."),this.schedule(function(){return Promise.resolve(void 0)})},t}(),Ar=function(){function t(t){this.uid=t}return t.prototype.isUnauthenticated=function(){return null==this.uid},t.prototype.toKey=function(){return this.isUnauthenticated()?"anonymous-user":"uid:"+this.uid},t.prototype.equals=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Pr=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},kr=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){l(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(Ar.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){l(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),Rr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.equals(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;l(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new It(Tt.ABORTED,"getToken aborted due to uid change.");return t?(l("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new Pr(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){l(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){l(null!=this.tokenListener,"removeUserChangeListener() called twice"),l(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&u("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return l(null===t||"string"==typeof t,"Received invalid UID: "+t),new Ar(t)},t}(),Dr=function(){function t(t){this.authClient=t}return t.prototype.getToken=function(t){var e=this;return new Promise(function(t,n){e.authClient.getAccessToken(function(e,r){e?n(e):t(new Pr(r,Ar.GOOGLE_CREDENTIALS))})})},t.prototype.setUserChangeListener=function(t){t(Ar.GOOGLE_CREDENTIALS)},t.prototype.removeUserChangeListener=function(){},t}(),xr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Ar.FIRST_PARTY,l(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Mr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,l(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new xr(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(Ar.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}(),Lr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(){function t(){}return t.delete=function(){return Ur.instance},t.serverTimestamp=function(){return Vr.instance},t}(),Ur=function(t){function e(){return t.call(this)||this}return Lr(e,t),e.instance=new e,e}(Fr),Vr=function(t){function e(){return t.call(this)||this}return Lr(e,t),e.instance=new e,e}(Fr),jr=h(Fr,"Use FieldValue.<field>() instead."),Br=/^__.*__$/,qr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new xe(t,this.data,this.fieldMask,e):new De(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Me(t,this.fieldTransforms)),n},t}(),Wr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new xe(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Me(t,this.fieldTransforms)),n},t}();!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.QueryValue=3]="QueryValue"}(yr||(yr={}));var Hr=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new It(Tt.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(ct(this.dataSource)&&Br.test(t))throw this.createError("Document fields cannot begin and end with __")},t.prototype.isWrite=function(){return this.dataSource===yr.Set||this.dataSource===yr.Update},t}(),Gr=function(t,e){this.databaseId=t,this.key=e},Kr=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new Hr(yr.Set,t,Ft.EMPTY_PATH);pt("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new qr(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e){var n=new Hr(yr.MergeSet,t,Ft.EMPTY_PATH);pt("Data must be an object, but it was:",n,e);var r=this.parseData(e,n),i=new Oe(n.fieldMask);return new qr(r,i,n.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new Hr(yr.Update,t,Ft.EMPTY_PATH);pt("Data must be an object, but it was:",r,e);var i=[],o=oe.EMPTY;d(e,function(e,a){var s=dt(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Ur)i.push(s);else{var l=n.parseData(a,u);null!=l&&(i.push(s),o=o.set(s,l))}});var a=new Oe(i);return new Wr(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new Hr(yr.Update,t,Ft.EMPTY_PATH),o=[ft(t,e)],a=[n];if(r.length%2!=0)throw new It(Tt.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(l=0;l<r.length;l+=2)o.push(ft(t,r[l])),a.push(r[l+1]);for(var s=[],u=oe.EMPTY,l=0;l<o.length;++l){var c=o[l],h=i.childContextForFieldPath(c),p=this.runPreConverter(a[l],h);if(p instanceof Ur)s.push(c);else{var f=this.parseData(p,h);null!=f&&(s.push(c),u=u.set(c,f))}}var d=new Oe(s);return new Wr(u,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new Hr(yr.QueryValue,t,Ft.EMPTY_PATH),r=this.parseData(e,n);return l(null!=r,"Parsed data should not be null."),l(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=gt(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if((t=this.runPreConverter(t,e))instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return e.path&&e.fieldMask.push(e.path),this.parseArray(t,e)}return ht(t)?(pt("Unsupported field value:",e,t),this.parseObject(t,e)):(e.path&&e.fieldMask.push(e.path),this.parseScalarValue(t,e))},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=zt.INSTANCE),n.push(a),r++}return new ae(n)},t.prototype.parseObject=function(t,e){var n=this,r=new Bt(R);return d(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new oe(r)},t.prototype.parseScalarValue=function(t,e){if(null===t)return zt.INSTANCE;if("number"==typeof t)return function(t){return ce(t)&&t<=le&&t>=ue}(t)?new Yt(t):new Zt(t);if("boolean"==typeof t)return Jt.of(t);if("string"==typeof t)return new $t(t);if(t instanceof Date)return new te(Ee.fromDate(t));if(t instanceof Pt)return new ie(t);if(t instanceof Nt)return new ne(t);if(t instanceof Gr)return new re(t.databaseId,t.key);if(t instanceof Fr){if(t instanceof Ur){if(e.dataSource==yr.MergeSet)return null;throw e.dataSource===yr.Update?(l(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() can only be used with update() and set() with {merge:true}")}if(t instanceof Vr){if(!ct(e.dataSource))throw e.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===e.path)throw e.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return e.fieldTransforms.push(new Ae(e.path,Ne.instance)),null}return u("Unknown FieldValue type: "+t)}throw e.createError("Unsupported field value: "+I(t))},t}(),Qr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr="firestore.googleapis.com",Jr=!0,Xr=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new It(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zr,this.ssl=Jr}else E("settings","string","host",t.host),this.host=t.host,C("settings","boolean","ssl",t.ssl),this.ssl=function(t,e){return void 0!==t?t:Jr}(t.ssl);N("settings",t,["host","ssl","credentials"]),C("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.equals=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),Yr=function(){},Zr=function(){function t(e){var n=this;this.INTERNAL={delete:function(){return n._firestoreClient?n._firestoreClient.shutdown():Promise.resolve()},disableNetwork:function(){return n._firestoreClient.disableNetwork()},enableNetwork:function(){return n._firestoreClient.enableNetwork()}};var r=new Yr;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Rr(i)}else{var o=e;if(!o.projectId)throw new It(Tt.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new Rt(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new kr}r.settings=new Xr({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(m("Firestore.settings",arguments,1),b("Firestore.settings","object",1,t),p(t,"persistence"))throw new It(Tt.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Xr(t);if(this._firestoreClient&&!this._config.settings.equals(e))throw new It(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new kr;switch(t.type){case"google-auth":return new Dr(t.client);case"gapi":return new Mr(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new It(Tt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new It(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;l(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),l(!this._firestoreClient,"configureClient() called multiple times");var n=new function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new Kr(function(t){if(t instanceof ei){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.equals(n))throw new It(Tt.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Gr(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Ir(Ct.getPlatform(),n,this._config.credentials,new Nr),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!p(e,"projectId")){if(p(e,"firestoreId"))throw new It(Tt.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new It(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(p(e,"firestoreOptions"))throw new It(Tt.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new It(Tt.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Rt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new It(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(m("Firestore.collection",arguments,1),b("Firestore.collection","string",1,t),!t)throw new It(Tt.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new oi(Mt.fromString(t),this)},t.prototype.doc=function(t){if(m("Firestore.doc",arguments,1),b("Firestore.doc","string",1,t),!t)throw new It(Tt.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),ei.forPath(Mt.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return m("Firestore.runTransaction",arguments,1),b("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new $r(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new ti(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(r()){case _t.DEBUG:return"debug";case _t.ERROR:return"error";case _t.SILENT:return"silent";default:return u("Unknown log level: "+r())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(m("Firestore.setLogLevel",arguments,1),b("Firestore.setLogLevel","string",1,t),t){case"debug":i(_t.DEBUG);break;case"error":i(_t.ERROR);break;case"silent":i(_t.SILENT);break;default:throw new It(Tt.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}(),$r=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;m("Transaction.get",arguments,1);var n=mt("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return u("Mismatch in docs returned from document lookup.");var r=t[0];return r instanceof jt?new ni(e._firestore,n._key,null,!1):new ni(e._firestore,n._key,r,!1)})},t.prototype.set=function(t,e,n){_("Transaction.set",arguments,2,3);var r=mt("Transaction.set",t,this._firestore),i=(n=yt("Transaction.set",n)).merge?this._firestore._dataConverter.parseMergeData("Transaction.set",e):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a;return"string"==typeof e||e instanceof ln?(v("Transaction.update",arguments,3),o=mt("Transaction.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,r)):(m("Transaction.update",arguments,2),o=mt("Transaction.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(o._key,a),this},t.prototype.delete=function(t){m("Transaction.delete",arguments,1);var e=mt("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),ti=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){_("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=mt("WriteBatch.set",t,this._firestore),i=(n=yt("WriteBatch.set",n)).merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ke.NONE)),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.verifyNotCommitted();var o,a;return"string"==typeof e||e instanceof ln?(v("WriteBatch.update",arguments,3),o=mt("WriteBatch.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,r)):(m("WriteBatch.update",arguments,2),o=mt("WriteBatch.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(a.toMutations(o._key,ke.exists(!0))),this},t.prototype.delete=function(t){m("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=mt("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Le(e._key,ke.NONE)),this},t.prototype.commit=function(){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._firestore.ensureClientConfigured().write(this._mutations):Promise.resolve()},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new It(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ei=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new It(Tt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new Ut(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new oi(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(m("DocumentReference.collection",arguments,1),b("DocumentReference.collection","string",1,t),!t)throw new It(Tt.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Mt.fromString(t);return new oi(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw A("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.equals(e._key)},t.prototype.set=function(t,e){_("DocumentReference.set",arguments,1,2);var n=(e=yt("DocumentReference.set",e)).merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ke.NONE))},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i;return"string"==typeof t||t instanceof ln?(v("DocumentReference.update",arguments,2),i=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):(m("DocumentReference.update",arguments,1),i=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(i.toMutations(this._key,ke.exists(!0)))},t.prototype.delete=function(){return m("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Le(this._key,ke.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||lt(t[i])||(N("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),C("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return lt(t[i])?n=t[i]:(b("DocumentReference.onSnapshot","function",i,t[i]),w("DocumentReference.onSnapshot","function",i+1,t[i+1]),w("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Or({next:function(t){if(e.next){l(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new ni(n.firestore,n._key,r,t.fromCache))}},error:r}),o=this._firestoreClient.listen(he.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(){var t=this;return m("DocumentReference.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),!t.exists&&t.metadata.fromCache?n(new It(Tt.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}(),ni=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(){if(m("DocumentSnapshot.data",arguments,0),!this._document)throw new It(Tt.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.data().");return this.convertObject(this._document.data)},t.prototype.get=function(t){if(m("DocumentSnapshot.get",arguments,1),!this._document)throw new It(Tt.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.get().");var e=this._document.data.field(ft("DocumentSnapshot.get",t));return void 0===e?void 0:this.convertValue(e)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ei(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return{hasPendingWrites:null!==this._document&&this._document.hasLocalMutations,fromCache:this._fromCache}},enumerable:!0,configurable:!0}),t.prototype.convertObject=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.convertValue(r)}),n},t.prototype.convertValue=function(t){if(t instanceof oe)return this.convertObject(t);if(t instanceof ae)return this.convertArray(t);if(t instanceof re){var e=t.value(),n=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.equals(n)||a("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new ei(e,this._firestore)}return t.value()},t.prototype.convertArray=function(t){var e=this;return t.internalValue.map(function(t){return e.convertValue(t)})},t}(),ri=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){m("Query.where",arguments,3),b("Query.where","string",2,n),O("Query.where",3,r);var i,o=ft("Query.where",e);if(o.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new It(Tt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new It(Tt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this._query.path.child(new Mt([r]));l(a.length%2==0,"Path should be a document key"),i=new re(this.firestore._databaseId,new Ut(a))}else{if(!(r instanceof ei))throw new It(Tt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+I(r)+".");i=new re(this.firestore._databaseId,r._key)}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var s=function(t,e,n){if(n.equals(zt.INSTANCE)){if(e!==pe.EQUAL)throw new It(Tt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new de(t)}if(n.equals(Zt.NAN)){if(e!==pe.EQUAL)throw new It(Tt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new ge(t)}return new fe(t,e,n)}(o,pe.fromString(n),i);return this.validateNewFilter(s),new t(this._query.addFilter(s),this.firestore)},t.prototype.orderBy=function(e,n){_("Query.orderBy",arguments,1,2),w("Query.orderBy","string",2,n);var r;if(void 0===n||"asc"===n)r=ye.ASCENDING;else{if("desc"!==n)throw new It(Tt.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ye.DESCENDING}if(null!==this._query.startAt)throw new It(Tt.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new It(Tt.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ft("Query.orderBy",e),o=new ve(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(m("Query.limit",arguments,1),b("Query.limit","number",1,e),e<=0)throw new It(Tt.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];v("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw A("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.equals(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(O(t,1,e),e instanceof ni){if(n.length>0)throw new It(Tt.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new It(Tt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new re(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new It(Tt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new me(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new It(Tt.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new It(Tt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new It(Tt.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new Ut(this._query.path.child(a));i.push(new re(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new me(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||lt(t[i])||(N("Query.onSnapshot",r=t[i],["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),C("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),C("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),i++),lt(t[i])?n=t[i]:(b("Query.onSnapshot","function",i,t[i]),w("Query.onSnapshot","function",i+1,t[i+1]),w("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Or({next:function(t){e.next&&e.next(new ii(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(){var t=this;return m("Query.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof fe&&t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.equals(t.field))throw new It(Tt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.equals(t))throw new It(Tt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),ii=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this.metadata={fromCache:n.fromCache,hasPendingWrites:n.hasPendingWrites}}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;_("QuerySnapshot.forEach",arguments,1,2),b("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new ri(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=function(t,e){if(e.oldDocs.isEmpty()){var n,r=0;return e.docChanges.map(function(i){var o=new ni(t,i.doc.key,i.doc,e.fromCache);return l(i.type===hn.Added,"Invalid event type for first snapshot"),l(!n||e.query.docComparator(n,i.doc)<0,"Got added events in wrong order"),n=i.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}})}var i=e.oldDocs;return e.docChanges.map(function(n){var r=new ni(t,n.doc.key,n.doc,e.fromCache),o=-1,a=-1;return n.type!==hn.Added&&(l((o=i.indexOf(n.doc.key))>=0,"Index for document not found"),i=i.delete(n.doc.key)),n.type!==hn.Removed&&(a=(i=i.add(n.doc)).indexOf(n.doc.key)),{type:function(t){switch(t){case hn.Added:return"added";case hn.Modified:case hn.Metadata:return"modified";case hn.Removed:return"removed";default:return u("Unknown change type: "+t)}}(n.type),doc:r,oldIndex:o,newIndex:a}})}(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.convertToDocumentImpl=function(t){return new ni(this._firestore,t.key,t,this.metadata.fromCache)},t}(),oi=function(t){function e(e,n){var r=t.call(this,he.atPath(e),n)||this;if(e.length%2!=1)throw new It(Tt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return Qr(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new ei(new Ut(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(_("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Ot.newId()),b("CollectionReference.doc","string",1,t),""===t)throw new It(Tt.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=Mt.fromString(t);return ei.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){m("CollectionReference.add",arguments,1),b("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(ri),ai=h(Zr,"Use firebase.firestore() instead."),si=h($r,"Use firebase.firestore().runTransaction() instead."),ui=h(ti,"Use firebase.firestore().batch() instead."),li=h(ei,"Use firebase.firestore().doc() instead."),ci=h(ni),hi=h(ri),pi=h(ii),fi=h(oi,"Use firebase.firestore().collection() instead."),di={Firestore:ai,GeoPoint:Pt,Blob:At,Transaction:si,WriteBatch:ui,DocumentReference:li,DocumentSnapshot:ci,Query:hi,QuerySnapshot:pi,CollectionReference:fi,FieldPath:ln,FieldValue:jr,setLogLevel:Zr.setLogLevel};e.registerFirestore=vt,vt(bt.default)},hQ4o:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.PacketReceiver=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&r.exceptionGuard(function(){n.onMessage_(t[e])})}(e);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++}(););},t}()},hkXn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("fvGz"),o=n("JEJ4"),a=function(){this.children={},this.childCount=0,this.value=null};e.TreeNode=a,e.Tree=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new a),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof i.Path?e:new i.Path(e),s=this;null!==(n=r.getFront());)s=new t(n,s,o.safeGet(s.node_.children,n)||new a),r=r.popFront();return s},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){r.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;o.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new i.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=o.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}()},iEW0:function(t,e,n){var r=n("kUdC");n("Rv9P"),n("Dvgu"),n("Y5DG"),n("ce4+"),t.exports=r},isNy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}();e.SortedMapIterator=r;var i=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:a.EMPTY_NODE,this.right=null!=o?o:a.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return i=this,r=n(t,i.key),(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return a.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return a.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}();e.LLRBNode=i;var o=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new i(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}();e.LLRBEmptyNode=o;var a=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,i.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,i.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new r(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new r(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new r(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new o,t}();e.SortedMap=a},j0qB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("Rgd9"),o=n("UcKF"),a=n("FGYS");e.Connection=function(){function t(t,e,n,i,o,s,u){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=r.logWrapper("c:"+this.id+":"),this.transportManager_=new a.TransportManager(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=r.setTimeoutNonBlocking(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=r.requireKey("t",t),n=r.requireKey("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=r.requireKey("t",t),n=r.requireKey("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=r.requireKey("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?r.error("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r.error("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),o.PROTOCOL_VERSION!==n&&r.warn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),r.setTimeoutNonBlocking(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):r.setTimeoutNonBlocking(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(i.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}()},j3M3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("R3TC");e.SnapshotHolder=function(){function t(){this.rootNode_=r.ChildrenNode.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}()},kCHx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gOHv"),i=n("fvGz");e.Overwrite=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=r.OperationType.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,i.Path.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}()},kQVV:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length}},kUdC:function(t,e,n){n("ryHz"),t.exports=n("XtH8").default},lDZL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.EventQueue=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new i(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}();var i=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();r.logger&&r.log("event: "+e.toString()),r.exceptionGuard(n)}}},t.prototype.getPath=function(){return this.path_},t}();e.EventList=i},lI6h:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){t.apply(this,arguments)}return Object(r.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("E9/g").a)},mHG6:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},mNfF:function(t,e){!function(e){function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,n._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void o(e.promise,t)}i(e.promise,r)}else(1===t._state?i:o)(e.promise,t._value)})):t._deferreds.push(e)}function i(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof n)return t._state=3,t._value=e,void a(t);if("function"==typeof r)return void s(function(t,e){return function(){t.apply(e,arguments)}}(r,e),t)}t._state=1,t._value=e,a(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)r(t,t._deferreds[e]);t._deferreds=null}function s(t,e){var n=!1;try{t(function(t){n||(n=!0,i(e,t))},function(t){n||(n=!0,o(e,t))})}catch(t){if(n)return;n=!0,o(e,t)}}var u=setTimeout;n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var n=new this.constructor(function(){});return r(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},n.all=function(t){var e=Array.prototype.slice.call(t);return new n(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(o,t)},n)}e[o]=a,0==--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,n){n(t)})},n.race=function(t){return new n(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},n._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){u(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=n:e.Promise||(e.Promise=n)}(this)},mZoP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("JEJ4"),o=n("Rgd9"),a=n("UcKF");e.RepoInfo=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=o.PersistentStorage.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&o.PersistentStorage.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){r.assert("string"==typeof t,"typeof type must == string"),r.assert("object"==typeof e,"typeof params must == object");var n;if(t===a.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==a.LONG_POLLING)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var o=[];return i.forEach(e,function(t,e){o.push(t+"="+e)}),n+o.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}()},miEe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("F1yO"),o=n("stu6"),a=n("/fob"),s=n("Nq7v"),u=n("G0Qy"),l=n("W4Cj"),c=n("n3qp"),h=n("XiwH"),p=n("JEJ4");e.QueryParams=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a.PRIORITY_INDEX}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:i.MIN_NAME},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:i.MAX_NAME},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return r.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==a.PRIORITY_INDEX&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==a.PRIORITY_INDEX},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new l.IndexedFilter(this.getIndex()):this.hasLimit()?new c.LimitedFilter(this):new h.RangedFilter(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var i;return this.index_===a.PRIORITY_INDEX?i=e.PRIORITY_INDEX:this.index_===s.VALUE_INDEX?i=e.VALUE_INDEX:this.index_===o.KEY_INDEX?i=e.KEY_INDEX:(r.assert(this.index_ instanceof u.PathIndex,"Unrecognized index type!"),i=this.index_.toString()),n[e.ORDER_BY]=p.stringify(i),this.startSet_&&(n[e.START_AT]=p.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+p.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=p.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+p.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}()},mz3w:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,r=n("xIGM").a.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}()},n3qp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("XiwH"),i=n("R3TC"),o=n("p+VM"),a=n("JEJ4"),s=n("ertD");e.LimitedFilter=function(){function t(t){this.rangedFilter_=new r.RangedFilter(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,a,s){return this.rangedFilter_.matches(new o.NamedNode(e,n))||(n=i.ChildrenNode.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,a,s):this.fullLimitUpdateChild_(t,e,n,a,s)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_))for(r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_),u=void 0,u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_),c=0;u.hasNext()&&c<this.limit_&&(p=u.getNext(),this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),p)<=0:this.index_.compare(p,this.rangedFilter_.getEndPost())<=0);)r=r.updateImmediateChild(p.name,p.node),c++;else{r=(r=e.withIndex(this.index_)).updatePriority(i.ChildrenNode.EMPTY_NODE);var o=void 0,a=void 0,s=void 0,u=void 0;if(this.reverse_){u=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();s=function(t,e){return l(e,t)}}else u=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),s=this.index_.getCompare();for(var c=0,h=!1;u.hasNext();){var p=u.getNext();!h&&s(o,p)<=0&&(h=!0),h&&c<this.limit_&&s(p,a)<=0?c++:r=r.updateImmediateChild(p.name,i.ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,u){var l;if(this.reverse_){var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else l=this.index_.getCompare();var h=t;a.assert(h.numChildren()==this.limit_,"");var p=new o.NamedNode(e,n),f=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),d=this.rangedFilter_.matches(p);if(h.hasChild(e)){for(var g=h.getImmediateChild(e),y=r.getChildAfterChild(this.index_,f,this.reverse_);null!=y&&(y.name==e||h.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);var m=null==y?1:l(y,p);if(d&&!n.isEmpty()&&m>=0)return null!=u&&u.trackChildChange(s.Change.childChangedChange(e,n,g)),h.updateImmediateChild(e,n);null!=u&&u.trackChildChange(s.Change.childRemovedChange(e,g));var v=h.updateImmediateChild(e,i.ChildrenNode.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(null!=u&&u.trackChildChange(s.Change.childAddedChange(y.name,y.node)),v.updateImmediateChild(y.name,y.node)):v}return n.isEmpty()?t:d&&l(f,p)>=0?(null!=u&&(u.trackChildChange(s.Change.childRemovedChange(f.name,f.node)),u.trackChildChange(s.Change.childAddedChange(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(f.name,i.ChildrenNode.EMPTY_NODE)):t},t}()},opdF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.StatsListener=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=r.clone(t);return this.last_&&r.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}()},oyal:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("xfHL"),o=n("F1yO"),a=n("JEJ4");e.OnDisconnect=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){r.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),r.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){r.validateArgCount("OnDisconnect.remove",0,1,arguments.length),i.validateWritablePath("OnDisconnect.remove",this.path_),r.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){r.validateArgCount("OnDisconnect.set",1,2,arguments.length),i.validateWritablePath("OnDisconnect.set",this.path_),i.validateFirebaseDataArg("OnDisconnect.set",1,t,this.path_,!1),r.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){r.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),i.validateWritablePath("OnDisconnect.setWithPriority",this.path_),i.validateFirebaseDataArg("OnDisconnect.setWithPriority",1,t,this.path_,!1),i.validatePriority("OnDisconnect.setWithPriority",2,e,!1),r.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var o=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,o.wrapCallback(n)),o.promise},t.prototype.update=function(t,e){if(r.validateArgCount("OnDisconnect.update",1,2,arguments.length),i.validateWritablePath("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},s=0;s<t.length;++s)n[""+s]=t[s];t=n,o.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}i.validateFirebaseMergeDataArg("OnDisconnect.update",1,t,this.path_,!1),r.validateCallback("OnDisconnect.update",2,e,!0);var u=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,u.wrapCallback(e)),u.promise},t}()},"p+VM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}()},pHuv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZGn5"),i=n("43Go"),o=n("fvGz"),a=n("z8+r"),s=n("Htcq"),u=n("j3M3"),l=n("JEJ4"),c=n("F1yO"),h=n("JEJ4"),p=n("phte"),f=n("cm6g"),d=n("zPe/"),g=n("opdF"),y=n("lDZL"),m=n("xhf5"),v=n("6oqh"),_=n("8UuO");e.Repo=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new y.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new a.SparseSnapshotTree,this.persistentConnection_=null;var i=new p.AuthTokenProvider(n);if(this.stats_=f.StatsManager.getCollection(t),e||c.beingCrawled())this.server_=new v.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{l.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new m.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=f.StatsManager.getOrCreateReporter(t,function(){return new d.StatsReporter(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new u.SnapshotHolder,this.infoSyncTree_=new s.SyncTree({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new s.SyncTree({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new o.Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return r.generateWithValues({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var a=new o.Path(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var u=h.map(e,function(t){return i.nodeFromJSON(t)});s=this.serverSyncTree_.applyTaggedQueryMerge(a,u,r)}else{var l=i.nodeFromJSON(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(a,l,r)}else if(n){var c=h.map(e,function(t){return i.nodeFromJSON(t)});s=this.serverSyncTree_.applyServerMerge(a,c)}else{var p=i.nodeFromJSON(e);s=this.serverSyncTree_.applyServerOverwrite(a,p)}var f=a;s.length>0&&(f=this.rerunTransactions_(a)),this.eventQueue_.raiseEventsForChangedPath(f,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;c.each(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new o.Path("/.info/"+t),r=i.nodeFromJSON(e);this.infoData_.updateSnapshot(n,r);var a=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,a)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,o){var a=this;this.log_("set",{path:t.toString(),value:e,priority:n});var s=this.generateServerValues(),u=i.nodeFromJSON(e,n),l=r.resolveDeferredValueSnapshot(u,s),h=this.getNextWriteId_(),p=this.serverSyncTree_.applyUserOverwrite(t,l,h,!0);this.eventQueue_.queueEvents(p),this.server_.put(t.toString(),u.val(!0),function(e,n){var r="ok"===e;r||c.warn("set at "+t+" failed: "+e);var i=a.serverSyncTree_.ackUserWrite(h,!r);a.eventQueue_.raiseEventsForChangedPath(t,i),a.callOnCompleteCallback(o,e,n)});var f=this.abortTransactions_(t);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(t,e,n){var o=this;this.log_("update",{path:t.toString(),value:e});var a=!0,s=this.generateServerValues(),u={};if(h.forEach(e,function(t,e){a=!1;var n=i.nodeFromJSON(e);u[t]=r.resolveDeferredValueSnapshot(n,s)}),a)c.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var l=this.getNextWriteId_(),p=this.serverSyncTree_.applyUserMerge(t,u,l);this.eventQueue_.queueEvents(p),this.server_.merge(t.toString(),e,function(e,r){var i="ok"===e;i||c.warn("update at "+t+" failed: "+e);var a=o.serverSyncTree_.ackUserWrite(l,!i),s=a.length>0?o.rerunTransactions_(t):t;o.eventQueue_.raiseEventsForChangedPath(s,a),o.callOnCompleteCallback(n,e,r)}),h.forEach(e,function(e){var n=o.abortTransactions_(t.child(e));o.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];r.resolveDeferredValueTree(this.onDisconnect_,e).forEachTree(o.Path.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new a.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(o.Path.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,o=i.nodeFromJSON(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,i){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(n,e,i)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var o=this,a=i.nodeFromJSON(e,n);this.server_.onDisconnectPut(t.toString(),a.val(!0),function(e,n){"ok"===e&&o.onDisconnect_.remember(t,a),o.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(h.isEmpty(e))return c.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,a){"ok"===o&&h.forEach(e,function(e,n){var o=i.nodeFromJSON(n);r.onDisconnect_.remember(t.child(e),o)}),r.callOnCompleteCallback(n,o,a)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new g.StatsListener(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);h.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),c.log.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&c.exceptionGuard(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new _.Database(this))},enumerable:!0,configurable:!0}),t}()},phte:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.AuthTokenProvider=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(r.log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';r.warn(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}()},qLnt:function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof c?e.errors:e)},[])}var i=n("1j/l"),o=n("NGRF"),a=n("B1iP"),s=n("8ofh"),u=n("NePw"),l=n("6Xbx"),c=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(l.b)(e,t),e}(Error);n.d(e,"a",function(){return h});var h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,l=this._parents,h=this._unsubscribe,p=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,d=l?l.length:0;n;)n.remove(this),n=++f<d&&l[f]||null;if(Object(a.a)(h)&&(y=Object(s.a)(h).call(this))===u.a&&(e=!0,t=t||(u.a.e instanceof c?r(u.a.e.errors):[u.a.e])),Object(i.a)(p))for(f=-1,d=p.length;++f<d;){var g=p[f];if(Object(o.a)(g)){var y=Object(s.a)(g.unsubscribe).call(g);if(y===u.a){e=!0,t=t||[];var m=u.a.e;m instanceof c?t=t.concat(r(m.errors)):t.push(m)}}}if(e)throw new c(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},qYrH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO"),i=n("r9Yg"),o=n("cm6g"),a=n("hQ4o"),s=n("UcKF"),u=n("JEJ4"),l=n("JEJ4");e.FIREBASE_LONGPOLL_START_PARAM="start",e.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",e.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",e.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",e.FIREBASE_LONGPOLL_ID_PARAM="id",e.FIREBASE_LONGPOLL_PW_PARAM="pw",e.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",e.FIREBASE_LONGPOLL_DATA_PARAM="d",e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",e.BrowserPollConnection=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=r.logWrapper(t),this.stats_=o.StatsManager.getCollection(e),this.urlFn=function(t){return e.connectionURL(s.LONG_POLLING,t)}}return t.prototype.open=function(t,n){var i=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a.PacketReceiver(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(3e4)),r.executeWhenDOMReady(function(){if(!i.isClosed_){i.scriptTagHolder=new c(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1],a=t[2];if(i.incrementIncomingBytes_(t),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,r==e.FIREBASE_LONGPOLL_START_PARAM)i.id=o,i.password=a;else{if(r!==e.FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+r);o?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(o,function(){i.onClosed_()})):i.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];i.incrementIncomingBytes_(t),i.myPacketOrderer.handleResponse(n,r)},function(){i.onClosed_()},i.urlFn);var t={};t[e.FIREBASE_LONGPOLL_START_PARAM]="t",t[e.FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(t[e.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=i.scriptTagHolder.uniqueCallbackIdentifier),t[s.VERSION_PARAM]=s.PROTOCOL_VERSION,i.transportSessionId&&(t[s.TRANSPORT_SESSION_PARAM]=i.transportSessionId),i.lastSessionId&&(t[s.LAST_SESSION_PARAM]=i.lastSessionId),!l.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(t[s.REFERER_PARAM]=s.FORGE_REF);var n=i.urlFn(t);i.log_("Connecting via long-poll to "+n),i.scriptTagHolder.addTag(n,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!r.isChromeExtensionContentScript()&&!r.isWindowsStoreApp()&&!l.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=u.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=u.base64Encode(e),i=r.splitStringBySize(n,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,n){if(!l.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var r={};r[e.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[e.FIREBASE_LONGPOLL_ID_PARAM]=t,r[e.FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=u.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}();var c=function(){function t(n,o,a,s){if(this.onDisconnect=a,this.urlFn=s,this.outstandingRequests=new i.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,l.isNodeSdk())this.commandCB=n,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=r.LUIDGenerator(),window[e.FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=n,window[e.FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=o,this.myIFrame=t.createIFrame_();var u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(u='<script>document.domain="'+document.domain+'";<\/script>');var c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(t){r.log("frame writing exception"),t.stack&&r.log(t.stack),r.log(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||r.log("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var n=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==n.myIFrame&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)},Math.floor(0))),l.isNodeSdk()&&this.myID){var r={};r[e.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",r[e.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,r[e.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var i=this.urlFn(r);t.nodeRestRequest(i)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[e.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,t[e.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,t[e.FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){var o=this.pendingSegs.shift();r=r+"&"+e.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+i+"="+o.seg+"&"+e.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+i+"="+o.ts+"&"+e.FIREBASE_LONGPOLL_DATA_PARAM+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;l.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){r.log("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(t){}},Math.floor(1))},t}();e.FirebaseIFrameScriptHolder=c},qgI0:function(t,e,n){"use strict";var r=n("xIGM"),i=n("kQVV"),o=n("mHG6"),a=n("NGRF"),s=n("AP4T"),u=n("X3fp"),l=n("6Xbx"),c=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return Object(l.b)(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("E9/g").a),h=n("mz3w");e.a=function(t,e,n,l){var p=new c(t,n,l);if(p.closed)return null;if(e instanceof s.a)return e._isScalar?(p.next(e.value),p.complete(),null):(p.syncErrorThrowable=!0,e.subscribe(p));if(Object(i.a)(e)){for(var f=0,d=e.length;f<d&&!p.closed;f++)p.next(e[f]);p.closed||p.complete()}else{if(Object(o.a)(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){r.a.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[u.a])for(var g=e[u.a]();;){var y=g.next();if(y.done){p.complete();break}if(p.next(y.value),p.closed)break}else if(e&&"function"==typeof e[h.a]){var m=e[h.a]();if("function"==typeof m.subscribe)return m.subscribe(new c(t,n,l));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(Object(a.a)(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(v))}}return null}},r9Yg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.CountedSet=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return r.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return r.isEmpty(this.set)},t.prototype.count=function(){return r.getCount(this.set)},t.prototype.each=function(t){r.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return r.forEach(this.set,function(e){t.push(e)}),t},t}()},rB9K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("JEJ4"),o=n("stu6"),a=n("/fob"),s=n("Nq7v"),u=n("G0Qy"),l=n("F1yO"),c=n("fvGz"),h=n("xfHL"),p=n("JEJ4"),f=n("rtGJ"),d=n("JEJ4");e.Query=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return i.assert(r,"Reference.ts has not been loaded"),r},set:function(t){r=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===o.KEY_INDEX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",c="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=l.MIN_NAME)throw new Error(r);if("string"!=typeof e)throw new Error(c)}if(t.hasEnd()){if(t.getIndexEndName()!=l.MAX_NAME)throw new Error(r);if("string"!=typeof n)throw new Error(c)}}else if(t.getIndex()===a.PRIORITY_INDEX){if(null!=e&&!h.isValidPriority(e)||null!=n&&!h.isValidPriority(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(i.assert(t.getIndex()instanceof u.PathIndex||t.getIndex()===s.VALUE_INDEX,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return p.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){p.validateArgCount("Query.on",2,4,arguments.length),h.validateEventType("Query.on",1,e,!1),p.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new f.ValueEventRegistration(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new f.ChildEventRegistration(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){p.validateArgCount("Query.off",0,3,arguments.length),h.validateEventType("Query.off",1,t,!0),p.validateCallback("Query.off",2,e,!0),p.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new f.ValueEventRegistration(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new f.ChildEventRegistration(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;p.validateArgCount("Query.once",1,4,arguments.length),h.validateEventType("Query.once",1,e,!1),p.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new d.Deferred;u.promise.catch(function(){});var l=function(t){s&&(s=!1,o.off(e,l),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,l,function(t){o.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(p.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(p.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(p.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');h.validatePathString("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new c.Path(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new u.PathIndex(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){p.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(o.KEY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){p.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(a.PRIORITY_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){p.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(s.VALUE_INDEX);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),p.validateArgCount("Query.startAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.startAt",1,e,this.path,!0),h.validateKey("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),p.validateArgCount("Query.endAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.endAt",1,e,this.path,!0),h.validateKey("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(p.validateArgCount("Query.equalTo",1,2,arguments.length),h.validateFirebaseDataArg("Query.equalTo",1,t,this.path,!1),h.validateKey("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return p.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return p.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=l.ObjectToUniqueKey(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(p.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,p.validateCallback(t,3,r.cancel,!0),r.context=n,p.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(p.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}()},rbSf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("fvGz"),o=n("gOHv");e.AckUserWrite=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=o.OperationType.ACK_USER_WRITE,this.source=o.OperationSource.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return r.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new i.Path(e));return new t(i.Path.Empty,n,this.revert)}return r.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}()},rtGJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("GnQ5"),i=n("A4jy"),o=n("JEJ4"),a=n("JEJ4");e.ValueEventRegistration=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new i.DataEvent("value",this,new r.DataSnapshot(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new i.CancelEvent(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),e.ChildEventRegistration=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,o.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new i.CancelEvent(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),o=e.getQueryParams().getIndex();return new i.DataEvent(t.type,this,new r.DataSnapshot(t.snapshotNode,n,o),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=o.getCount(e.callbacks_);if(n===o.getCount(this.callbacks_)){if(1===n){var r=o.getAnyKey(e.callbacks_),i=o.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return o.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}()},ryHz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fAJX"),i=(n.n(r),n("vrVh")),o=(n.n(i),n("ctu8"));n.n(o)},sZ8A:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4");e.nextPushId=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(i){var o=i===e;e=i;var a,s=new Array(8);for(a=7;a>=0;a--)s[a]=t.charAt(i%64),i=Math.floor(i/64);r.assert(0===i,"Cannot push at time == 0");var u=s.join("");if(o){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)u+=t.charAt(n[a]);return r.assert(20===u.length,"nextPushId: Length should be 20."),u}}()},stu6:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("GboV"),a=n("p+VM"),s=n("F1yO"),u=n("JEJ4"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return i},set:function(t){i=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return s.nameCompare(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw u.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return a.NamedNode.MIN},e.prototype.maxPost=function(){return new a.NamedNode(s.MAX_NAME,i)},e.prototype.makePost=function(t,e){return u.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new a.NamedNode(t,i)},e.prototype.toString=function(){return".key"},e}(o.Index);e.KeyIndex=l,e.KEY_INDEX=new l},tYwN:function(t,e,n){"use strict";function r(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return l.RepoManager.getInstance().databaseFromApp(t,n)},{Reference:s.Reference,Query:a.Query,Database:o.Database,enableLogging:u.enableLogging,INTERNAL:c,ServerValue:f,TEST_ACCESS:h},null,!0);p.isNodeSdk()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("XtH8"),o=n("8UuO");e.Database=o.Database;var a=n("rB9K");e.Query=a.Query;var s=n("5pXs");e.Reference=s.Reference;var u=n("F1yO");e.enableLogging=u.enableLogging;var l=n("+VeI"),c=n("xvZM"),h=n("7qHF"),p=n("JEJ4"),f=o.Database.ServerValue;e.ServerValue=f,e.registerDatabase=r,r(i.default);var d=n("GnQ5");e.DataSnapshot=d.DataSnapshot;var g=n("oyal");e.OnDisconnect=g.OnDisconnect},uCc5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("y8hQ"),o=n("R3TC"),a=n("JEJ4"),s=n("JEJ4"),u=n("bN85"),l=n("0npo");e.SyncPoint=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(r,"Reference.ts has not been loaded"),r},set:function(t){a.assert(!r,"__referenceConstructor has already been defined"),r=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return s.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=s.safeGet(this.views_,r);return a.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return s.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,a){var c=t.queryIdentifier(),h=s.safeGet(this.views_,c);if(!h){var p=n.calcCompleteEventCache(a?r:null),f=!1;p?f=!0:r instanceof o.ChildrenNode?(p=n.calcCompleteEventChildren(r),f=!1):(p=o.ChildrenNode.EMPTY_NODE,f=!1);var d=new u.ViewCache(new i.CacheNode(p,f,!1),new i.CacheNode(r,a,!1));h=new l.View(t,d),this.views_[c]=h}return h.addEventRegistration(e),h.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],u=this.hasCompleteView();if("default"===i){var l=this;s.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete l.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var c=s.safeGet(this.views_,i);c&&(a=a.concat(c.removeEventRegistration(n,r)),c.isEmpty()&&(delete this.views_[i],c.getQuery().getQueryParams().loadsAllData()||o.push(c.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return s.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return s.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return s.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}()},usOC:function(t,e,n){"use strict";function r(t){return"storage/"+t}function i(){return new nt(rt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(){return new nt(rt.CANCELED,"User canceled the upload/download.")}function a(){return new nt(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function s(t,e,n){return new nt(rt.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function u(){return new nt(rt.APP_DELETED,"The Firebase app was deleted.")}function l(t,e){return new nt(rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function c(t){throw new nt(rt.INTERNAL_ERROR,"Internal error: "+t)}function h(t,e){switch(t){case it.RAW:return new ot(p(e));case it.BASE64:case it.BASE64URL:return new ot(f(t,e));case it.DATA_URL:return new ot(function(t){var e=new at(t);return e.base64?f(it.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw l(it.DATA_URL,"Malformed data URL.")}return p(e)}(e.rest)}(e),function(t){return new at(t).contentType}(e))}throw i()}function p(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function f(t,e){switch(t){case it.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw l(t,"Invalid character '"+(a=n?"-":"_")+"' found: is it base64url encoded?");break;case it.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o){var a=i?"+":"/";throw l(t,"Invalid character '"+a+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw l(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function d(t){switch(t){case ut.RUNNING:case ut.PAUSING:case ut.CANCELING:return lt.RUNNING;case ut.PAUSED:return lt.PAUSED;case ut.SUCCESS:return lt.SUCCESS;case ut.CANCELED:return lt.CANCELED;case ut.ERROR:default:return lt.ERROR}}function g(t,e){for(var n in t)(function(t,e){return Object.prototype.hasOwnProperty.call(t,e)})(t,n)&&e(n,t[n])}function y(t){if(null==t)return{};var e={};return g(t,function(t,n){e[t]=n}),e}function m(t){return new Promise(t)}function v(t){return Promise.resolve(t)}function _(t){return null!=t}function b(t){return void 0!==t}function w(t){return"function"==typeof t}function E(t){return"object"==typeof t}function C(t){return"string"==typeof t||t instanceof String}function S(t){return T()&&t instanceof Blob}function T(){return"undefined"!=typeof Blob}function I(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function O(t){return X+Y+t}function N(t){return X+Z+t}function A(t){var e=encodeURIComponent,n="?";return g(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function P(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function k(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(e,r,i,o){var a,s;return e===r?(a=e,s=1===e?"argument":"arguments"):(a="between "+e+" and "+r,s="arguments"),new nt(rt.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+a+" "+s+", received "+n.length+".")}(r,i);for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?s(o,t,e.message):s(o,t,e)}}function R(t,e){function n(t){if(!C(t))throw"Expected string."}var r;return r=t?function(t,e){return function(n){t(n),e(n)}}(n,t):n,new gt(r,e)}function D(t){return new gt(function(t){if(!t||!E(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!E(n))throw"Expected object for 'customMetadata' mapping."}else if(function(t){return E(t)&&null!==t}(n))throw"Mapping for '"+e+"' cannot be an object."}},t)}function x(){return new gt(function(t){if(!(function(t){return"number"==typeof t||t instanceof Number}(t)&&t>=0))throw"Expected a number 0 or greater."})}function M(t,e){return new gt(function(e){if(!(null===e||_(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)},e)}function L(t){return new gt(function(t){if(null!==t&&!w(t))throw"Expected a Function."},t)}function F(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function U(t,e){return-1!==t.indexOf(e)}function V(t){if(!t)throw i()}function j(t,e){return function(n,r){var i=function(t,e,n){var i=function(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return E(t)&&!Array.isArray(t)}(e)?e:null}(r);return null===i?null:function(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new pt(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,i,n)}(t,0,e);return V(null!==i),i}}function B(t){return function(e,n){var r;return(r=401===e.getStatus()?new nt(rt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new nt(rt.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new nt(rt.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function q(t){var e=B(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new nt(rt.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function W(t,e,n){var r=O(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new mt(r,"GET",j(t,n),i);return o.errorHandler=q(e),o}function H(t,e,n){var r=y(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}function G(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){V(!1)}return V(U(e||["active"],n)),n}function K(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];v(!0).then(function(){t.apply(null,e)})}}function Q(t){t.INTERNAL.registerService(Pt,function(t,e,n){return new Nt(t,new ht,n)},{TaskState:lt,TaskEvent:st,StringFormat:it,Storage:Nt,Reference:Et},void 0,!0)}Object.defineProperty(e,"__esModule",{value:!0});var z,J=n("XtH8"),X="https://firebasestorage.googleapis.com",Y="/v0",Z="/v0",$=12e4,tt=6e4,et=-9007199254740991,nt=function(){function t(t,e){this.code_=r(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return r(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),rt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},it={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ot=function(t,e){this.data=t,this.contentType=e||null},at=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw l(it.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=function(t,e){return!!(t.length>=e.length)&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}(),st={STATE_CHANGED:"state_changed"},ut={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},lt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(z=z||(z={}));var ct=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=z.NO_ERROR,this.sendPromise_=m(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=z.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=z.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw c("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),_(r)&&g(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())}),_(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw c("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw c("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw c("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){_(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){_(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ht=function(){function t(){}return t.prototype.createXhrIo=function(){return new ct},t}(),pt=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new nt(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],i=0;i<r.length;i++){var o=r[i],a=o.regex.exec(e);if(a){var s=a[o.indices.path];s||(s=""),n=new t(a[o.indices.bucket],s),o.postModify(n);break}}if(null==n)throw function(t){return new nt(rt.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}(),ft=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||function(t,e){return e}},dt=null,gt=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!b(e)||t(e)},this.optional=!!e}}(),yt=function(){function t(t,e){var n=0,r="";S(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(S(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(T()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=F();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(T())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=e.map(function(t){return C(t)?h(it.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),mt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]},vt=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null},_t=function(){return function(t,e,n){if(w(t)||_(e)||_(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),bt=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(t.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var t=this.metadata.downloadURLs;return null!=t&&null!=t[0]?t[0]:null}return null},enumerable:!0,configurable:!0}),t}(),wt=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ut.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(rt.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(ut.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(rt.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(ut.ERROR))},this.promise_=m(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ut.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case ut.RUNNING:t(n);break;case ut.CANCELING:e.transition_(ut.CANCELED);break;case ut.PAUSING:e.transition_(ut.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=H(e,r,i),s={name:a.fullPath},u=N(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=P(a,n),h=t.maxUploadRetryTime(),p=new mt(u,"POST",function(t,e){G(t);var n;try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){V(!1)}return V(C(n)),n},h);return p.urlParams=s,p.headers=l,p.body=c,p.errorHandler=B(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,n,r,i){var o=t.authWrapper_.maxUploadRetryTime(),a=new mt(r,"POST",function(t,e){var n,r=G(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){V(!1)}var o=parseInt(n,10);return V(!isNaN(o)),new vt(o,i.size(),"final"===r)},o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=B(n),a}(0,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new vt(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=function(t,e,n,r,i,o,s,u){var l=new vt(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new nt(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=l.total-l.current,h=c;i>0&&(h=Math.min(h,i));var p=l.current,f={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},d=r.slice(p,p+h);if(null===d)throw a();var g=e.maxUploadRetryTime(),y=new mt(n,"POST",function(t,n){var i,a=G(t,["active","final"]),s=l.current+h,u=r.size();return i="final"===a?j(e,o)(t,n):null,new vt(s,u,"final"===a,i)},g);return y.headers=f,y.body=d.uploadData(),y.progressCallback=u||null,y.errorHandler=B(t),y}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(ut.ERROR)}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(ut.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=W(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(ut.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+u;var l=H(e,r,i),c=P(l,n),h=yt.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+u+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===h)throw a();var p={name:l.fullPath},f=N(o),d=t.maxUploadRetryTime(),g=new mt(f,"POST",j(t,n),d);return g.urlParams=p,g.headers=s,g.body=h.uploadData(),g.errorHandler=B(e),g}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(ut.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ut.CANCELING:case ut.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ut.RUNNING:var e=this.state_===ut.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case ut.PAUSED:this.state_=t,this.notifyObservers_();break;case ut.CANCELED:this.error_=o(),this.state_=t,this.notifyObservers_();break;case ut.ERROR:case ut.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case ut.PAUSING:this.transition_(ut.PAUSED);break;case ut.CANCELING:this.transition_(ut.CANCELED);break;case ut.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=d(this.state_);return new bt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(t){try{return void s(t)}catch(t){}try{if(u(t),!(b(t.next)||b(t.error)||b(t.complete)))throw"";return}catch(t){throw a}}function o(t){return function(e,n,i){null!==t&&k("on",t,arguments);var o=new _t(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var a="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=L(!0).validator,u=M(null,!0).validator;k("on",[R(function(e){if(t!==st.STATE_CHANGED)throw"Expected one of the event types: ["+st.STATE_CHANGED+"]."}),M(i,!0),L(!0),L(!0)],arguments);var l=this,c=[M(function(t){if(null===t)throw a;i(t)}),L(!0),L(!0)];return b(e)||b(n)||b(r)?o(null)(e,n,r):o(c)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){!function(e,n){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}(this.observers_)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),function(t){return Array.prototype.slice.call(t)}(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(d(this.state_)){case lt.SUCCESS:K(this.resolve_.bind(null,this.snapshot))();break;case lt.CANCELED:case lt.ERROR:K(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(d(this.state_)){case lt.RUNNING:case lt.PAUSED:null!==t.next&&K(t.next.bind(t,this.snapshot))();break;case lt.SUCCESS:null!==t.complete&&K(t.complete.bind(t))();break;case lt.CANCELED:case lt.ERROR:null!==t.error&&K(t.error.bind(t,this.error_))();break;default:null!==t.error&&K(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){k("resume",[],arguments);var t=this.state_===ut.PAUSED||this.state_===ut.PAUSING;return t&&this.transition_(ut.RUNNING),t},t.prototype.pause=function(){k("pause",[],arguments);var t=this.state_===ut.RUNNING;return t&&this.transition_(ut.PAUSING),t},t.prototype.cancel=function(){k("cancel",[],arguments);var t=this.state_===ut.RUNNING||this.state_===ut.PAUSING;return t&&this.transition_(ut.CANCELING),t},t}(),Et=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof pt?e:pt.makeFromUrl(e)}return t.prototype.toString=function(){return k("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(dt)return dt;var t=[];t.push(new ft("bucket")),t.push(new ft("generation")),t.push(new ft("metageneration")),t.push(new ft("name","fullPath",!0));var e=new ft("name");e.xform=function(t,e){return function(t){return!C(t)||t.length<2?t:(t=t,I(t))}(e)},t.push(e);var n=new ft("size");return n.xform=function(t,e){return _(e)?+e:e},t.push(n),t.push(new ft("timeCreated")),t.push(new ft("updated")),t.push(new ft("md5Hash",null,!0)),t.push(new ft("cacheControl",null,!0)),t.push(new ft("contentDisposition",null,!0)),t.push(new ft("contentEncoding",null,!0)),t.push(new ft("contentLanguage",null,!0)),t.push(new ft("contentType",null,!0)),t.push(new ft("metadata","customMetadata",!0)),t.push(new ft("downloadTokens","downloadURLs",!1,function(t,e){if(!(C(e)&&e.length>0))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var r=t.fullPath;return function(t){return"https://firebasestorage.googleapis.com"+Y+t}("/b/"+n(t.bucket)+"/o/"+n(r))+A({alt:"media",token:e})})})),dt=t}()},t.prototype.child=function(t){k("child",[R()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new pt(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new pt(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new pt(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return I(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),k("put",[new gt(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||T()&&t instanceof Blob))throw"Expected Blob or File."}),D(!0)],arguments),this.throwIfRoot_("put"),new wt(this,this.authWrapper,this.location,this.mappings(),new yt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=it.RAW),k("putString",[R(),R(function(t){switch(t){case it.RAW:case it.BASE64:case it.BASE64URL:case it.DATA_URL:return;default:throw"Expected one of the event types: ["+it.RAW+", "+it.BASE64+", "+it.BASE64URL+", "+it.DATA_URL+"]."}},!0),D(!0)],arguments),this.throwIfRoot_("putString");var r=h(e,t),i=y(n);return!_(i.contentType)&&_(r.contentType)&&(i.contentType=r.contentType),new wt(this,this.authWrapper,this.location,this.mappings(),new yt(r.data,!0),i)},t.prototype.delete=function(){k("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=O(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new mt(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=q(e),i}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){k("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=W(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){k("updateMetadata",[D()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var i=O(e.fullServerUrl()),o=P(n,r),a=t.maxOperationRetryTime(),s=new mt(i,"PATCH",j(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=q(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){return k("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(t){var e=t.downloadURLs[0];if(_(e))return e;throw new nt(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new nt(rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Ct=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),St=function(){function t(){this.map_={},this.id_=et}return t.prototype.addRequest=function(t){function e(){delete r.map_[n]}var n=this.id_;this.id_++,this.map_[n]=t;var r=this;t.getPromise().then(e,e)},t.prototype.clear=function(){g(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Tt=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;_(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=$,this.maxUploadRetryTime_=tt,this.requestMap_=new St}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:pt.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&_(this.app_.INTERNAL)&&_(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):v(null)},t.prototype.bucket=function(){if(this.deleted_)throw u();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Ct(u());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),It=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c;var h=this;this.promise_=m(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){function t(t,n){var r=e.resolve_,a=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var l=e.callback_(s,s.getResponseText());b(l)?r(l):r()}catch(t){a(t)}else if(null!==s)(c=i()).setServerResponseProp(s.getResponseText()),a(e.errorCallback_?e.errorCallback_(s,c):c);else if(n.canceled)a(c=e.appDelete_?u():o());else{var c=new nt(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.");a(c)}}var e=this;this.canceled_?t(0,new Ot(!1,null,!0)):this.backoffId_=function(t,e,n){function r(){return 2===c}function i(){h||(h=!0,e.apply(null,arguments))}function o(e){u=setTimeout(function(){u=null,t(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!h)if(t)i.apply(null,arguments);else if(r()||l)i.apply(null,arguments);else{s<64&&(s*=2);var a;1===c?(c=2,a=0):a=1e3*(s+Math.random()),o(a)}},r())},e)}function a(t){p||(p=!0,h||(null!==u?(t||(c=2),clearTimeout(u),o(0)):t||(c=1)))}var s=1,u=null,l=!1,c=0,h=!1,p=!1;return o(0),setTimeout(function(){l=!0,a(!0)},n),a}(function(t,n){function r(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}if(n)t(!1,new Ot(!1,null,!0));else{var i=e.pool_.createXhrIo();e.pendingXhr_=i,null!==e.progressCallback_&&i.addUploadProgressListener(r),i.send(e.url_,e.method_,e.body_,e.headers_).then(function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(r),e.pendingXhr_=null;var i=(n=n).getErrorCode()===z.NO_ERROR,o=n.getStatus();if(i&&!e.isRetryStatusCode_(o)){var a=U(e.successCodes_,o);t(!0,new Ot(a,n))}else{var s=n.getErrorCode()===z.ABORT;t(!1,new Ot(!1,null,s))}})}},t,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=U([408,429],t),r=U(this.additionalRetryCodes_,t);return e||n||r},t}(),Ot=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},Nt=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new Tt(t,function(t,e){return new Et(t,e)},function(t,e,n){var r=A(t.urlParams),i=t.url+r,o=y(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==J.default?J.default.SDK_VERSION:"AppManager")}(o),new It(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)},this,e),this.app_=t,null!=n)this.bucket_=pt.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new pt(r,""))}this.internals_=new At(this)}return t.prototype.ref=function(t){if(k("ref",[R(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Et(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return k("refFromURL",[R(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{pt.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Et(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){k("setMaxUploadRetryTime",[x()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){k("setMaxOperationRetryTime",[x()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),At=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),v(void 0)},t}();e.registerStorage=Q;var Pt="storage";Q(J.default)},uzI5:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("32XG");e.Sha1=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(c=0;c<16;c++)n[c]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(c=0;c<16;c++)n[c]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(c=16;c<80;c++)n[c]=4294967295&((h=n[c-3]^n[c-8]^n[c-14]^n[c-16])<<1|h>>>31);for(var r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],u=this.chain_[3],l=this.chain_[4],c=0;c<80;c++){c<40?c<20?(r=u^a&(s^u),i=1518500249):(r=a^s^u,i=1859775393):c<60?(r=a&s|u&(a|s),i=2400959708):(r=a^s^u,i=3395469782);var h=(o<<5|o>>>27)+r+l+i+n[c]&4294967295;l=u,u=s,s=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;for(this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56)),r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);for(var n=0,r=0;r<5;r++)for(var i=24;i>=0;i-=8)t[n]=this.chain_[r]>>i&255,++n;return t},e}(i.Hash)},vrVh:function(t,e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}}})},wP3s:function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new a(t,e,n))}};var r=n("6Xbx"),i=n("qgI0"),o=n("lI6h"),a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}(),s=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(r.b)(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(i.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},xIGM:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||void 0!==t&&t||i}).call(e,n("fRUx"))},xfHL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("JEJ4"),o=n("F1yO"),a=n("JEJ4"),s=n("JEJ4");e.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,e.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,e.MAX_LEAF_SIZE_=10485760,e.isValidKey=function(t){return"string"==typeof t&&0!==t.length&&!e.INVALID_KEY_REGEX_.test(t)},e.isValidPathString=function(t){return"string"==typeof t&&0!==t.length&&!e.INVALID_PATH_REGEX_.test(t)},e.isValidRootPathString=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),e.isValidPathString(t)},e.isValidPriority=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!o.isInvalidJSONNumber(t)||t&&"object"==typeof t&&i.contains(t,".sv")},e.validateFirebaseDataArg=function(t,n,r,i,o){o&&void 0===r||e.validateFirebaseData(a.errorPrefix(t,n,o),r,i)},e.validateFirebaseData=function(t,n,a){var u=a instanceof r.Path?new r.ValidationPath(a,t):a;if(void 0===n)throw new Error(t+"contains undefined "+u.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+u.toErrorString()+" with contents = "+n.toString());if(o.isInvalidJSONNumber(n))throw new Error(t+"contains "+n.toString()+" "+u.toErrorString());if("string"==typeof n&&n.length>e.MAX_LEAF_SIZE_/3&&s.stringLength(n)>e.MAX_LEAF_SIZE_)throw new Error(t+"contains a string greater than "+e.MAX_LEAF_SIZE_+" utf8 bytes "+u.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var l=!1,c=!1;if(i.forEach(n,function(n,r){if(".value"===n)l=!0;else if(".priority"!==n&&".sv"!==n&&(c=!0,!e.isValidKey(n)))throw new Error(t+" contains an invalid key ("+n+") "+u.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');u.push(n),e.validateFirebaseData(t,r,u),u.pop()}),l&&c)throw new Error(t+' contains ".value" child '+u.toErrorString()+" in addition to actual children.")}},e.validateFirebaseMergePaths=function(t,n){var i,o;for(i=0;i<n.length;i++)for(var a=(o=n[i]).slice(),s=0;s<a.length;s++)if(".priority"===a[s]&&s===a.length-1);else if(!e.isValidKey(a[s]))throw new Error(t+"contains an invalid key ("+a[s]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.sort(r.Path.comparePaths);var u=null;for(i=0;i<n.length;i++){if(o=n[i],null!==u&&u.contains(o))throw new Error(t+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},e.validateFirebaseMergeDataArg=function(t,n,o,s,u){if(!u||void 0!==o){var l=a.errorPrefix(t,n,u);if(!o||"object"!=typeof o||Array.isArray(o))throw new Error(l+" must be an object containing the children to replace.");var c=[];i.forEach(o,function(t,n){var i=new r.Path(t);if(e.validateFirebaseData(l,n,s.child(i)),".priority"===i.getBack()&&!e.isValidPriority(n))throw new Error(l+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(i)}),e.validateFirebaseMergePaths(l,c)}},e.validatePriority=function(t,n,r,i){if(!i||void 0!==r){if(o.isInvalidJSONNumber(r))throw new Error(a.errorPrefix(t,n,i)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!e.isValidPriority(r))throw new Error(a.errorPrefix(t,n,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},e.validateEventType=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.validateKey=function(t,n,r,i){if(!(i&&void 0===r||e.isValidKey(r)))throw new Error(a.errorPrefix(t,n,i)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},e.validatePathString=function(t,n,r,i){if(!(i&&void 0===r||e.isValidPathString(r)))throw new Error(a.errorPrefix(t,n,i)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},e.validateRootPathString=function(t,n,r,i){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),e.validatePathString(t,n,r,i)},e.validateWritablePath=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},e.validateUrl=function(t,n,r){var i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!e.isValidKey(r.repoInfo.namespace)||0!==i.length&&!e.isValidRootPathString(i))throw new Error(a.errorPrefix(t,n,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},e.validateCredential=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a valid credential (a string).")},e.validateBoolean=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a boolean.")},e.validateString=function(t,e,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a valid string.")},e.validateObject=function(t,e,n,r){if(!(r&&void 0===n||n&&"object"==typeof n&&null!==n))throw new Error(a.errorPrefix(t,e,r)+"must be a valid object.")},e.validateObjectContainsKey=function(t,e,n,r,o,s){if(!n||"object"!=typeof n||!i.contains(n,r)){if(o)return;throw new Error(a.errorPrefix(t,e,o)+'must contain the key "'+r+'"')}if(s){var u=i.safeGet(n,r);if("number"===s&&"number"!=typeof u||"string"===s&&"string"!=typeof u||"boolean"===s&&"boolean"!=typeof u||"function"===s&&"function"!=typeof u||"object"===s&&"object"!=typeof u&&u)throw o?new Error(a.errorPrefix(t,e,o)+'contains invalid value for key "'+r+'" (must be of type "'+s+'")'):new Error(a.errorPrefix(t,e,o)+'must contain the key "'+r+'" with type "'+s+'"')}}},xhf5:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("XtH8"),o=n("JEJ4"),a=n("JEJ4"),s=n("JEJ4"),u=n("F1yO"),l=n("fvGz"),c=n("CIVu"),h=n("0hmO"),p=n("JEJ4"),f=n("j0qB"),d=n("JEJ4"),g=n("JEJ4"),y=n("zzcx"),m=1e3,v=3e5;e.PersistentConnection=function(t){function e(n,r,i,o,a,s){var l=t.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=r,l.onConnectStatus_=i,l.onServerInfoUpdate_=o,l.authTokenProvider_=a,l.authOverride_=s,l.id=e.nextPersistentConnectionId_++,l.log_=u.logWrapper("p:"+l.id+":"),l.interruptReasons_={},l.listens_={},l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=m,l.maxReconnectDelay_=v,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,s&&!g.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),c.VisibilityMonitor.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&h.OnlineMonitor.getInstance().on("online",l.onOnline_,l),l}return r(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(a.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&o.contains(t,"w")){var n=o.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();u.warn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||p.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=p.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):u.error("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=m),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,r())};this.realtime_={close:h,sendRequest:function(t){s.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(p).then(function(e){l?u.log("getToken() completed but was canceled"):(u.log("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,c=new f.Connection(i,o.repoInfo_,t,n,r,function(t){u.warn(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),l||(d.CONSTANTS.NODE_ADMIN&&u.warn(t),h())})}},e.prototype.interrupt=function(t){u.log("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){u.log("Resuming connection for reason: "+t),delete this.interruptReasons_[t],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return u.ObjectToUniqueKey(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new l.Path(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===o.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){u.log("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),o.forEach(this.listens_,function(e,n){o.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";d.CONSTANTS.NODE_ADMIN?e="admin_node":d.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+i.default.SDK_VERSION.replace(/\./g,"-")]=1,g.isMobileCordova()?t["framework.cordova"]=1:g.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=h.OnlineMonitor.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(y.ServerActions)},xvZM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9ard"),i=n("qYrH");e.forceLongPolling=function(){r.WebSocketConnection.forceDisallow(),i.BrowserPollConnection.forceAllow()},e.forceWebSockets=function(){i.BrowserPollConnection.forceDisallow()},e.isWebSocketsAvailable=function(){return r.WebSocketConnection.isAvailable()},e.setSecurityDebugCallback=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},e.stats=function(t,e){t.repo.stats(e)},e.statsIncrementCounter=function(t,e){t.repo.statsIncrementCounter(e)},e.dataUpdateCount=function(t){return t.repo.dataUpdateCount},e.interceptServerData=function(t,e){return t.repo.interceptServerData_(e)}},y8hQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CacheNode=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}()},"z8+r":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fvGz"),i=n("/fob"),o=n("r9Yg");e.SparseSnapshotTree=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new o.CountedSet);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(i.PRIORITY_INDEX,function(t,e){n.remember(new r.Path(t),e)}),this.forget(t)}if(null!==this.children_){var o=t.getFront();return t=t.popFront(),this.children_.contains(o)&&this.children_.get(o).forget(t)&&this.children_.remove(o),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,i){var o=new r.Path(t.toString()+"/"+n);i.forEachTree(o,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}()},zFzr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("F1yO");e.NAME_ONLY_COMPARATOR=function(t,e){return r.nameCompare(t.name,e.name)},e.NAME_COMPARATOR=function(t,e){return r.nameCompare(t,e)}},"zPe/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("JEJ4"),i=n("F1yO"),o=n("opdF"),a=1e4,s=3e4;e.StatsReporter=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new o.StatsListener(t);var n=a+(s-a)*Math.random();i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},o=!1;r.forEach(e,function(e,i){i>0&&r.contains(t.statsToReport_,e)&&(n[e]=i,o=!0)}),o&&this.server_.reportStats(n),i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}()},zzcx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServerActions=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}()}},[0]);